var Ri=Object.defineProperty;var Di=Object.getPrototypeOf;var Mi=Reflect.get;var Sr=n=>{throw TypeError(n)};var Bi=(n,t,e)=>t in n?Ri(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var T=(n,t,e)=>Bi(n,typeof t!="symbol"?t+"":t,e),Tn=(n,t,e)=>t.has(n)||Sr("Cannot "+e);var o=(n,t,e)=>(Tn(n,t,"read from private field"),e?e.call(n):t.get(n)),h=(n,t,e)=>t.has(n)?Sr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),_=(n,t,e,r)=>(Tn(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),k=(n,t,e)=>(Tn(n,t,"access private method"),e);var _r=(n,t,e)=>Mi(Di(n),e,t);import{a as Ze,s as tr}from"../chunks/BniEmjqM.js";import{ax as Vi,b as Yr,h as jt,a as Zr,bg as Er,H as ji,j as Ui,k as Wi,l as Ar,U as Nn,aN as Cn,o as Fn,d as Ke,q as zi,f as Qr,x as Tr,bh as Cr,bi as xr,b8 as qi,m as Ir,p as Ge,a9 as Ki,a2 as Pr,ai as Jr,bj as Gi,bk as Hi,c as Xi,e as Yi,s as Zi,$ as M,a0 as F,V as I,ae as N,C as $r,D as y,y as c,ag as W,bl as Or,bf as re,bm as tt,bn as Qi,bo as kr,bp as Ji,ab as $i,ac as Rt,u as Ln,af as to,O as Z,W as Q,bq as Y,a1 as st,br as eo,a8 as no,aa as ro,bs as io,bt as er,Q as et,R as U,X as V,Y as ct,_ as yn,T as Qe,Z as Rn,ad as oo,am as so}from"../chunks/BdwEzn_I.js";import{c as oe}from"../chunks/DgiBHb7J.js";import{I as nr,s as rr,a as ao,i as uo,t as Dn,b as co,e as lo,f as Nr}from"../chunks/BvlJ5lqz.js";import{_ as wn}from"../chunks/Dp1pzeXC.js";import{r as Sn,b as ti,g as fo,c as ho,$ as ei,a as Fr,w as ni}from"../chunks/bwUnXfoF.js";import{p as ir}from"../chunks/PIs4k7Qk.js";import{c as xn,b as or,d as po,e as vo,f as mo,a as go}from"../chunks/psEYtvzk.js";import{l as sr,s as It,p as C,r as ar}from"../chunks/ZPzR1z2S.js";import"../chunks/Z_d5nBXf.js";import{i as Et}from"../chunks/DagnvrFS.js";import{c as bo,X as yo,a as wo,b as So,d as lt,e as Tt,s as _o,t as je,A as Eo,C as Ao}from"../chunks/Bbc8Q9Pj.js";import{b as ri,g as To}from"../chunks/ChZaToT5.js";function Co(){return Symbol(Vi)}const In=0,Ue=1,Pn=2;function xo(n,t,e,r,i){jt&&Zr();var s=n,a=Jr(),u=qi,l=Nn,d,f,p,w=a?Fn(void 0):Pr(void 0,!1,!1),x=a?Fn(void 0):Pr(void 0,!1,!1),b=!1;function m(S,P){b=!0,P&&(Tr(g),Cr(g),xr(u));try{S===In&&e&&(d?Ir(d):d=Ke(()=>e(s))),S===Ue&&r&&(f?Ir(f):f=Ke(()=>r(s,w))),S!==In&&d&&Ge(d,()=>d=null),S!==Ue&&f&&Ge(f,()=>f=null),S!==Pn&&p&&Ge(p,()=>p=null)}finally{P&&(xr(null),Cr(null),Tr(null),Ki())}}var g=Yr(()=>{if(l===(l=t()))return;let S=jt&&Er(l)===(s.data===ji);if(S&&(s=Ui(),Wi(s),Ar(!1),S=!0),Er(l)){var P=l;b=!1,P.then(R=>{P===l&&(Cn(w,R),m(Ue,!0))},R=>{if(P===l)throw Cn(x,R),m(Pn,!0),x.v}),jt?e&&(d=Ke(()=>e(s))):zi(()=>{b||m(In,!0)})}else Cn(w,l),m(Ue,!1);return S&&Ar(!0),()=>l=Nn});jt&&(s=Qr)}function ii(n,t,e){jt&&Zr();var r=n,i=Nn,s,a,u=null,l=Jr()?Gi:Hi;function d(){s&&Ge(s),u!==null&&(u.lastChild.remove(),r.before(u),u=null),s=a}Yr(()=>{if(l(i,i=t())){var f=r,p=Zi();p&&(u=document.createDocumentFragment(),u.append(f=Xi())),a=Ke(()=>e(f)),p?Yi.add_callback(d):d()}}),jt&&(r=Qr)}const Io=!0,hu=Object.freeze(Object.defineProperty({__proto__:null,prerender:Io},Symbol.toStringTag,{value:"Module"})),Lr="en";Sn("en",()=>wn(()=>import("../chunks/Qyax1cwP.js"),[],import.meta.url));Sn("fi",()=>wn(()=>import("../chunks/BRpihtYY.js"),[],import.meta.url));Sn("sv",()=>wn(()=>import("../chunks/UR3G0BYx.js"),[],import.meta.url));Sn("sa",()=>wn(()=>import("../chunks/-XYQ1-VA.js"),[],import.meta.url));ti({fallbackLocale:Lr,initialLocale:fo()||Lr});async function Po(){try{const t=await fetch("https://peacemachine.eu/auth/app-token",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Error ${t.status}: ${await t.text()}`);const e=await t.json();return localStorage.setItem("accessToken",e.access_token),localStorage.setItem("refreshToken",e.refresh_token),e}catch(n){return console.error("Error getting auth token:",n),null}}function Oo(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];nr(n,It({name:"globe"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=M(),u=F(a);rr(u,t,"default",{}),I(i,a)},$$slots:{default:!0}}))}function ko(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];nr(n,It({name:"volume-2"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=M(),u=F(a);rr(u,t,"default",{}),I(i,a)},$$slots:{default:!0}}))}function No(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];nr(n,It({name:"volume-x"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=M(),u=F(a);rr(u,t,"default",{}),I(i,a)},$$slots:{default:!0}}))}function Fo(n){return typeof n=="function"}function Be(n){return n!==null&&typeof n=="object"}const Lo=["string","number","bigint","boolean"];function Mn(n){return n==null||Lo.includes(typeof n)?!0:Array.isArray(n)?n.every(t=>Mn(t)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const se=Symbol("box"),ur=Symbol("is-writable");function Ro(n){return Be(n)&&se in n}function Do(n){return v.isBox(n)&&ur in n}function v(n){let t=N($r(n));return{[se]:!0,[ur]:!0,get current(){return c(t)},set current(e){y(t,e,!0)}}}function Mo(n,t){const e=W(n);return t?{[se]:!0,[ur]:!0,get current(){return c(e)},set current(r){t(r)}}:{[se]:!0,get current(){return n()}}}function Bo(n){return v.isBox(n)?n:Fo(n)?v.with(n):v(n)}function Vo(n){return Object.entries(n).reduce((t,[e,r])=>v.isBox(r)?(v.isWritableBox(r)?Object.defineProperty(t,e,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(t,e,{get(){return r.current}}),t):Object.assign(t,{[e]:r}),{})}function jo(n){return v.isWritableBox(n)?{[se]:!0,get current(){return n.current}}:n}v.from=Bo;v.with=Mo;v.flatten=Vo;v.readonly=jo;v.isBox=Ro;v.isWritableBox=Do;function oi(...n){return function(t){var e;for(const r of n)if(r){if(t.defaultPrevented)return;typeof r=="function"?r.call(this,t):(e=r.current)==null||e.call(this,t)}}}var Bt={},On,Rr;function Uo(){if(Rr)return On;Rr=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,l=`
`,d="/",f="*",p="",w="comment",x="declaration";On=function(m,g){if(typeof m!="string")throw new TypeError("First argument must be a string");if(!m)return[];g=g||{};var S=1,P=1;function R(O){var E=O.match(t);E&&(S+=E.length);var X=O.lastIndexOf(l);P=~X?O.length-X:P+O.length}function G(){var O={line:S,column:P};return function(E){return E.position=new A(O),H(),E}}function A(O){this.start=O,this.end={line:S,column:P},this.source=g.source}A.prototype.content=m;function D(O){var E=new Error(g.source+":"+S+":"+P+": "+O);if(E.reason=O,E.filename=g.source,E.line=S,E.column=P,E.source=m,!g.silent)throw E}function L(O){var E=O.exec(m);if(E){var X=E[0];return R(X),m=m.slice(X.length),E}}function H(){L(e)}function z(O){var E;for(O=O||[];E=J();)E!==!1&&O.push(E);return O}function J(){var O=G();if(!(d!=m.charAt(0)||f!=m.charAt(1))){for(var E=2;p!=m.charAt(E)&&(f!=m.charAt(E)||d!=m.charAt(E+1));)++E;if(E+=2,p===m.charAt(E-1))return D("End of comment missing");var X=m.slice(2,E-2);return P+=2,R(X),m=m.slice(E),P+=2,O({type:w,comment:X})}}function nt(){var O=G(),E=L(r);if(E){if(J(),!L(i))return D("property missing ':'");var X=L(s),En=O({type:x,property:b(E[0].replace(n,p)),value:X?b(X[0].replace(n,p)):p});return L(a),En}}function gt(){var O=[];z(O);for(var E;E=nt();)E!==!1&&(O.push(E),z(O));return O}return H(),gt()};function b(m){return m?m.replace(u,p):p}return On}var Dr;function Wo(){if(Dr)return Bt;Dr=1;var n=Bt&&Bt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=e;var t=n(Uo());function e(r,i){var s=null;if(!r||typeof r!="string")return s;var a=(0,t.default)(r),u=typeof i=="function";return a.forEach(function(l){if(l.type==="declaration"){var d=l.property,f=l.value;u?i(d,f,l):f&&(s=s||{},s[d]=f)}}),s}return Bt}var zo=Wo();const Mr=ho(zo),qo=Mr.default||Mr,Ko=/\d/,Go=["-","_","/","."];function Ho(n=""){if(!Ko.test(n))return n!==n.toLowerCase()}function Xo(n){const t=[];let e="",r,i;for(const s of n){const a=Go.includes(s);if(a===!0){t.push(e),e="",r=void 0;continue}const u=Ho(s);if(i===!1){if(r===!1&&u===!0){t.push(e),e=s,r=u;continue}if(r===!0&&u===!1&&e.length>1){const l=e.at(-1);t.push(e.slice(0,Math.max(0,e.length-1))),e=l+s,r=u;continue}}e+=s,r=u,i=a}return t.push(e),t}function si(n){return n?Xo(n).map(t=>Zo(t)).join(""):""}function Yo(n){return Qo(si(n||""))}function Zo(n){return n?n[0].toUpperCase()+n.slice(1):""}function Qo(n){return n?n[0].toLowerCase()+n.slice(1):""}function We(n){if(!n)return{};const t={};function e(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){t[si(r)]=i;return}if(r.startsWith("--")){t[r]=i;return}t[Yo(r)]=i}return qo(n,e),t}function Ut(...n){return(...t)=>{for(const e of n)typeof e=="function"&&e(...t)}}function Jo(n,t){const e=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(e)?r.replace(e,t):r}}const $o=Jo(/[A-Z]/,n=>`-${n.toLowerCase()}`);function ts(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(t=>`${$o(t)}: ${n[t]};`).join(`
`)}function ai(n={}){return ts(n).replace(`
`," ")}const es={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};ai(es);const ns=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],rs=new Set(ns);function is(n){return rs.has(n)}function Dt(...n){const t={...n[0]};for(let e=1;e<n.length;e++){const r=n[e];if(r){for(const i of Object.keys(r)){const s=t[i],a=r[i],u=typeof s=="function",l=typeof a=="function";if(u&&is(i)){const d=s,f=a;t[i]=oi(d,f)}else if(u&&l)t[i]=Ut(s,a);else if(i==="class"){const d=Mn(s),f=Mn(a);d&&f?t[i]=xn(s,a):d?t[i]=xn(s):f&&(t[i]=xn(a))}else if(i==="style"){const d=typeof s=="object",f=typeof a=="object",p=typeof s=="string",w=typeof a=="string";if(d&&f)t[i]={...s,...a};else if(d&&w){const x=We(a);t[i]={...s,...x}}else if(p&&f){const x=We(s);t[i]={...x,...a}}else if(p&&w){const x=We(s),b=We(a);t[i]={...x,...b}}else d?t[i]=s:f?t[i]=a:p?t[i]=s:w&&(t[i]=a)}else t[i]=a!==void 0?a:s}for(const i of Object.getOwnPropertySymbols(r)){const s=t[i],a=r[i];t[i]=a!==void 0?a:s}}}return typeof t.style=="object"&&(t.style=ai(t.style).replaceAll(`
`," ")),t.hidden!==!0&&(t.hidden=void 0,delete t.hidden),t.disabled!==!0&&(t.disabled=void 0,delete t.disabled),t}const os=typeof window<"u"?window:void 0;function ss(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var at,ut,dt,nn,ot,ie,He;const fr=class fr extends Map{constructor(e){super();h(this,ot);h(this,at,new Map);h(this,ut,N(0));h(this,dt,N(0));h(this,nn,Or||-1);if(e){for(var[r,i]of e)super.set(r,i);o(this,dt).v=super.size}}has(e){var r=o(this,at),i=r.get(e);if(i===void 0){var s=super.get(e);if(s!==void 0)i=k(this,ot,ie).call(this,0),r.set(e,i);else return c(o(this,ut)),!1}return c(i),!0}forEach(e,r){k(this,ot,He).call(this),super.forEach(e,r)}get(e){var r=o(this,at),i=r.get(e);if(i===void 0){var s=super.get(e);if(s!==void 0)i=k(this,ot,ie).call(this,0),r.set(e,i);else{c(o(this,ut));return}}return c(i),super.get(e)}set(e,r){var p;var i=o(this,at),s=i.get(e),a=super.get(e),u=super.set(e,r),l=o(this,ut);if(s===void 0)s=k(this,ot,ie).call(this,0),i.set(e,s),y(o(this,dt),super.size),re(l);else if(a!==r){re(s);var d=l.reactions===null?null:new Set(l.reactions),f=d===null||!((p=s.reactions)!=null&&p.every(w=>d.has(w)));f&&re(l)}return u}delete(e){var r=o(this,at),i=r.get(e),s=super.delete(e);return i!==void 0&&(r.delete(e),y(o(this,dt),super.size),y(i,-1),re(o(this,ut))),s}clear(){if(super.size!==0){super.clear();var e=o(this,at);y(o(this,dt),0);for(var r of e.values())y(r,-1);re(o(this,ut)),e.clear()}}keys(){return c(o(this,ut)),super.keys()}values(){return k(this,ot,He).call(this),super.values()}entries(){return k(this,ot,He).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return c(o(this,dt)),super.size}};at=new WeakMap,ut=new WeakMap,dt=new WeakMap,nn=new WeakMap,ot=new WeakSet,ie=function(e){return Or===o(this,nn)?N(e):Fn(e)},He=function(){c(o(this,ut));var e=o(this,at);if(o(this,dt).v!==e.size){for(var r of _r(fr.prototype,this,"keys").call(this))if(!e.has(r)){var i=k(this,ot,ie).call(this,0);e.set(r,i)}}for([,i]of o(this,at))c(i)};let Bn=fr;var Wt,ae;class as{constructor(t={}){h(this,Wt);h(this,ae);const{window:e=os,document:r=e==null?void 0:e.document}=t;e!==void 0&&(_(this,Wt,r),_(this,ae,bo(i=>{const s=tt(e,"focusin",i),a=tt(e,"focusout",i);return()=>{s(),a()}})))}get current(){var t;return(t=o(this,ae))==null||t.call(this),o(this,Wt)?ss(o(this,Wt)):null}}Wt=new WeakMap,ae=new WeakMap;new as;var ue,ft;class ui{constructor(t){h(this,ue);h(this,ft);_(this,ue,t),_(this,ft,Symbol(t))}get key(){return o(this,ft)}exists(){return Qi(o(this,ft))}get(){const t=kr(o(this,ft));if(t===void 0)throw new Error(`Context "${o(this,ue)}" not found`);return t}getOr(t){const e=kr(o(this,ft));return e===void 0?t:e}set(t){return Ji(o(this,ft),t)}}ue=new WeakMap,ft=new WeakMap;function us(n,t){switch(n){case"post":Rt(t);break;case"pre":$i(t);break}}function ci(n,t,e,r={}){const{lazy:i=!1}=r;let s=!i,a=Array.isArray(n)?[]:void 0;us(t,()=>{const u=Array.isArray(n)?n.map(d=>d()):n();if(!s){s=!0,a=u;return}const l=Ln(()=>e(u,a));return a=u,l})}function it(n,t,e){ci(n,"post",t,e)}function cs(n,t,e){ci(n,"pre",t,e)}it.pre=cs;var zt;class ls{constructor(t,e){h(this,zt,N(void 0));e!==void 0&&y(o(this,zt),e,!0),it(()=>t(),(r,i)=>{y(o(this,zt),i,!0)})}get current(){return c(o(this,zt))}}zt=new WeakMap;function Ve(n){Rt(()=>()=>{n()})}function li(n,t){return setTimeout(t,n)}function cr(n){to().then(n)}const ds=1,fs=9,hs=11;function Br(n){return Be(n)&&n.nodeType===ds&&typeof n.nodeName=="string"}function ps(n){return Be(n)&&n.nodeType===fs}function vs(n){var t;return Be(n)&&((t=n.constructor)==null?void 0:t.name)==="VisualViewport"}function ms(n){return Be(n)&&n.nodeType!==void 0}function gs(n){return ms(n)&&n.nodeType===hs&&"host"in n}function bs(n,t){var r;if(!n||!t||!Br(n)||!Br(t))return!1;const e=(r=t.getRootNode)==null?void 0:r.call(t);if(n===t||n.contains(t))return!0;if(e&&gs(e)){let i=t;for(;i;){if(n===i)return!0;i=i.parentNode||i.host}}return!1}function ys(n){return ps(n)?n:vs(n)?n.document:(n==null?void 0:n.ownerDocument)??document}function ws(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var ce;class di{constructor(t){T(this,"element");h(this,ce,W(()=>this.element.current?this.element.current.getRootNode()??document:document));T(this,"getDocument",()=>ys(this.root));T(this,"getWindow",()=>this.getDocument().defaultView??window);T(this,"getActiveElement",()=>ws(this.root));T(this,"isActiveElement",t=>t===this.getActiveElement());T(this,"querySelector",t=>this.root?this.root.querySelector(t):null);T(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);T(this,"setTimeout",(t,e)=>this.getWindow().setTimeout(t,e));T(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=v.with(t):this.element=t}get root(){return c(o(this,ce))}set root(t){y(o(this,ce),t)}getElementById(t){return this.root.getElementById(t)}}ce=new WeakMap;function lr(n,t){return{[Co()]:e=>v.isBox(n)?(n.current=e,Ln(()=>t==null?void 0:t(e)),()=>{"isConnected"in e&&e.isConnected||(n.current=null,t==null||t(null))}):(n(e),Ln(()=>t==null?void 0:t(e)),()=>{"isConnected"in e&&e.isConnected||(n(null),t==null||t(null))})}}function Ss(n){return n?"open":"closed"}var qt,le;class _s{constructor(t){h(this,qt);h(this,le);T(this,"attrs");_(this,qt,t.getVariant?t.getVariant():null),_(this,le,o(this,qt)?`data-${o(this,qt)}-`:`data-${t.component}-`),this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(t.parts.map(e=>[e,this.getAttr(e)]))}getAttr(t,e){return e?`data-${e}-${t}`:`${o(this,le)}${t}`}selector(t,e){return`[${this.getAttr(t,e)}]`}}qt=new WeakMap,le=new WeakMap;function Es(n){const t=new _s(n);return{...t.attrs,selector:t.selector,getAttr:t.getAttr}}const As="Enter",Ts="Escape",Cs=" ";function j(){}function dr(n,t){return`bits-${n}`}var de,rn,fi;class xs{constructor(t,e){h(this,rn);T(this,"state");h(this,de);this.state=v(t),_(this,de,e),this.dispatch=this.dispatch.bind(this)}dispatch(t){this.state.current=k(this,rn,fi).call(this,t)}}de=new WeakMap,rn=new WeakSet,fi=function(t){return o(this,de)[this.state.current][t]??this.state.current};const Is={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var fe,he,pe;class Ps{constructor(t){T(this,"opts");h(this,fe,N("none"));h(this,he,N($r({})));T(this,"initialStatus");T(this,"previousPresent");T(this,"machine");T(this,"present");h(this,pe,W(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new ls(()=>this.present.current),this.machine=new xs(this.initialStatus,Is),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),Os(this),ks(this),Ns(this)}get prevAnimationNameState(){return c(o(this,fe))}set prevAnimationNameState(t){y(o(this,fe),t,!0)}get styles(){return c(o(this,he))}set styles(t){y(o(this,he),t,!0)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=Je(this.opts.ref.current),r=e.includes(t.animationName)||e==="none";t.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=Je(this.opts.ref.current))}get isPresent(){return c(o(this,pe))}set isPresent(t){y(o(this,pe),t)}}fe=new WeakMap,he=new WeakMap,pe=new WeakMap;function Os(n){it(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const e=n.prevAnimationNameState,r=Je(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const i=e!==r;n.previousPresent.current&&i?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function ks(n){it(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const t=Je(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?t:"none"})}function Ns(n){it(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),Ut(tt(n.opts.ref.current,"animationstart",n.handleAnimationStart),tt(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),tt(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function Je(n){return n&&getComputedStyle(n).animationName||"none"}function hi(n,t){Z(t,!0);const e=new Ps({open:v.with(()=>t.open),ref:t.ref});var r=M(),i=F(r);{var s=a=>{var u=M(),l=F(u);Y(l,()=>t.presence??st,()=>({present:e.isPresent})),I(a,u)};Et(i,a=>{(t.forceMount||t.open||e.isPresent)&&a(s)})}I(n,r),Q()}var Kt,Pt,bt,mt,Vn,Xe;class Fs{constructor(t){h(this,mt);h(this,Kt);h(this,Pt);h(this,bt,!1);_(this,Kt,t),Ve(()=>k(this,mt,Vn).call(this))}run(t){if(o(this,bt))return;k(this,mt,Vn).call(this),_(this,bt,!0);const e=o(this,Kt).ref.current;if(!e){_(this,bt,!1);return}if(typeof e.getAnimations!="function"){k(this,mt,Xe).call(this,t);return}_(this,Pt,window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){k(this,mt,Xe).call(this,t);return}Promise.allSettled(r.map(i=>i.finished)).then(()=>{k(this,mt,Xe).call(this,t)})}))}}Kt=new WeakMap,Pt=new WeakMap,bt=new WeakMap,mt=new WeakSet,Vn=function(){o(this,Pt)&&(window.cancelAnimationFrame(o(this,Pt)),_(this,Pt,void 0)),_(this,bt,!1)},Xe=function(t){const e=()=>{t(),_(this,bt,!1)};o(this,Kt).afterTick?cr(e):e()};var ht,ve,me;class Ls{constructor(t){h(this,ht);h(this,ve);h(this,me);_(this,ht,t),_(this,ve,t.enabled??!0),_(this,me,new Fs({ref:o(this,ht).ref,afterTick:o(this,ht).open})),it([()=>o(this,ht).open.current],([e])=>{o(this,ve)&&o(this,me).run(()=>{e===o(this,ht).open.current&&o(this,ht).onComplete()})})}}ht=new WeakMap,ve=new WeakMap,me=new WeakMap;const Rs=Es({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),_n=new ui("Dialog.Root | AlertDialog.Root");var ge,be,ye,we,Se,_e,Ee,Ae,Te;const hr=class hr{constructor(t){T(this,"opts");h(this,ge,N(null));h(this,be,N(null));h(this,ye,N(null));h(this,we,N(void 0));h(this,Se,N(void 0));h(this,_e,N(void 0));h(this,Ee,N(void 0));h(this,Ae,N(null));T(this,"getBitsAttr",t=>Rs.getAttr(t,this.opts.variant.current));h(this,Te,W(()=>({"data-state":Ss(this.opts.open.current)})));this.opts=t,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new Ls({ref:v.with(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}static create(t){return _n.set(new hr(t))}get triggerNode(){return c(o(this,ge))}set triggerNode(t){y(o(this,ge),t,!0)}get contentNode(){return c(o(this,be))}set contentNode(t){y(o(this,be),t,!0)}get descriptionNode(){return c(o(this,ye))}set descriptionNode(t){y(o(this,ye),t,!0)}get contentId(){return c(o(this,we))}set contentId(t){y(o(this,we),t,!0)}get titleId(){return c(o(this,Se))}set titleId(t){y(o(this,Se),t,!0)}get triggerId(){return c(o(this,_e))}set triggerId(t){y(o(this,_e),t,!0)}get descriptionId(){return c(o(this,Ee))}set descriptionId(t){y(o(this,Ee),t,!0)}get cancelNode(){return c(o(this,Ae))}set cancelNode(t){y(o(this,Ae),t,!0)}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}get sharedProps(){return c(o(this,Te))}set sharedProps(t){y(o(this,Te),t)}};ge=new WeakMap,be=new WeakMap,ye=new WeakMap,we=new WeakMap,Se=new WeakMap,_e=new WeakMap,Ee=new WeakMap,Ae=new WeakMap,Te=new WeakMap;let jn=hr;var Ce;const pr=class pr{constructor(t,e){T(this,"opts");T(this,"root");T(this,"attachment");h(this,Ce,W(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}static create(t){return new pr(t,_n.get())}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleClose()}onkeydown(t){this.opts.disabled.current||(t.key===Cs||t.key===As)&&(t.preventDefault(),this.root.handleClose())}get props(){return c(o(this,Ce))}set props(t){y(o(this,Ce),t)}};Ce=new WeakMap;let Un=pr;var xe,Ie;const vr=class vr{constructor(t,e){T(this,"opts");T(this,"root");T(this,"attachment");h(this,xe,W(()=>({open:this.root.opts.open.current})));h(this,Ie,W(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref,r=>{this.root.contentNode=r,this.root.contentId=r==null?void 0:r.id})}static create(t){return new vr(t,_n.get())}get snippetProps(){return c(o(this,xe))}set snippetProps(t){y(o(this,xe),t)}get props(){return c(o(this,Ie))}set props(t){y(o(this,Ie),t)}};xe=new WeakMap,Ie=new WeakMap;let Wn=vr;var Pe,Oe;const mr=class mr{constructor(t,e){T(this,"opts");T(this,"root");T(this,"attachment");h(this,Pe,W(()=>({open:this.root.opts.open.current})));h(this,Oe,W(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref)}static create(t){return new mr(t,_n.get())}get snippetProps(){return c(o(this,Pe))}set snippetProps(t){y(o(this,Pe),t)}get props(){return c(o(this,Oe))}set props(t){y(o(this,Oe),t)}};Pe=new WeakMap,Oe=new WeakMap;let zn=mr;function Ds(n,t){var e=M(),r=F(e);ii(r,()=>t.children,i=>{var s=M(),a=F(s);Y(a,()=>t.children??st),I(i,s)}),I(n,e)}const pi=typeof document<"u",Vr=Ms();function Ms(){var n,t;return pi&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function jr(n){return n instanceof HTMLElement}function Bs(n){return n instanceof Element}const Vs=new ui("BitsConfig");function js(){const n=new Us(null,{});return Vs.getOr(n).opts}class Us{constructor(t,e){T(this,"opts");const r=Ws(t,e);this.opts={defaultPortalTo:r(i=>i.defaultPortalTo),defaultLocale:r(i=>i.defaultLocale)}}}function Ws(n,t){return e=>v.with(()=>{var s,a;const i=(s=e(t))==null?void 0:s.current;if(i!==void 0)return i;if(n!==null)return(a=e(n.opts))==null?void 0:a.current})}function zs(n,t){return e=>{const r=js();return v.with(()=>{const i=e();if(i!==void 0)return i;const s=n(r).current;return s!==void 0?s:t})}}const qs=zs(n=>n.defaultPortalTo,"body");function Ks(n,t){Z(t,!0);const e=qs(()=>t.to),r=eo();let i=W(s);function s(){if(!pi||t.disabled)return null;let p=null;return typeof e.current=="string"?p=document.querySelector(e.current):p=e.current,p}let a;function u(){a&&(ro(a),a=null)}it([()=>c(i),()=>t.disabled],([p,w])=>{if(!p||w){u();return}return a=no(Ds,{target:p,props:{children:t.children},context:r}),()=>{u()}});var l=M(),d=F(l);{var f=p=>{var w=M(),x=F(w);Y(x,()=>t.children??st),I(p,w)};Et(d,p=>{t.disabled&&p(f)})}I(n,l),Q()}function vi(n,t,e,r){const i=Array.isArray(t)?t:[t];return i.forEach(s=>n.addEventListener(s,e,r)),()=>{i.forEach(s=>n.removeEventListener(s,e,r))}}function Ur(n,t=500){let e=null;const r=(...i)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...i)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function mi(n,t){return n===t||n.contains(t)}function gi(n){return(n==null?void 0:n.ownerDocument)??document}function Gs(n,t){const{clientX:e,clientY:r}=n,i=t.getBoundingClientRect();return e<i.left||e>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var Gt,Ot,yt,Ht,Xt,wt,ke,pt,on,$t,bi,sn,Yt,an,un,cn,ln,Ne,yi,dn,fn;const gr=class gr{constructor(t){h(this,$t);T(this,"opts");h(this,Gt);h(this,Ot);h(this,yt,{pointerdown:!1});h(this,Ht,!1);h(this,Xt,!1);h(this,wt);h(this,ke);h(this,pt,j);h(this,on,t=>{t.defaultPrevented||this.opts.ref.current&&cr(()=>{var e,r;!this.opts.ref.current||o(this,ln).call(this,t.target)||t.target&&!o(this,Xt)&&((r=(e=o(this,ke)).current)==null||r.call(e,t))})});h(this,sn,t=>{let e=t;e.defaultPrevented&&(e=Wr(t)),o(this,Gt).current(t)});h(this,Yt,Ur(t=>{if(!this.opts.ref.current){o(this,pt).call(this);return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||Ys(t,this.opts.ref.current);if(!o(this,Ht)||k(this,$t,yi).call(this)||!e){o(this,pt).call(this);return}let r=t;if(r.defaultPrevented&&(r=Wr(r)),o(this,Ot).current!=="close"&&o(this,Ot).current!=="defer-otherwise-close"){o(this,pt).call(this);return}t.pointerType==="touch"?(o(this,pt).call(this),_(this,pt,vi(o(this,wt),"click",o(this,sn),{once:!0}))):o(this,Gt).current(r)},10));h(this,an,t=>{o(this,yt)[t.type]=!0});h(this,un,t=>{o(this,yt)[t.type]=!1});h(this,cn,()=>{this.opts.ref.current&&_(this,Ht,Xs(this.opts.ref.current))});h(this,ln,t=>this.opts.ref.current?mi(this.opts.ref.current,t):!1);h(this,Ne,Ur(()=>{for(const t in o(this,yt))o(this,yt)[t]=!1;_(this,Ht,!1)},20));h(this,dn,()=>{_(this,Xt,!0)});h(this,fn,()=>{_(this,Xt,!1)});T(this,"props",{onfocuscapture:o(this,dn),onblurcapture:o(this,fn)});this.opts=t,_(this,Ot,t.interactOutsideBehavior),_(this,Gt,t.onInteractOutside),_(this,ke,t.onFocusOutside),Rt(()=>{_(this,wt,gi(this.opts.ref.current))});let e=j;const r=()=>{o(this,Ne).call(this),globalThis.bitsDismissableLayers.delete(this),o(this,Yt).destroy(),e()};it([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return li(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,o(this,Ot)),e(),e=k(this,$t,bi).call(this))}),r}),Ve(()=>{o(this,Ne).destroy(),globalThis.bitsDismissableLayers.delete(this),o(this,Yt).destroy(),o(this,pt).call(this),e()})}static create(t){return new gr(t)}};Gt=new WeakMap,Ot=new WeakMap,yt=new WeakMap,Ht=new WeakMap,Xt=new WeakMap,wt=new WeakMap,ke=new WeakMap,pt=new WeakMap,on=new WeakMap,$t=new WeakSet,bi=function(){return Ut(tt(o(this,wt),"pointerdown",Ut(o(this,an),o(this,cn)),{capture:!0}),tt(o(this,wt),"pointerdown",Ut(o(this,un),o(this,Yt))),tt(o(this,wt),"focusin",o(this,on)))},sn=new WeakMap,Yt=new WeakMap,an=new WeakMap,un=new WeakMap,cn=new WeakMap,ln=new WeakMap,Ne=new WeakMap,yi=function(){return Object.values(o(this,yt)).some(Boolean)},dn=new WeakMap,fn=new WeakMap;let qn=gr;function Hs(n){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function Xs(n){const t=[...globalThis.bitsDismissableLayers],e=Hs(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function Ys(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return Bs(e)?gi(e).documentElement.contains(e)&&!mi(t,e)&&Gs(n,t):!1}function Wr(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(a,u)=>u==="currentTarget"?t:u==="target"?e:u==="preventDefault"?()=>{i=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:u==="defaultPrevented"?i:u in a?a[u]:n[u]})}function Zs(n,t){Z(t,!0);let e=C(t,"interactOutsideBehavior",3,"close"),r=C(t,"onInteractOutside",3,j),i=C(t,"onFocusOutside",3,j),s=C(t,"isValidEvent",3,()=>!1);const a=qn.create({id:v.with(()=>t.id),interactOutsideBehavior:v.with(()=>e()),onInteractOutside:v.with(()=>r()),enabled:v.with(()=>t.enabled),onFocusOutside:v.with(()=>i()),isValidEvent:v.with(()=>s()),ref:t.ref});var u=M(),l=F(u);Y(l,()=>t.children??st,()=>({props:a.props})),I(n,u),Q()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var hn,pn;const br=class br{constructor(t){T(this,"opts");T(this,"domContext");h(this,hn,()=>tt(this.domContext.getDocument(),"keydown",o(this,pn),{passive:!1}));h(this,pn,t=>{if(t.key!==Ts||!Qs(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)});this.opts=t,this.domContext=new di(this.opts.ref);let e=j;it(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=o(this,hn).call(this)),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}static create(t){return new br(t)}};hn=new WeakMap,pn=new WeakMap;let Kn=br;function Qs(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function Js(n,t){Z(t,!0);let e=C(t,"escapeKeydownBehavior",3,"close"),r=C(t,"onEscapeKeydown",3,j);Kn.create({escapeKeydownBehavior:v.with(()=>e()),onEscapeKeydown:v.with(()=>r()),enabled:v.with(()=>t.enabled),ref:t.ref});var i=M(),s=F(i);Y(s,()=>t.children??st),I(n,i),Q()}var vt,Fe;const vn=class vn{constructor(){h(this,vt,v([]));h(this,Fe,new WeakMap)}static getInstance(){return this.instance||(this.instance=new vn),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause(),o(this,vt).current=o(this,vt).current.filter(r=>r!==t),o(this,vt).current.unshift(t)}unregister(t){o(this,vt).current=o(this,vt).current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return o(this,vt).current[0]}setFocusMemory(t,e){o(this,Fe).set(t,e)}getFocusMemory(t){return o(this,Fe).get(t)}isActiveScope(t){return this.getActive()===t}};vt=new WeakMap,Fe=new WeakMap,T(vn,"instance");let Gn=vn;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var wi=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Hn=wi.join(","),Si=typeof Element>"u",Jt=Si?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$e=!Si&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},tn=function n(t,e){var r;e===void 0&&(e=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=i===""||i==="true",a=s||e&&t&&n(t.parentNode);return a},$s=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},_i=function(t,e,r){if(tn(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Hn));return e&&Jt.call(t,Hn)&&i.unshift(t),i=i.filter(r),i},Ei=function n(t,e,r){for(var i=[],s=Array.from(t);s.length;){var a=s.shift();if(!tn(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),l=u.length?u:a.children,d=n(l,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else{var f=Jt.call(a,Hn);f&&r.filter(a)&&(e||!t.includes(a))&&i.push(a);var p=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),w=!tn(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(p&&w){var x=n(p===!0?a.children:p.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:a,candidates:x})}else s.unshift.apply(s,a.children)}}return i},Ai=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ti=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||$s(t))&&!Ai(t)?0:t.tabIndex},ta=function(t,e){var r=Ti(t);return r<0&&e&&!Ai(t)?0:r},ea=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Ci=function(t){return t.tagName==="INPUT"},na=function(t){return Ci(t)&&t.type==="hidden"},ra=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},ia=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},oa=function(t){if(!t.name)return!0;var e=t.form||$e(t),r=function(u){return e.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=ia(i,t.form);return!s||s===t},sa=function(t){return Ci(t)&&t.type==="radio"},aa=function(t){return sa(t)&&!oa(t)},ua=function(t){var e,r=t&&$e(t),i=(e=r)===null||e===void 0?void 0:e.host,s=!1;if(r&&r!==t){var a,u,l;for(s=!!((a=i)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(i)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!s&&i;){var d,f,p;r=$e(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(p=f.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return s},zr=function(t){var e=t.getBoundingClientRect(),r=e.width,i=e.height;return r===0&&i===0},ca=function(t,e){var r=e.displayCheck,i=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=Jt.call(t,"details>summary:first-of-type"),a=s?t.parentElement:t;if(Jt.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var u=t;t;){var l=t.parentElement,d=$e(t);if(l&&!l.shadowRoot&&i(l)===!0)return zr(t);t.assignedSlot?t=t.assignedSlot:!l&&d!==t.ownerDocument?t=d.host:t=l}t=u}if(ua(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return zr(t);return!1},la=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var i=e.children.item(r);if(i.tagName==="LEGEND")return Jt.call(e,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}e=e.parentElement}return!1},en=function(t,e){return!(e.disabled||tn(e)||na(e)||ca(e,t)||ra(e)||la(e))},qr=function(t,e){return!(aa(e)||Ti(e)<0||!en(t,e))},da=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},fa=function n(t){var e=[],r=[];return t.forEach(function(i,s){var a=!!i.scopeParent,u=a?i.scopeParent:i,l=ta(u,a),d=a?n(i.candidates):u;l===0?a?e.push.apply(e,d):e.push(u):r.push({documentOrder:s,tabIndex:l,item:i,isScope:a,content:d})}),r.sort(ea).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(e)},ha=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ei([t],e.includeContainer,{filter:qr.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:da}):r=_i(t,e.includeContainer,qr.bind(null,e)),fa(r)},pa=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ei([t],e.includeContainer,{filter:en.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=_i(t,e.includeContainer,en.bind(null,e)),r},va=wi.concat("iframe").join(","),ma=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Jt.call(t,va)===!1?!1:en(e,t)},St,K,rt,kt,_t,B,xi,Ii,Pi,Oi,Yn,Ye,Zn;const yr=class yr{constructor(t){h(this,B);h(this,St,!1);h(this,K,null);h(this,rt,Gn.getInstance());h(this,kt,[]);h(this,_t);_(this,_t,t)}get paused(){return o(this,St)}pause(){_(this,St,!0)}resume(){_(this,St,!1)}mount(t){o(this,K)&&this.unmount(),_(this,K,t),o(this,rt).register(this),k(this,B,Oi).call(this),k(this,B,Ii).call(this)}unmount(){o(this,K)&&(k(this,B,xi).call(this),k(this,B,Pi).call(this),o(this,rt).unregister(this),_(this,K,null))}static use(t){let e=null;return it([()=>t.ref.current,()=>t.enabled.current],([r,i])=>{r&&i?(e||(e=new yr(t)),e.mount(r)):e&&(e.unmount(),e=null)}),Ve(()=>{e==null||e.unmount()}),{get props(){return{tabindex:-1}}}}};St=new WeakMap,K=new WeakMap,rt=new WeakMap,kt=new WeakMap,_t=new WeakMap,B=new WeakSet,xi=function(){for(const t of o(this,kt))t();_(this,kt,[])},Ii=function(){if(!o(this,K))return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});o(this,_t).onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!o(this,K))return;const e=k(this,B,Ye).call(this);e?(e.focus(),o(this,rt).setFocusMemory(this,e)):o(this,K).focus()})},Pi=function(){var e,r;const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if((r=(e=o(this,_t).onCloseAutoFocus).current)==null||r.call(e,t),!t.defaultPrevented){const i=document.activeElement;i&&i!==document.body&&i.focus()}},Oi=function(){if(!o(this,K)||!o(this,_t).trap.current)return;const t=o(this,K),e=t.ownerDocument,r=a=>{if(o(this,St)||!o(this,rt).isActiveScope(this))return;const u=a.target;if(!u)return;if(t.contains(u))o(this,rt).setFocusMemory(this,u);else{const d=o(this,rt).getFocusMemory(this);if(d&&t.contains(d)&&ma(d))a.preventDefault(),d.focus();else{const f=k(this,B,Ye).call(this),p=k(this,B,Zn).call(this)[0];(f||p||t).focus()}}},i=a=>{if(!o(this,_t).loop||o(this,St)||a.key!=="Tab"||!o(this,rt).isActiveScope(this))return;const u=k(this,B,Yn).call(this);if(u.length<2)return;const l=u[0],d=u[u.length-1];!a.shiftKey&&e.activeElement===d?(a.preventDefault(),l.focus()):a.shiftKey&&e.activeElement===l&&(a.preventDefault(),d.focus())};o(this,kt).push(tt(e,"focusin",r,{capture:!0}),tt(t,"keydown",i));const s=new MutationObserver(()=>{const a=o(this,rt).getFocusMemory(this);if(a&&!t.contains(a)){const u=k(this,B,Ye).call(this),l=k(this,B,Zn).call(this)[0],d=u||l;d?(d.focus(),o(this,rt).setFocusMemory(this,d)):t.focus()}});s.observe(t,{childList:!0,subtree:!0}),o(this,kt).push(()=>s.disconnect())},Yn=function(){return o(this,K)?ha(o(this,K),{includeContainer:!1,getShadowRoot:!0}):[]},Ye=function(){return k(this,B,Yn).call(this)[0]||null},Zn=function(){return o(this,K)?pa(o(this,K),{includeContainer:!1,getShadowRoot:!0}):[]};let Xn=yr;function ga(n,t){Z(t,!0);let e=C(t,"enabled",3,!1),r=C(t,"trapFocus",3,!1),i=C(t,"loop",3,!1),s=C(t,"onCloseAutoFocus",3,j),a=C(t,"onOpenAutoFocus",3,j);const u=Xn.use({enabled:v.with(()=>e()),trap:v.with(()=>r()),loop:i(),onCloseAutoFocus:v.with(()=>s()),onOpenAutoFocus:v.with(()=>a()),ref:t.ref});var l=M(),d=F(l);Y(d,()=>t.focusScope??st,()=>({props:u.props})),I(n,l),Q()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var Zt,mn,ki,gn,Le;const wr=class wr{constructor(t){h(this,mn);T(this,"opts");T(this,"domContext");h(this,Zt,j);h(this,gn,t=>{const e=this.opts.ref.current,r=t.target;!jr(e)||!jr(r)||!this.opts.enabled.current||!ya(this)||!bs(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&_(this,Zt,ba(e,this.domContext.getDocument().body)))});h(this,Le,()=>{o(this,Zt).call(this),_(this,Zt,j)});this.opts=t,this.domContext=new di(t.ref);let e=j;it(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=k(this,mn,ki).call(this)),()=>{e(),o(this,Le).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(t){return new wr(t)}};Zt=new WeakMap,mn=new WeakSet,ki=function(){return Ut(tt(this.domContext.getDocument(),"pointerdown",o(this,gn)),tt(this.domContext.getDocument(),"pointerup",oi(o(this,Le),this.opts.onPointerUp.current)))},gn=new WeakMap,Le=new WeakMap;let Qn=wr;const Kr=n=>n.style.userSelect||n.style.webkitUserSelect;function ba(n,t){const e=Kr(t),r=Kr(n);return ze(t,"none"),ze(n,"text"),()=>{ze(t,e),ze(n,r)}}function ze(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function ya(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function wa(n,t){Z(t,!0);let e=C(t,"preventOverflowTextSelection",3,!0),r=C(t,"onPointerDown",3,j),i=C(t,"onPointerUp",3,j);Qn.create({id:v.with(()=>t.id),onPointerDown:v.with(()=>r()),onPointerUp:v.with(()=>i()),enabled:v.with(()=>t.enabled&&e()),ref:t.ref});var s=M(),a=F(s);Y(a,()=>t.children??st),I(n,s),Q()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Sa(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}var Re,Qt,Nt,Ft,bn,Ni;class _a{constructor(t){h(this,bn);h(this,Re);h(this,Qt,0);h(this,Nt,N());h(this,Ft);_(this,Re,t)}get(...t){return _(this,Qt,o(this,Qt)+1),c(o(this,Nt))===void 0&&_(this,Ft,io(()=>{y(o(this,Nt),o(this,Re).call(this,...t),!0)})),Rt(()=>()=>{k(this,bn,Ni).call(this)}),c(o(this,Nt))}}Re=new WeakMap,Qt=new WeakMap,Nt=new WeakMap,Ft=new WeakMap,bn=new WeakSet,Ni=function(){_(this,Qt,o(this,Qt)-1),o(this,Ft)&&o(this,Qt)<=0&&(o(this,Ft).call(this),y(o(this,Nt),void 0),_(this,Ft,void 0))};const Jn=new Bn;let qe=N(null),Ct=null,Vt=null;const Gr=v.with(()=>{for(const n of Jn.values())if(n)return!0;return!1});let kn=null;const Ea=new _a(()=>{function n(){document.body.setAttribute("style",c(qe)??""),document.body.style.removeProperty("--scrollbar-width"),Vr&&(Ct==null||Ct()),y(qe,null),r=!1}function t(){Vt!==null&&(window.clearTimeout(Vt),Vt=null)}function e(s,a){t(),kn=Date.now();const u=kn,l=()=>{Vt=null,kn===u&&(Fi(Jn)||a())};s===null?Vt=window.setTimeout(l,16):Vt=window.setTimeout(l,s)}let r=!1;function i(){!r&&c(qe)===null&&(y(qe,document.body.getAttribute("style"),!0),r=!0)}return it(()=>Gr.current,()=>{if(!Gr.current)return;i();const s=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,l={padding:Number.parseInt(s.paddingRight??"0",10)+a,margin:Number.parseInt(s.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${l.padding}px`,document.body.style.marginRight=`${l.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Vr&&(Ct=vi(document,"touchmove",d=>{d.target===document.documentElement&&(d.touches.length>1||d.preventDefault())},{passive:!1})),cr(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Ve(()=>()=>{Ct==null||Ct()}),{get lockMap(){return Jn},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:e,cancelPendingCleanup:t,ensureInitialStyleCaptured:i}});var Lt,De,Me,$;class Aa{constructor(t,e=()=>null){h(this,Lt,Sa());h(this,De);h(this,Me,()=>null);h(this,$);T(this,"locked");_(this,De,t),_(this,Me,e),_(this,$,Ea.get()),o(this,$)&&(o(this,$).cancelPendingCleanup(),o(this,$).ensureInitialStyleCaptured(),o(this,$).lockMap.set(o(this,Lt),o(this,De)??!1),this.locked=v.with(()=>o(this,$).lockMap.get(o(this,Lt))??!1,r=>o(this,$).lockMap.set(o(this,Lt),r)),Ve(()=>{if(o(this,$).lockMap.delete(o(this,Lt)),Fi(o(this,$).lockMap))return;const r=o(this,Me).call(this);o(this,$).scheduleCleanupIfNoNewLocks(r,()=>{o(this,$).resetBodyStyle()})}))}}Lt=new WeakMap,De=new WeakMap,Me=new WeakMap,$=new WeakMap;function Fi(n){for(const[t,e]of n)if(e)return!0;return!1}function Hr(n,t){Z(t,!0);let e=C(t,"preventScroll",3,!0),r=C(t,"restoreScrollDelay",3,null);e()&&new Aa(e(),()=>r()),Q()}function Ta({forceMount:n,present:t,open:e}){return(n||t)&&e}var Ca=et("<div><!></div>");function xa(n,t){const e=er();Z(t,!0);let r=C(t,"id",19,()=>dr(e)),i=C(t,"forceMount",3,!1),s=C(t,"ref",15,null),a=ar(t,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const u=zn.create({id:v.with(()=>r()),ref:v.with(()=>s(),d=>s(d))}),l=W(()=>Dt(a,u.props));{const d=p=>{var w=M(),x=F(w);{var b=g=>{var S=M(),P=F(S);{let R=W(()=>({props:Dt(c(l)),...u.snippetProps}));Y(P,()=>t.child,()=>c(R))}I(g,S)},m=g=>{var S=Ca();or(S,R=>({...R}),[()=>Dt(c(l))]);var P=U(S);Y(P,()=>t.children??st,()=>u.snippetProps),V(S),I(g,S)};Et(x,g=>{t.child?g(b):g(m,!1)})}I(p,w)};let f=W(()=>u.root.opts.open.current||i());hi(n,{get open(){return c(f)},get ref(){return u.opts.ref},presence:d,$$slots:{presence:!0}})}Q()}function Ia(n,t){Z(t,!0);let e=C(t,"open",15,!1),r=C(t,"onOpenChange",3,j),i=C(t,"onOpenChangeComplete",3,j);jn.create({variant:v.with(()=>"dialog"),open:v.with(()=>e(),u=>{e(u),r()(u)}),onOpenChangeComplete:v.with(()=>i())});var s=M(),a=F(s);Y(a,()=>t.children??st),I(n,s),Q()}var Pa=et("<button><!></button>");function Oa(n,t){const e=er();Z(t,!0);let r=C(t,"id",19,()=>dr(e)),i=C(t,"ref",15,null),s=C(t,"disabled",3,!1),a=ar(t,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const u=Un.create({variant:v.with(()=>"close"),id:v.with(()=>r()),ref:v.with(()=>i(),x=>i(x)),disabled:v.with(()=>!!s())}),l=W(()=>Dt(a,u.props));var d=M(),f=F(d);{var p=x=>{var b=M(),m=F(b);Y(m,()=>t.child,()=>({props:c(l)})),I(x,b)},w=x=>{var b=Pa();or(b,()=>({...c(l)}));var m=U(b);Y(m,()=>t.children??st),V(b),I(x,b)};Et(f,x=>{t.child?x(p):x(w,!1)})}I(n,d),Q()}var ka=et("<!> <!>",1),Na=et("<!> <div><!></div>",1);function Fa(n,t){const e=er();Z(t,!0);let r=C(t,"id",19,()=>dr(e)),i=C(t,"ref",15,null),s=C(t,"forceMount",3,!1),a=C(t,"onCloseAutoFocus",3,j),u=C(t,"onOpenAutoFocus",3,j),l=C(t,"onEscapeKeydown",3,j),d=C(t,"onInteractOutside",3,j),f=C(t,"trapFocus",3,!0),p=C(t,"preventScroll",3,!0),w=C(t,"restoreScrollDelay",3,null),x=ar(t,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const b=Wn.create({id:v.with(()=>r()),ref:v.with(()=>i(),g=>i(g))}),m=W(()=>Dt(x,b.props));{const g=P=>{{const R=(A,D)=>{let L=()=>D==null?void 0:D().props;Js(A,It(()=>c(m),{get enabled(){return b.root.opts.open.current},get ref(){return b.opts.ref},onEscapeKeydown:H=>{l()(H),!H.defaultPrevented&&b.root.handleClose()},children:(H,z)=>{Zs(H,It(()=>c(m),{get ref(){return b.opts.ref},get enabled(){return b.root.opts.open.current},onInteractOutside:J=>{d()(J),!J.defaultPrevented&&b.root.handleClose()},children:(J,nt)=>{wa(J,It(()=>c(m),{get ref(){return b.opts.ref},get enabled(){return b.root.opts.open.current},children:(gt,O)=>{var E=M(),X=F(E);{var En=Mt=>{var te=ka(),ee=F(te);{var ne=At=>{Hr(At,{get preventScroll(){return p()},get restoreScrollDelay(){return w()}})};Et(ee,At=>{b.root.opts.open.current&&At(ne)})}var An=ct(ee,2);{let At=W(()=>({props:Dt(c(m),L()),...b.snippetProps}));Y(An,()=>t.child,()=>c(At))}I(Mt,te)},Li=Mt=>{var te=Na(),ee=F(te);Hr(ee,{get preventScroll(){return p()}});var ne=ct(ee,2);or(ne,At=>({...At}),[()=>Dt(c(m),L())]);var An=U(ne);Y(An,()=>t.children??st),V(ne),I(Mt,te)};Et(X,Mt=>{t.child?Mt(En):Mt(Li,!1)})}I(gt,E)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let G=W(()=>Ta({forceMount:s(),present:b.root.opts.open.current,open:b.root.opts.open.current}));ga(P,{get ref(){return b.opts.ref},loop:!0,get trapFocus(){return f()},get enabled(){return c(G)},get onOpenAutoFocus(){return u()},onCloseAutoFocus:A=>{a()(A),!A.defaultPrevented&&li(1,()=>{var D;return(D=b.root.triggerNode)==null?void 0:D.focus()})},focusScope:R,$$slots:{focusScope:!0}})}};let S=W(()=>b.root.opts.open.current||s());hi(n,It(()=>c(m),{get forceMount(){return s()},get open(){return c(S)},get ref(){return b.opts.ref},presence:g,$$slots:{presence:!0}}))}Q()}var La=(n,t,e)=>t(e()),Ra=et("<button> </button>"),Da=(n,t)=>t(!t()),Ma=et('<div class="card-header-container"><!></div> <div class="card-btn-container svelte-19osdwx"></div>  <div class="card-extra-container svelte-19osdwx"><input type="checkbox" id="translate-checkbox" name="translate-checkbox" class="svelte-19osdwx"/> <label for="translate-checkbox"> </label></div>',1);function Ba(n,t){Z(t,!0);const[e,r]=tr(),i=()=>Ze(Fr,"$locale",e),s=()=>Ze(ei,"$_",e);let a=C(t,"translate",15);const u=[{code:"en",name:"English"},{code:"fi",name:"Suomi"},{code:"sv",name:"Svenska"},{code:"sa",name:"Smegiella"}];async function l(p){Fr.set(p),localStorage.setItem("locale",p),await ni().then(()=>{t.closeLangCard(!1)})}var d=M(),f=F(d);oe(f,()=>Fa,(p,w)=>{w(p,{class:"lang-container",trapFocus:!0,children:(x,b)=>{var m=Ma(),g=F(m),S=U(g);oe(S,()=>Oa,(L,H)=>{H(L,{class:"btn btn-close",onclick:()=>t.closeLangCard(),children:(z,J)=>{yo(z,{color:"#ffffff",size:35})},$$slots:{default:!0}})}),V(g);var P=ct(g,2);ao(P,21,()=>u,uo,(L,H)=>{let z=()=>c(H).code,J=()=>c(H).name;var nt=Ra();let gt;nt.__click=[La,l,z];var O=U(nt,!0);V(nt),Qe(E=>{gt=mo(nt,1,"btn btn-lang svelte-19osdwx",null,gt,E),Rn(O,J())},[()=>({"active-lang":i()===z()})]),I(L,nt)}),V(P);var R=ct(P,2),G=U(R);po(G),G.__change=[Da,a];var A=ct(G,2),D=U(A,!0);V(A),V(R),Qe(L=>{vo(G,a()),Rn(D,L)},[()=>s()("btn_translate_check")]),I(x,m)},$$slots:{default:!0}})}),I(n,d),Q(),r()}yn(["click","change"]);yn(["click"]);let q=null,Va=!1;const xt=class xt{constructor(){T(this,"callbacks",[]);this.initializeAudioContext()}static getInstance(){return xt.instance||(xt.instance=new xt),xt.instance}initializeAudioContext(){if(!(typeof window>"u"))try{q=new(window.AudioContext||window.webkitAudioContext),Va=!0,q.state==="suspended"&&this.handleSuspendedContext(),q.addEventListener("statechange",()=>{(q==null?void 0:q.state)==="running"&&this.notifyCallbacks()})}catch(t){console.warn("Failed to initialize audio context:",t)}}handleSuspendedContext(){console.log("Audio context suspended - user interaction required")}async resumeAudioContext(){if(!q)return!1;try{return q.state==="suspended"?(await q.resume(),console.log("Audio context resumed"),!0):q.state==="running"}catch(t){return console.warn("Failed to resume audio context:",t),!1}}isAudioContextReady(){return(q==null?void 0:q.state)==="running"||!1}getAudioContextState(){return(q==null?void 0:q.state)||"unavailable"}onAudioReady(t){this.isAudioContextReady()?t():this.callbacks.push(t)}notifyCallbacks(){this.callbacks.forEach(t=>t()),this.callbacks=[]}async enableAudio(){const t=await this.resumeAudioContext();if(t)try{const e=new Audio;e.volume=0,e.muted=!0,await e.play(),e.pause()}catch{}return t}};T(xt,"instance");let $n=xt;const Xr=$n.getInstance();function ja(){return typeof window>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2}var Ua=(n,t)=>t(),Wa=et('<div class="audio-icon-container svelte-1hhaios"><button class="btn svelte-1hhaios"><!></button></div>');function za(n,t){Z(t,!0);const[e,r]=tr(),i=()=>Ze(So,"$audioStore",e);let s=C(t,"volume",11,.3),a=C(t,"clusterVolume",11,1),u=C(t,"fadeTime",11,500),l=N(0),d=N(-1),f=N(null),p=!1,w=N(!1);Rt(()=>{typeof window<"u"&&y(w,ja(),!0)});async function x(){if(!p)try{p=!0;const D=!i().isGloballyMuted;if(lt.setMuted(D),D){if(c(f)){const L=isFinite(u())?u():500;await Tt.fadeOut(c(f),L),lt.setPlayingState("paused")}_o.stopAllEffects()}else{if(c(w)&&!Xr.isAudioContextReady()&&!await Xr.enableAudio()){console.warn("Audio context could not be enabled"),lt.setMuted(!0);return}await b()}}finally{p=!1}}async function b(){if(!(c(f)&&c(d)===c(l)&&!c(f).paused))try{const A=isFinite(s())?s():.3,D=c(w)?(isFinite(u())?u():500)*.5:isFinite(u())?u():500;c(f)&&c(d)!==c(l)?(Tt.cancelFade(c(f)),c(f).pause(),c(f).src=je[c(l)].src,c(f).load()):c(f)||(y(f,new Audio(je[c(l)].src),!0),c(f).loop=!0),c(f).volume=0,await c(f).play(),await Tt.fadeIn(c(f),A,D),y(d,c(l),!0),lt.setCurrentSong(c(f)),lt.setPlayingState("playing"),lt.setVolume(A)}catch(A){console.error("Failed to start playing song:",A),c(f)&&(c(f).pause(),c(f).currentTime=0),lt.setPlayingState("paused")}}async function m(){if(!(!c(f)||p)){p=!0;try{const A=isFinite(s())?s():.3,D=isFinite(u())?u():500,L=c(w)?D*.3:D*.7;if(c(w))await Tt.fadeOut(c(f),L),c(f).src=je[c(l)].src,c(f).load(),c(f).volume=0,await c(f).play(),await Tt.fadeIn(c(f),A,L);else{const H=c(f),z=new Audio(je[c(l)].src);z.loop=!0,z.volume=0,await z.play();const J=Tt.fadeOut(H,L),nt=Tt.fadeIn(z,A,L);await Promise.all([J,nt]),y(f,z,!0)}y(d,c(l),!0),lt.setCurrentSong(c(f)),lt.setVolume(A)}catch(A){console.error("Cross-fade failed:",A),await b()}finally{p=!1}}}Rt(()=>{const A=ir.url.pathname==="/explore"?1:0;A!==c(l)&&!i().isGloballyMuted&&i().playingState==="playing"&&c(f)&&!p?(c(l),y(l,A,!0),m().catch(D=>{console.error("Failed to cross-fade to new song:",D),y(l,A,!0)})):y(l,A,!0)}),Rt(()=>{const A=isFinite(a())?a():1;wo.setClusterVolume(A)});var g=Wa(),S=U(g);S.__click=[Ua,x];var P=U(S);{var R=A=>{No(A,{color:"#ffffff"})},G=A=>{ko(A,{color:"#ffffff"})};Et(P,A=>{i().isGloballyMuted?A(R):A(G,!1)})}V(S),V(g),I(n,g),Q(),r()}yn(["click"]);var qa=()=>To(`${ri}/`),Ka=et('<div class="back-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!> </button></div>'),Ga=(n,t)=>t.toggleLang(),Ha=et('<div class="card-header-container"><!> <div class="lang-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!></button></div> <div class="audio-control-container svelte-1fmp5ml"><!></div></div>');function Xa(n,t){Z(t,!0);const[e,r]=tr(),i=()=>Ze(ei,"$_",e);let s=N(.5),a=N(1),u=N(500);var l=Ha(),d=U(l);{var f=g=>{var S=Ka(),P=U(S);P.__click=[qa];var R=U(P);Eo(R,{color:"#ffffff"});var G=ct(R);V(P),V(S),Qe(A=>Rn(G,` ${A??""}`),[()=>i()("header_btn_exit")]),Dn(3,S,()=>co),I(g,S)};Et(d,g=>{ir.url.pathname===`${ri}/explore`&&g(f)})}var p=ct(d,2),w=U(p);w.__click=[Ga,t];var x=U(w);Oo(x,{color:"#ffffff"}),V(w),V(p);var b=ct(p,2),m=U(b);za(m,{get volume(){return c(s)},set volume(g){y(s,g,!0)},get fadeTime(){return c(u)},set fadeTime(g){y(u,g,!0)},get clusterVolume(){return c(a)},set clusterVolume(g){y(a,g,!0)}}),V(b),V(l),Qe(g=>go(w,"aria-label",g),[()=>i()("aria-lang-toggle")]),I(n,l),Q(),r()}yn(["click"]);var Ya=et('<link rel="icon" type="image/svg" href="/favicon.ico"/>'),Za=et('<main class="page-container"><!></main>'),Qa=et('<!> <header class="header-container svelte-bl8i2v"><!></header> <!>',1),Ja=et('<div class="app svelte-bl8i2v"><!></div>');function pu(n,t){Z(t,!0);let e=N(!1),r=500,i=N(!1);ti({fallbackLocale:"en",initialLocale:"en"});async function s(){await Po().catch(d=>{throw lo(500,"Failed to get token")})}let a=()=>{y(e,!c(e))};oo(()=>{window.scrollTo(0,0),s()});var u=Ja();so(d=>{var f=Ya();I(d,f)});var l=U(u);xo(l,ni,d=>{Ao(d)},d=>{var f=Qa(),p=F(f);oe(p,()=>Ia,(m,g)=>{g(m,{get open(){return c(e)},set open(S){y(e,S,!0)},children:(S,P)=>{var R=M(),G=F(R);oe(G,()=>Ks,(A,D)=>{D(A,{children:(L,H)=>{var z=M(),J=F(z);oe(J,()=>xa,(nt,gt)=>{gt(nt,{children:(O,E)=>{Ba(O,{closeLangCard:a,get translate(){return c(i)},set translate(X){y(i,X,!0)}})},$$slots:{default:!0}})}),I(L,z)},$$slots:{default:!0}})}),I(S,R)},$$slots:{default:!0}})});var w=ct(p,2),x=U(w);Xa(x,{toggleLang:a,get showLang(){return c(e)}}),V(w);var b=ct(w,2);ii(b,()=>ir.url.pathname,m=>{var g=Za(),S=U(g);Y(S,()=>t.children),V(g),Dn(1,g,()=>Nr,()=>({duration:r})),Dn(2,g,()=>Nr,()=>({duration:r})),I(m,g)}),I(d,f)}),V(u),I(n,u),Q()}export{pu as component,hu as universal};
