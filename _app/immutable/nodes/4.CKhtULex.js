import{l as gn,t as se,a as ie,s as Qt,b as bt,d as re,r as Tn,e as Zt,i as hn}from"../chunks/e0w5MTuB.js";import{u as En,r as An,h as vn,a0 as bn,J as Jt,Q as G,M as de,N as en,K as E,O as A,a1 as Sn,W as Gt,X as yn,a2 as On,v as D,Y as K,m as f,_ as Rn}from"../chunks/BAWTPune.js";import{i as ye}from"../chunks/BqxJA0kB.js";import{e as nt,a as tn,t as oe,b as ae}from"../chunks/DCc6tS3d.js";import{$ as nn,a as Ln}from"../chunks/CDkE-16V.js";import{g as Dn}from"../chunks/Dj0AnBAs.js";import{g as Je}from"../chunks/FtpSAR9r.js";import{L as In,C as Nn}from"../chunks/GgsAFKhL.js";import{s as Mn,a as Cn}from"../chunks/9RBUQe7M.js";import{p as dt}from"../chunks/DQYehM2M.js";function xn(o,n,l=n){var r=bn();gn(o,"input",p=>{var m=p?o.defaultValue:o.value;if(m=_t(o)?gt(m):m,l(m),r&&m!==(m=n())){var P=o.selectionStart,U=o.selectionEnd;o.value=m??"",U!==null&&(o.selectionStart=P,o.selectionEnd=Math.min(U,o.value.length))}}),(vn&&o.defaultValue!==o.value||En(n)==null&&o.value)&&l(_t(o)?gt(o.value):o.value),An(()=>{var p=n();_t(o)&&p===gt(o.value)||o.type==="date"&&!p&&!o.value||p!==o.value&&(o.value=p??"")})}function _t(o){var n=o.type;return n==="number"||n==="range"}function gt(o){return o===""?null:+o}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:on,setPrototypeOf:Wt,isFrozen:wn,getPrototypeOf:Pn,getOwnPropertyDescriptor:kn}=Object;let{freeze:M,seal:z,create:an}=Object,{apply:St,construct:yt}=typeof Reflect<"u"&&Reflect;M||(M=function(n){return n});z||(z=function(n){return n});St||(St=function(n,l,r){return n.apply(l,r)});yt||(yt=function(n,l){return new n(...l)});const et=C(Array.prototype.forEach),Un=C(Array.prototype.lastIndexOf),Bt=C(Array.prototype.pop),Pe=C(Array.prototype.push),Fn=C(Array.prototype.splice),ot=C(String.prototype.toLowerCase),Tt=C(String.prototype.toString),qt=C(String.prototype.match),ke=C(String.prototype.replace),Hn=C(String.prototype.indexOf),zn=C(String.prototype.trim),W=C(Object.prototype.hasOwnProperty),N=C(RegExp.prototype.test),Ue=Gn(TypeError);function C(o){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var l=arguments.length,r=new Array(l>1?l-1:0),p=1;p<l;p++)r[p-1]=arguments[p];return St(o,n,r)}}function Gn(o){return function(){for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return yt(o,l)}}function u(o,n){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ot;Wt&&Wt(o,null);let r=n.length;for(;r--;){let p=n[r];if(typeof p=="string"){const m=l(p);m!==p&&(wn(n)||(n[r]=m),p=m)}o[p]=!0}return o}function Wn(o){for(let n=0;n<o.length;n++)W(o,n)||(o[n]=null);return o}function Q(o){const n=an(null);for(const[l,r]of on(o))W(o,l)&&(Array.isArray(r)?n[l]=Wn(r):r&&typeof r=="object"&&r.constructor===Object?n[l]=Q(r):n[l]=r);return n}function Fe(o,n){for(;o!==null;){const r=kn(o,n);if(r){if(r.get)return C(r.get);if(typeof r.value=="function")return C(r.value)}o=Pn(o)}function l(){return null}return l}const Yt=M(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ht=M(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Et=M(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Bn=M(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),At=M(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),qn=M(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$t=M(["#text"]),Vt=M(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vt=M(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xt=M(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),tt=M(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Yn=z(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$n=z(/<%[\w\W]*|[\w\W]*%>/gm),Vn=z(/\$\{[\w\W]*/gm),Xn=z(/^data-[\-\w.\u00B7-\uFFFF]+$/),jn=z(/^aria-[\-\w]+$/),rn=z(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Kn=z(/^(?:\w+script|data):/i),Qn=z(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sn=z(/^html$/i),Zn=z(/^[a-z][.\w]*(-[.\w]+)+$/i);var jt=Object.freeze({__proto__:null,ARIA_ATTR:jn,ATTR_WHITESPACE:Qn,CUSTOM_ELEMENT:Zn,DATA_ATTR:Xn,DOCTYPE_NAME:sn,ERB_EXPR:$n,IS_ALLOWED_URI:rn,IS_SCRIPT_OR_DATA:Kn,MUSTACHE_EXPR:Yn,TMPLIT_EXPR:Vn});const He={element:1,text:3,progressingInstruction:7,comment:8,document:9},Jn=function(){return typeof window>"u"?null:window},eo=function(n,l){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const p="data-tt-policy-suffix";l&&l.hasAttribute(p)&&(r=l.getAttribute(p));const m="dompurify"+(r?"#"+r:"");try{return n.createPolicy(m,{createHTML(P){return P},createScriptURL(P){return P}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}},Kt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ln(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Jn();const n=i=>ln(i);if(n.version="3.2.6",n.removed=[],!o||!o.document||o.document.nodeType!==He.document||!o.Element)return n.isSupported=!1,n;let{document:l}=o;const r=l,p=r.currentScript,{DocumentFragment:m,HTMLTemplateElement:P,Node:U,Element:q,NodeFilter:F,NamedNodeMap:I=o.NamedNodeMap||o.MozNamedAttrMap,HTMLFormElement:Y,DOMParser:Z,trustedTypes:k}=o,$=q.prototype,le=Fe($,"cloneNode"),_e=Fe($,"remove"),T=Fe($,"nextSibling"),at=Fe($,"childNodes"),ge=Fe($,"parentNode");if(typeof P=="function"){const i=l.createElement("template");i.content&&i.content.ownerDocument&&(l=i.content.ownerDocument)}let O,ce="";const{implementation:Oe,createNodeIterator:it,createDocumentFragment:ze,getElementsByTagName:rt}=l,{importNode:Re}=r;let b=Kt();n.isSupported=typeof on=="function"&&typeof ge=="function"&&Oe&&Oe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Te,ERB_EXPR:Le,TMPLIT_EXPR:ue,DATA_ATTR:st,ARIA_ATTR:De,IS_SCRIPT_OR_DATA:Ge,ATTR_WHITESPACE:We,CUSTOM_ELEMENT:Be}=jt;let{IS_ALLOWED_URI:qe}=jt,h=null;const Ye=u({},[...Yt,...ht,...Et,...At,...$t]);let v=null;const $e=u({},[...Vt,...vt,...Xt,...tt]);let _=Object.seal(an(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fe=null,he=null,Ve=!0,Ie=!0,s=!1,c=!0,g=!1,x=!0,H=!1,J=!1,ee=!1,te=!1,ne=!1,me=!1,pe=!0,Xe=!1;const Ne="user-content-";let Me=!0,Ce=!1,Ee={},Ae=null;const Ot=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Rt=null;const Lt=u({},["audio","video","img","source","image","track"]);let lt=null;const Dt=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",V="http://www.w3.org/1999/xhtml";let ve=V,ct=!1,ut=null;const cn=u({},[je,Ke,V],Tt);let Qe=u({},["mi","mo","mn","ms","mtext"]),Ze=u({},["annotation-xml"]);const un=u({},["title","style","font","a","script"]);let xe=null;const fn=["application/xhtml+xml","text/html"],mn="text/html";let y=null,be=null;const pn=l.createElement("form"),It=function(e){return e instanceof RegExp||e instanceof Function},ft=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(be&&be===e)){if((!e||typeof e!="object")&&(e={}),e=Q(e),xe=fn.indexOf(e.PARSER_MEDIA_TYPE)===-1?mn:e.PARSER_MEDIA_TYPE,y=xe==="application/xhtml+xml"?Tt:ot,h=W(e,"ALLOWED_TAGS")?u({},e.ALLOWED_TAGS,y):Ye,v=W(e,"ALLOWED_ATTR")?u({},e.ALLOWED_ATTR,y):$e,ut=W(e,"ALLOWED_NAMESPACES")?u({},e.ALLOWED_NAMESPACES,Tt):cn,lt=W(e,"ADD_URI_SAFE_ATTR")?u(Q(Dt),e.ADD_URI_SAFE_ATTR,y):Dt,Rt=W(e,"ADD_DATA_URI_TAGS")?u(Q(Lt),e.ADD_DATA_URI_TAGS,y):Lt,Ae=W(e,"FORBID_CONTENTS")?u({},e.FORBID_CONTENTS,y):Ot,fe=W(e,"FORBID_TAGS")?u({},e.FORBID_TAGS,y):Q({}),he=W(e,"FORBID_ATTR")?u({},e.FORBID_ATTR,y):Q({}),Ee=W(e,"USE_PROFILES")?e.USE_PROFILES:!1,Ve=e.ALLOW_ARIA_ATTR!==!1,Ie=e.ALLOW_DATA_ATTR!==!1,s=e.ALLOW_UNKNOWN_PROTOCOLS||!1,c=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,g=e.SAFE_FOR_TEMPLATES||!1,x=e.SAFE_FOR_XML!==!1,H=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,me=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,pe=e.SANITIZE_DOM!==!1,Xe=e.SANITIZE_NAMED_PROPS||!1,Me=e.KEEP_CONTENT!==!1,Ce=e.IN_PLACE||!1,qe=e.ALLOWED_URI_REGEXP||rn,ve=e.NAMESPACE||V,Qe=e.MATHML_TEXT_INTEGRATION_POINTS||Qe,Ze=e.HTML_INTEGRATION_POINTS||Ze,_=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&It(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&It(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),g&&(Ie=!1),ne&&(te=!0),Ee&&(h=u({},$t),v=[],Ee.html===!0&&(u(h,Yt),u(v,Vt)),Ee.svg===!0&&(u(h,ht),u(v,vt),u(v,tt)),Ee.svgFilters===!0&&(u(h,Et),u(v,vt),u(v,tt)),Ee.mathMl===!0&&(u(h,At),u(v,Xt),u(v,tt))),e.ADD_TAGS&&(h===Ye&&(h=Q(h)),u(h,e.ADD_TAGS,y)),e.ADD_ATTR&&(v===$e&&(v=Q(v)),u(v,e.ADD_ATTR,y)),e.ADD_URI_SAFE_ATTR&&u(lt,e.ADD_URI_SAFE_ATTR,y),e.FORBID_CONTENTS&&(Ae===Ot&&(Ae=Q(Ae)),u(Ae,e.FORBID_CONTENTS,y)),Me&&(h["#text"]=!0),H&&u(h,["html","head","body"]),h.table&&(u(h,["tbody"]),delete fe.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ue('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ue('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=e.TRUSTED_TYPES_POLICY,ce=O.createHTML("")}else O===void 0&&(O=eo(k,p)),O!==null&&typeof ce=="string"&&(ce=O.createHTML(""));M&&M(e),be=e}},Nt=u({},[...ht,...Et,...Bn]),Mt=u({},[...At,...qn]),dn=function(e){let t=ge(e);(!t||!t.tagName)&&(t={namespaceURI:ve,tagName:"template"});const a=ot(e.tagName),d=ot(t.tagName);return ut[e.namespaceURI]?e.namespaceURI===Ke?t.namespaceURI===V?a==="svg":t.namespaceURI===je?a==="svg"&&(d==="annotation-xml"||Qe[d]):!!Nt[a]:e.namespaceURI===je?t.namespaceURI===V?a==="math":t.namespaceURI===Ke?a==="math"&&Ze[d]:!!Mt[a]:e.namespaceURI===V?t.namespaceURI===Ke&&!Ze[d]||t.namespaceURI===je&&!Qe[d]?!1:!Mt[a]&&(un[a]||!Nt[a]):!!(xe==="application/xhtml+xml"&&ut[e.namespaceURI]):!1},B=function(e){Pe(n.removed,{element:e});try{ge(e).removeChild(e)}catch{_e(e)}},Se=function(e,t){try{Pe(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch{Pe(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is")if(te||ne)try{B(t)}catch{}else try{t.setAttribute(e,"")}catch{}},Ct=function(e){let t=null,a=null;if(ee)e="<remove></remove>"+e;else{const S=qt(e,/^[\r\n\t ]+/);a=S&&S[0]}xe==="application/xhtml+xml"&&ve===V&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const d=O?O.createHTML(e):e;if(ve===V)try{t=new Z().parseFromString(d,xe)}catch{}if(!t||!t.documentElement){t=Oe.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ct?ce:d}catch{}}const R=t.body||t.documentElement;return e&&a&&R.insertBefore(l.createTextNode(a),R.childNodes[0]||null),ve===V?rt.call(t,H?"html":"body")[0]:H?t.documentElement:R},xt=function(e){return it.call(e.ownerDocument||e,e,F.SHOW_ELEMENT|F.SHOW_COMMENT|F.SHOW_TEXT|F.SHOW_PROCESSING_INSTRUCTION|F.SHOW_CDATA_SECTION,null)},mt=function(e){return e instanceof Y&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof I)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},wt=function(e){return typeof U=="function"&&e instanceof U};function X(i,e,t){et(i,a=>{a.call(n,e,t,be)})}const Pt=function(e){let t=null;if(X(b.beforeSanitizeElements,e,null),mt(e))return B(e),!0;const a=y(e.nodeName);if(X(b.uponSanitizeElement,e,{tagName:a,allowedTags:h}),x&&e.hasChildNodes()&&!wt(e.firstElementChild)&&N(/<[/\w!]/g,e.innerHTML)&&N(/<[/\w!]/g,e.textContent)||e.nodeType===He.progressingInstruction||x&&e.nodeType===He.comment&&N(/<[/\w]/g,e.data))return B(e),!0;if(!h[a]||fe[a]){if(!fe[a]&&Ut(a)&&(_.tagNameCheck instanceof RegExp&&N(_.tagNameCheck,a)||_.tagNameCheck instanceof Function&&_.tagNameCheck(a)))return!1;if(Me&&!Ae[a]){const d=ge(e)||e.parentNode,R=at(e)||e.childNodes;if(R&&d){const S=R.length;for(let w=S-1;w>=0;--w){const j=le(R[w],!0);j.__removalCount=(e.__removalCount||0)+1,d.insertBefore(j,T(e))}}}return B(e),!0}return e instanceof q&&!dn(e)||(a==="noscript"||a==="noembed"||a==="noframes")&&N(/<\/no(script|embed|frames)/i,e.innerHTML)?(B(e),!0):(g&&e.nodeType===He.text&&(t=e.textContent,et([Te,Le,ue],d=>{t=ke(t,d," ")}),e.textContent!==t&&(Pe(n.removed,{element:e.cloneNode()}),e.textContent=t)),X(b.afterSanitizeElements,e,null),!1)},kt=function(e,t,a){if(pe&&(t==="id"||t==="name")&&(a in l||a in pn))return!1;if(!(Ie&&!he[t]&&N(st,t))){if(!(Ve&&N(De,t))){if(!v[t]||he[t]){if(!(Ut(e)&&(_.tagNameCheck instanceof RegExp&&N(_.tagNameCheck,e)||_.tagNameCheck instanceof Function&&_.tagNameCheck(e))&&(_.attributeNameCheck instanceof RegExp&&N(_.attributeNameCheck,t)||_.attributeNameCheck instanceof Function&&_.attributeNameCheck(t))||t==="is"&&_.allowCustomizedBuiltInElements&&(_.tagNameCheck instanceof RegExp&&N(_.tagNameCheck,a)||_.tagNameCheck instanceof Function&&_.tagNameCheck(a))))return!1}else if(!lt[t]){if(!N(qe,ke(a,We,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&Hn(a,"data:")===0&&Rt[e])){if(!(s&&!N(Ge,ke(a,We,"")))){if(a)return!1}}}}}}return!0},Ut=function(e){return e!=="annotation-xml"&&qt(e,Be)},Ft=function(e){X(b.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||mt(e))return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:v,forceKeepAttr:void 0};let d=t.length;for(;d--;){const R=t[d],{name:S,namespaceURI:w,value:j}=R,we=y(S),pt=j;let L=S==="value"?pt:zn(pt);if(a.attrName=we,a.attrValue=L,a.keepAttr=!0,a.forceKeepAttr=void 0,X(b.uponSanitizeAttribute,e,a),L=a.attrValue,Xe&&(we==="id"||we==="name")&&(Se(S,e),L=Ne+L),x&&N(/((--!?|])>)|<\/(style|title)/i,L)){Se(S,e);continue}if(a.forceKeepAttr)continue;if(!a.keepAttr){Se(S,e);continue}if(!c&&N(/\/>/i,L)){Se(S,e);continue}g&&et([Te,Le,ue],zt=>{L=ke(L,zt," ")});const Ht=y(e.nodeName);if(!kt(Ht,we,L)){Se(S,e);continue}if(O&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!w)switch(k.getAttributeType(Ht,we)){case"TrustedHTML":{L=O.createHTML(L);break}case"TrustedScriptURL":{L=O.createScriptURL(L);break}}if(L!==pt)try{w?e.setAttributeNS(w,S,L):e.setAttribute(S,L),mt(e)?B(e):Bt(n.removed)}catch{Se(S,e)}}X(b.afterSanitizeAttributes,e,null)},_n=function i(e){let t=null;const a=xt(e);for(X(b.beforeSanitizeShadowDOM,e,null);t=a.nextNode();)X(b.uponSanitizeShadowNode,t,null),Pt(t),Ft(t),t.content instanceof m&&i(t.content);X(b.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,a=null,d=null,R=null;if(ct=!i,ct&&(i="<!-->"),typeof i!="string"&&!wt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw Ue("dirty is not a string, aborting")}else throw Ue("toString is not a function");if(!n.isSupported)return i;if(J||ft(e),n.removed=[],typeof i=="string"&&(Ce=!1),Ce){if(i.nodeName){const j=y(i.nodeName);if(!h[j]||fe[j])throw Ue("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof U)t=Ct("<!---->"),a=t.ownerDocument.importNode(i,!0),a.nodeType===He.element&&a.nodeName==="BODY"||a.nodeName==="HTML"?t=a:t.appendChild(a);else{if(!te&&!g&&!H&&i.indexOf("<")===-1)return O&&me?O.createHTML(i):i;if(t=Ct(i),!t)return te?null:me?ce:""}t&&ee&&B(t.firstChild);const S=xt(Ce?i:t);for(;d=S.nextNode();)Pt(d),Ft(d),d.content instanceof m&&_n(d.content);if(Ce)return i;if(te){if(ne)for(R=ze.call(t.ownerDocument);t.firstChild;)R.appendChild(t.firstChild);else R=t;return(v.shadowroot||v.shadowrootmode)&&(R=Re.call(r,R,!0)),R}let w=H?t.outerHTML:t.innerHTML;return H&&h["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&N(sn,t.ownerDocument.doctype.name)&&(w="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+w),g&&et([Te,Le,ue],j=>{w=ke(w,j," ")}),O&&me?O.createHTML(w):w},n.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ft(i),J=!0},n.clearConfig=function(){be=null,J=!1},n.isValidAttribute=function(i,e,t){be||ft({});const a=y(i),d=y(e);return kt(a,d,t)},n.addHook=function(i,e){typeof e=="function"&&Pe(b[i],e)},n.removeHook=function(i,e){if(e!==void 0){const t=Un(b[i],e);return t===-1?void 0:Fn(b[i],t,1)[0]}return Bt(b[i])},n.removeHooks=function(i){b[i]=[]},n.removeAllHooks=function(){b=Kt()},n}var to=ln(),no=se('<div class="container svelte-1y93d4z"><pre aria-hidden="true" class="svelte-1y93d4z"> </pre> <textarea class="svelte-1y93d4z"></textarea></div>');function oo(o,n){Jt(n,!0);const[l,r]=Qt(),p=()=>bt(nn,"$_",l);let m=dt(n,"textValue",15),P=dt(n,"debounceTime",3,750),U=dt(n,"typingActive",15,!1),q=null;const F=()=>{U(!0),q&&clearTimeout(q),q=setTimeout(()=>{U(!1)},P())};var I=no(),Y=E(I),Z=E(Y,!0);A(Y);var k=G(Y,2);Tn(k),k.__keydown=F,A(I),de($=>{Mn(Y,`min-height: ${n.minHeight??""}`),re(Z,m()+`
`),Cn(k,"placeholder",$)},[()=>p()("input_placeholder")]),xn(k,m),ie(o,I),en(),r()}Zt(["keydown"]);async function ao(o,n,l){f(n)===!0&&await tn(l()).then(r=>{console.log("Add Story Response:",r),Dn("/explore")}).catch(r=>{throw nt(500,"Failed to add story")})}var io=se("<div></div>"),ro=se('<div class="warning-bubble bubble svelte-1b3o1qb"> </div>'),so=se('<div class="loader-bubble bubble svelte-1b3o1qb"><!></div>'),lo=se('<div class="suggestions-bubble bubble svelte-1b3o1qb"><p> </p> <p> </p></div>'),co=se('<p class="thank-you-bubble bubble svelte-1b3o1qb"> </p>'),uo=se('<div class="disclaimer-container svelte-1b3o1qb"><div class="checkmark-container"><!></div> <div class="disclaimer-text"><p> </p></div></div> <div class="disclaimer-btn-container svelte-1b3o1qb"><div><button class="btn svelte-1b3o1qb"> </button></div></div>',1),fo=se('<div class="card-submit-container svelte-1b3o1qb"><div class="question-container svelte-1b3o1qb"><p> </p></div> <div class="input-container svelte-1b3o1qb"><!></div> <div class="suggestions-container svelte-1b3o1qb"><!> <!> <!> <!> <!></div> <div class="actions-container svelte-1b3o1qb"><!></div></div>');function So(o,n){Jt(n,!0);const[l,r]=Qt(),p=()=>bt(Ln,"$locale",l),m=()=>bt(nn,"$_",l),P=Sn("questions");let U=K(null),q=K(null),F=K(null),I=K(""),Y=K(""),Z=K(!1),k=K(!1),$=750,le=K(!1),_e=30,T=K("off"),at=3e3,ge=3e3;const O=()=>({API_ENDPOINT:"/suggestion",API_METHOD:"POST",REQUEST_BODY:{language:Je(),story:f(I)}}),ce=()=>({API_ENDPOINT:"/add_story",API_METHOD:"POST",REQUEST_BODY:{text:to.sanitize(f(I)),question:f(q),language:Je()}});async function Oe(){try{const s=await tn(O());D(Y,s.suggestion,!0),D(T,"ok")}catch{throw nt(500,"Failed to get suggestions")}}function it(){const s=P();if(!s)throw nt(500,"Failed to get questions");const c=Math.floor(Math.random()*s.questions.length);D(F,s.questions[c],!0),ze()}function ze(){if(!f(F))return;let s=f(F).find(c=>c.language===Je());if(!s&&Je()==="North Sámi"&&(s=f(F).find(c=>c.language==="English")),!s)throw nt(500,"Failed to get question container");D(U,s.text,!0),D(q,s.original_id,!0)}function rt(){if(f(I).length<=0){D(T,"off"),D(le,!1);return}f(T)!=="done"&&(f(k)===!0?f(T)==="ok"?(D(T,"off"),D(le,!0)):D(T,"off"):f(I).length<_e?D(T,"warning"):f(I).length>=_e&&f(T)!=="ok"&&f(T)!=="done"&&f(T)!=="loading"&&f(le)===!1?(D(T,"loading"),Oe()):f(T)==="off"&&f(I).length>=_e&&f(le)===!0&&D(T,"done"))}Gt(()=>{rt()}),Gt(()=>{p(),P()&&ze()}),yn(()=>{it()});var Re=fo();hn(s=>{de((c,g)=>On.title=`${c??""} | ${g??""} | Oulu 2026 | Submit`,[()=>m()("rk_title"),()=>m()("rk_layer")])});var b=E(Re),Te=E(b),Le=E(Te,!0);A(Te),A(b);var ue=G(b,2),st=E(ue);oo(st,{minHeight:"200px",get debounceTime(){return $},get textValue(){return f(I)},set textValue(s){D(I,s,!0)},get typingActive(){return f(k)},set typingActive(s){D(k,s,!0)}}),A(ue);var De=G(ue,2),Ge=E(De);{var We=s=>{var c=io();ie(s,c)};ye(Ge,s=>{f(T)!=="off"&&s(We)})}var Be=G(Ge,2);{var qe=s=>{var c=ro(),g=E(c,!0);A(c),de(x=>re(g,x),[()=>m()("type_more")]),oe(3,c,()=>ae),ie(s,c)};ye(Be,s=>{f(T)==="warning"&&s(qe)})}var h=G(Be,2);{var Ye=s=>{var c=so(),g=E(c);In(g,{color:"white",pulseSize:"30px",pulseTiming:"1s"}),A(c),oe(3,c,()=>ae),ie(s,c)};ye(h,s=>{f(T)==="loading"&&s(Ye)})}var v=G(h,2);{var $e=s=>{var c=lo(),g=E(c),x=E(g,!0);A(g);var H=G(g,2),J=E(H,!0);A(H),A(c),de(ee=>{re(x,f(Y)),re(J,ee)},[()=>m()("please_extend")]),oe(1,c,()=>ae),oe(2,c,()=>ae,()=>({delay:at,duration:500})),ie(s,c)};ye(v,s=>{f(T)==="ok"&&s($e)})}var _=G(v,2);{var fe=s=>{var c=co(),g=E(c,!0);A(c),de(x=>re(g,x),[()=>m()("submit_ack")]),oe(1,c,()=>ae,()=>({delay:ge,duration:500})),oe(2,c,()=>ae),ie(s,c)};ye(_,s=>{f(T)==="done"&&s(fe)})}A(De);var he=G(De,2),Ve=E(he);{var Ie=s=>{var c=uo(),g=Rn(c),x=E(g),H=E(x);Nn(H,{get checkValue(){return f(Z)},set checkValue(Ne){D(Z,Ne,!0)}}),A(x);var J=G(x,2),ee=E(J),te=E(ee,!0);A(ee),A(J),A(g);var ne=G(g,2),me=E(ne),pe=E(me);pe.__click=[ao,Z,ce];var Xe=E(pe,!0);A(pe),A(me),A(ne),de((Ne,Me)=>{re(te,Ne),pe.disabled=!f(Z),re(Xe,Me)},[()=>m()("disclaimer"),()=>m()("btn_submit")]),oe(3,g,()=>ae),oe(3,ne,()=>ae),ie(s,c)};ye(Ve,s=>{(f(T)==="done"||f(T)==="ok"||f(le)===!0)&&f(I).length>_e&&s(Ie)})}A(he),A(Re),de(()=>re(Le,f(U))),ie(o,Re),en(),r()}Zt(["click"]);export{So as component};
