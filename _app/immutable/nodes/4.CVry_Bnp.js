import{a as lt,s as Mt}from"../chunks/DK-XuYho.js";import{av as Rn,e as qe,ao as In,h as Ln,u as Nn,m as Dn,aw as xn,$ as wt,O as kt,Q as te,R as v,ax as Cn,Y as A,T as pe,ay as fn,V as $,W as Pt,Z as J,_ as Te,as as Mn,al as Qt,t as c,am as wn,at as kn,af as Kt,an as re,w as N,au as Pn,ap as Un,aq as Zt}from"../chunks/Cn9ZBD6T.js";import{i as me}from"../chunks/C0INjNHb.js";import{t as G,b as Dt,a as Jt,s as se}from"../chunks/BL-4awQS.js";import{$ as Ut,a as Fn}from"../chunks/Dih9QIKH.js";import{g as Hn}from"../chunks/CVHT2sdV.js";import{r as zn}from"../chunks/DkxAlEeB.js";import{g as At,a as bt}from"../chunks/BcIguPGf.js";import{b as mn,a as we,r as Gn,u as dn,c as Wn,d as Bn}from"../chunks/D2MRBL8R.js";import{b as qn}from"../chunks/BdTk9uRp.js";import{p as rt}from"../chunks/k0yDC0ZO.js";import{c as Ye,L as Yn}from"../chunks/BEASMQcL.js";/* empty css                */import{T as jn}from"../chunks/DbD4YhOo.js";function Vn(a,t,s=t){var r=new WeakSet;Rn(a,"input",async l=>{var _=l?a.defaultValue:a.value;if(_=St(a)?yt(_):_,s(_),qe!==null&&r.add(qe),await In(),_!==(_=t())){var F=a.selectionStart,j=a.selectionEnd;a.value=_??"",j!==null&&(a.selectionStart=F,a.selectionEnd=Math.min(j,a.value.length))}}),(Ln&&a.defaultValue!==a.value||Nn(t)==null&&a.value)&&(s(St(a)?yt(a.value):a.value),qe!==null&&r.add(qe)),Dn(()=>{var l=t();if(a===document.activeElement){var _=xn??qe;if(r.has(_))return}St(a)&&l===yt(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}function St(a){var t=a.type;return t==="number"||t==="range"}function yt(a){return a===""?null:+a}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:pn,setPrototypeOf:en,isFrozen:$n,getPrototypeOf:Xn,getOwnPropertyDescriptor:Qn}=Object;let{freeze:W,seal:X,create:_n}=Object,{apply:xt,construct:Ct}=typeof Reflect<"u"&&Reflect;W||(W=function(t){return t});X||(X=function(t){return t});xt||(xt=function(t,s,r){return t.apply(s,r)});Ct||(Ct=function(t,s){return new t(...s)});const ot=B(Array.prototype.forEach),Kn=B(Array.prototype.lastIndexOf),tn=B(Array.prototype.pop),je=B(Array.prototype.push),Zn=B(Array.prototype.splice),st=B(String.prototype.toLowerCase),Ot=B(String.prototype.toString),nn=B(String.prototype.match),Ve=B(String.prototype.replace),Jn=B(String.prototype.indexOf),ea=B(String.prototype.trim),ee=B(Object.prototype.hasOwnProperty),z=B(RegExp.prototype.test),$e=ta(TypeError);function B(a){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return xt(a,t,r)}}function ta(a){return function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return Ct(a,s)}}function f(a,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:st;en&&en(a,null);let r=t.length;for(;r--;){let l=t[r];if(typeof l=="string"){const _=s(l);_!==l&&($n(t)||(t[r]=_),l=_)}a[l]=!0}return a}function na(a){for(let t=0;t<a.length;t++)ee(a,t)||(a[t]=null);return a}function de(a){const t=_n(null);for(const[s,r]of pn(a))ee(a,s)&&(Array.isArray(r)?t[s]=na(r):r&&typeof r=="object"&&r.constructor===Object?t[s]=de(r):t[s]=r);return t}function Xe(a,t){for(;a!==null;){const r=Qn(a,t);if(r){if(r.get)return B(r.get);if(typeof r.value=="function")return B(r.value)}a=Xn(a)}function s(){return null}return s}const an=W(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rt=W(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),It=W(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aa=W(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lt=W(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oa=W(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),on=W(["#text"]),rn=W(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Nt=W(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),sn=W(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=W(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ia=X(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ra=X(/<%[\w\W]*|[\w\W]*%>/gm),sa=X(/\$\{[\w\W]*/gm),la=X(/^data-[\-\w.\u00B7-\uFFFF]+$/),ca=X(/^aria-[\-\w]+$/),gn=X(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ua=X(/^(?:\w+script|data):/i),fa=X(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hn=X(/^html$/i),ma=X(/^[a-z][.\w]*(-[.\w]+)+$/i);var ln=Object.freeze({__proto__:null,ARIA_ATTR:ca,ATTR_WHITESPACE:fa,CUSTOM_ELEMENT:ma,DATA_ATTR:la,DOCTYPE_NAME:hn,ERB_EXPR:ra,IS_ALLOWED_URI:gn,IS_SCRIPT_OR_DATA:ua,MUSTACHE_EXPR:ia,TMPLIT_EXPR:sa});const Qe={element:1,text:3,progressingInstruction:7,comment:8,document:9},da=function(){return typeof window>"u"?null:window},pa=function(t,s){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";s&&s.hasAttribute(l)&&(r=s.getAttribute(l));const _="dompurify"+(r?"#"+r:"");try{return t.createPolicy(_,{createHTML(F){return F},createScriptURL(F){return F}})}catch{return""+_,null}},cn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Tn(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:da();const t=i=>Tn(i);if(t.version="3.2.6",t.removed=[],!a||!a.document||a.document.nodeType!==Qe.document||!a.Element)return t.isSupported=!1,t;let{document:s}=a;const r=s,l=r.currentScript,{DocumentFragment:_,HTMLTemplateElement:F,Node:j,Element:C,NodeFilter:S,NamedNodeMap:Q=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:D,DOMParser:O,trustedTypes:q}=a,T=C.prototype,w=Xe(T,"cloneNode"),_e=Xe(T,"remove"),ne=Xe(T,"nextSibling"),H=Xe(T,"childNodes"),m=Xe(T,"parentNode");if(typeof F=="function"){const i=s.createElement("template");i.content&&i.content.ownerDocument&&(s=i.content.ownerDocument)}let b,y="";const{implementation:Ee,createNodeIterator:ct,createDocumentFragment:ut,getElementsByTagName:ft}=s,{importNode:mt}=r;let M=cn();t.isSupported=typeof pn=="function"&&typeof m=="function"&&Ee&&Ee.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ke,ERB_EXPR:Pe,TMPLIT_EXPR:Ue,DATA_ATTR:Ke,ARIA_ATTR:dt,IS_SCRIPT_OR_DATA:Ze,ATTR_WHITESPACE:Re,CUSTOM_ELEMENT:pt}=ln;let{IS_ALLOWED_URI:Ie}=ln,E=null;const Je=f({},[...an,...Rt,...It,...Lt,...on]);let R=null;const Fe=f({},[...rn,...Nt,...sn,...it]);let h=Object.seal(_n(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,d=null,I=!0,k=!0,Ae=!1,et=!0,K=!1,Le=!0,ae=!1,Ne=!1,He=!1,le=!1,De=!1,be=!1,tt=!0,ze=!1;const _t="user-content-";let Ge=!0,Se=!1,p={},u=null;const V=f({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ge=null;const ye=f({},["audio","video","img","source","image","track"]);let Oe=null;const Z=f({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oe="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xhtml";let xe=ce,gt=!1,ht=null;const En=f({},[oe,he,ce],Ot);let nt=f({},["mi","mo","mn","ms","mtext"]),at=f({},["annotation-xml"]);const vn=f({},["title","style","font","a","script"]);let We=null;const An=["application/xhtml+xml","text/html"],bn="text/html";let x=null,Ce=null;const Sn=s.createElement("form"),Ft=function(e){return e instanceof RegExp||e instanceof Function},Tt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ce&&Ce===e)){if((!e||typeof e!="object")&&(e={}),e=de(e),We=An.indexOf(e.PARSER_MEDIA_TYPE)===-1?bn:e.PARSER_MEDIA_TYPE,x=We==="application/xhtml+xml"?Ot:st,E=ee(e,"ALLOWED_TAGS")?f({},e.ALLOWED_TAGS,x):Je,R=ee(e,"ALLOWED_ATTR")?f({},e.ALLOWED_ATTR,x):Fe,ht=ee(e,"ALLOWED_NAMESPACES")?f({},e.ALLOWED_NAMESPACES,Ot):En,Oe=ee(e,"ADD_URI_SAFE_ATTR")?f(de(Z),e.ADD_URI_SAFE_ATTR,x):Z,ge=ee(e,"ADD_DATA_URI_TAGS")?f(de(ye),e.ADD_DATA_URI_TAGS,x):ye,u=ee(e,"FORBID_CONTENTS")?f({},e.FORBID_CONTENTS,x):V,ve=ee(e,"FORBID_TAGS")?f({},e.FORBID_TAGS,x):de({}),d=ee(e,"FORBID_ATTR")?f({},e.FORBID_ATTR,x):de({}),p=ee(e,"USE_PROFILES")?e.USE_PROFILES:!1,I=e.ALLOW_ARIA_ATTR!==!1,k=e.ALLOW_DATA_ATTR!==!1,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,et=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=e.SAFE_FOR_TEMPLATES||!1,Le=e.SAFE_FOR_XML!==!1,ae=e.WHOLE_DOCUMENT||!1,le=e.RETURN_DOM||!1,De=e.RETURN_DOM_FRAGMENT||!1,be=e.RETURN_TRUSTED_TYPE||!1,He=e.FORCE_BODY||!1,tt=e.SANITIZE_DOM!==!1,ze=e.SANITIZE_NAMED_PROPS||!1,Ge=e.KEEP_CONTENT!==!1,Se=e.IN_PLACE||!1,Ie=e.ALLOWED_URI_REGEXP||gn,xe=e.NAMESPACE||ce,nt=e.MATHML_TEXT_INTEGRATION_POINTS||nt,at=e.HTML_INTEGRATION_POINTS||at,h=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ft(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(h.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ft(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(h.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(h.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(k=!1),De&&(le=!0),p&&(E=f({},on),R=[],p.html===!0&&(f(E,an),f(R,rn)),p.svg===!0&&(f(E,Rt),f(R,Nt),f(R,it)),p.svgFilters===!0&&(f(E,It),f(R,Nt),f(R,it)),p.mathMl===!0&&(f(E,Lt),f(R,sn),f(R,it))),e.ADD_TAGS&&(E===Je&&(E=de(E)),f(E,e.ADD_TAGS,x)),e.ADD_ATTR&&(R===Fe&&(R=de(R)),f(R,e.ADD_ATTR,x)),e.ADD_URI_SAFE_ATTR&&f(Oe,e.ADD_URI_SAFE_ATTR,x),e.FORBID_CONTENTS&&(u===V&&(u=de(u)),f(u,e.FORBID_CONTENTS,x)),Ge&&(E["#text"]=!0),ae&&f(E,["html","head","body"]),E.table&&(f(E,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw $e('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $e('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,y=b.createHTML("")}else b===void 0&&(b=pa(q,l)),b!==null&&typeof y=="string"&&(y=b.createHTML(""));W&&W(e),Ce=e}},Ht=f({},[...Rt,...It,...aa]),zt=f({},[...Lt,...oa]),yn=function(e){let n=m(e);(!n||!n.tagName)&&(n={namespaceURI:xe,tagName:"template"});const o=st(e.tagName),g=st(n.tagName);return ht[e.namespaceURI]?e.namespaceURI===he?n.namespaceURI===ce?o==="svg":n.namespaceURI===oe?o==="svg"&&(g==="annotation-xml"||nt[g]):!!Ht[o]:e.namespaceURI===oe?n.namespaceURI===ce?o==="math":n.namespaceURI===he?o==="math"&&at[g]:!!zt[o]:e.namespaceURI===ce?n.namespaceURI===he&&!at[g]||n.namespaceURI===oe&&!nt[g]?!1:!zt[o]&&(vn[o]||!Ht[o]):!!(We==="application/xhtml+xml"&&ht[e.namespaceURI]):!1},ie=function(e){je(t.removed,{element:e});try{m(e).removeChild(e)}catch{_e(e)}},Me=function(e,n){try{je(t.removed,{attribute:n.getAttributeNode(e),from:n})}catch{je(t.removed,{attribute:null,from:n})}if(n.removeAttribute(e),e==="is")if(le||De)try{ie(n)}catch{}else try{n.setAttribute(e,"")}catch{}},Gt=function(e){let n=null,o=null;if(He)e="<remove></remove>"+e;else{const L=nn(e,/^[\r\n\t ]+/);o=L&&L[0]}We==="application/xhtml+xml"&&xe===ce&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const g=b?b.createHTML(e):e;if(xe===ce)try{n=new O().parseFromString(g,We)}catch{}if(!n||!n.documentElement){n=Ee.createDocument(xe,"template",null);try{n.documentElement.innerHTML=gt?y:g}catch{}}const P=n.body||n.documentElement;return e&&o&&P.insertBefore(s.createTextNode(o),P.childNodes[0]||null),xe===ce?ft.call(n,ae?"html":"body")[0]:ae?n.documentElement:P},Wt=function(e){return ct.call(e.ownerDocument||e,e,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof D&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof Q)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},Bt=function(e){return typeof j=="function"&&e instanceof j};function ue(i,e,n){ot(i,o=>{o.call(t,e,n,Ce)})}const qt=function(e){let n=null;if(ue(M.beforeSanitizeElements,e,null),Et(e))return ie(e),!0;const o=x(e.nodeName);if(ue(M.uponSanitizeElement,e,{tagName:o,allowedTags:E}),Le&&e.hasChildNodes()&&!Bt(e.firstElementChild)&&z(/<[/\w!]/g,e.innerHTML)&&z(/<[/\w!]/g,e.textContent)||e.nodeType===Qe.progressingInstruction||Le&&e.nodeType===Qe.comment&&z(/<[/\w]/g,e.data))return ie(e),!0;if(!E[o]||ve[o]){if(!ve[o]&&jt(o)&&(h.tagNameCheck instanceof RegExp&&z(h.tagNameCheck,o)||h.tagNameCheck instanceof Function&&h.tagNameCheck(o)))return!1;if(Ge&&!u[o]){const g=m(e)||e.parentNode,P=H(e)||e.childNodes;if(P&&g){const L=P.length;for(let Y=L-1;Y>=0;--Y){const fe=w(P[Y],!0);fe.__removalCount=(e.__removalCount||0)+1,g.insertBefore(fe,ne(e))}}}return ie(e),!0}return e instanceof C&&!yn(e)||(o==="noscript"||o==="noembed"||o==="noframes")&&z(/<\/no(script|embed|frames)/i,e.innerHTML)?(ie(e),!0):(K&&e.nodeType===Qe.text&&(n=e.textContent,ot([ke,Pe,Ue],g=>{n=Ve(n,g," ")}),e.textContent!==n&&(je(t.removed,{element:e.cloneNode()}),e.textContent=n)),ue(M.afterSanitizeElements,e,null),!1)},Yt=function(e,n,o){if(tt&&(n==="id"||n==="name")&&(o in s||o in Sn))return!1;if(!(k&&!d[n]&&z(Ke,n))){if(!(I&&z(dt,n))){if(!R[n]||d[n]){if(!(jt(e)&&(h.tagNameCheck instanceof RegExp&&z(h.tagNameCheck,e)||h.tagNameCheck instanceof Function&&h.tagNameCheck(e))&&(h.attributeNameCheck instanceof RegExp&&z(h.attributeNameCheck,n)||h.attributeNameCheck instanceof Function&&h.attributeNameCheck(n))||n==="is"&&h.allowCustomizedBuiltInElements&&(h.tagNameCheck instanceof RegExp&&z(h.tagNameCheck,o)||h.tagNameCheck instanceof Function&&h.tagNameCheck(o))))return!1}else if(!Oe[n]){if(!z(Ie,Ve(o,Re,""))){if(!((n==="src"||n==="xlink:href"||n==="href")&&e!=="script"&&Jn(o,"data:")===0&&ge[e])){if(!(Ae&&!z(Ze,Ve(o,Re,"")))){if(o)return!1}}}}}}return!0},jt=function(e){return e!=="annotation-xml"&&nn(e,pt)},Vt=function(e){ue(M.beforeSanitizeAttributes,e,null);const{attributes:n}=e;if(!n||Et(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:R,forceKeepAttr:void 0};let g=n.length;for(;g--;){const P=n[g],{name:L,namespaceURI:Y,value:fe}=P,Be=x(L),vt=fe;let U=L==="value"?vt:ea(vt);if(o.attrName=Be,o.attrValue=U,o.keepAttr=!0,o.forceKeepAttr=void 0,ue(M.uponSanitizeAttribute,e,o),U=o.attrValue,ze&&(Be==="id"||Be==="name")&&(Me(L,e),U=_t+U),Le&&z(/((--!?|])>)|<\/(style|title)/i,U)){Me(L,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){Me(L,e);continue}if(!et&&z(/\/>/i,U)){Me(L,e);continue}K&&ot([ke,Pe,Ue],Xt=>{U=Ve(U,Xt," ")});const $t=x(e.nodeName);if(!Yt($t,Be,U)){Me(L,e);continue}if(b&&typeof q=="object"&&typeof q.getAttributeType=="function"&&!Y)switch(q.getAttributeType($t,Be)){case"TrustedHTML":{U=b.createHTML(U);break}case"TrustedScriptURL":{U=b.createScriptURL(U);break}}if(U!==vt)try{Y?e.setAttributeNS(Y,L,U):e.setAttribute(L,U),Et(e)?ie(e):tn(t.removed)}catch{Me(L,e)}}ue(M.afterSanitizeAttributes,e,null)},On=function i(e){let n=null;const o=Wt(e);for(ue(M.beforeSanitizeShadowDOM,e,null);n=o.nextNode();)ue(M.uponSanitizeShadowNode,n,null),qt(n),Vt(n),n.content instanceof _&&i(n.content);ue(M.afterSanitizeShadowDOM,e,null)};return t.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=null,o=null,g=null,P=null;if(gt=!i,gt&&(i="<!-->"),typeof i!="string"&&!Bt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw $e("dirty is not a string, aborting")}else throw $e("toString is not a function");if(!t.isSupported)return i;if(Ne||Tt(e),t.removed=[],typeof i=="string"&&(Se=!1),Se){if(i.nodeName){const fe=x(i.nodeName);if(!E[fe]||ve[fe])throw $e("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof j)n=Gt("<!---->"),o=n.ownerDocument.importNode(i,!0),o.nodeType===Qe.element&&o.nodeName==="BODY"||o.nodeName==="HTML"?n=o:n.appendChild(o);else{if(!le&&!K&&!ae&&i.indexOf("<")===-1)return b&&be?b.createHTML(i):i;if(n=Gt(i),!n)return le?null:be?y:""}n&&He&&ie(n.firstChild);const L=Wt(Se?i:n);for(;g=L.nextNode();)qt(g),Vt(g),g.content instanceof _&&On(g.content);if(Se)return i;if(le){if(De)for(P=ut.call(n.ownerDocument);n.firstChild;)P.appendChild(n.firstChild);else P=n;return(R.shadowroot||R.shadowrootmode)&&(P=mt.call(r,P,!0)),P}let Y=ae?n.outerHTML:n.innerHTML;return ae&&E["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&z(hn,n.ownerDocument.doctype.name)&&(Y="<!DOCTYPE "+n.ownerDocument.doctype.name+`>
`+Y),K&&ot([ke,Pe,Ue],fe=>{Y=Ve(Y,fe," ")}),b&&be?b.createHTML(Y):Y},t.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tt(i),Ne=!0},t.clearConfig=function(){Ce=null,Ne=!1},t.isValidAttribute=function(i,e,n){Ce||Tt({});const o=x(i),g=x(e);return Yt(o,g,n)},t.addHook=function(i,e){typeof e=="function"&&je(M[i],e)},t.removeHook=function(i,e){if(e!==void 0){const n=Kn(M[i],e);return n===-1?void 0:Zn(M[i],n,1)[0]}return tn(M[i])},t.removeHooks=function(i){M[i]=[]},t.removeAllHooks=function(){M=cn()},t}var _a=Tn();const ga="_stacked_vm92t_9",un={"input-sizer":"_input-sizer_vm92t_1",stacked:ga};var ha=te('<div><textarea class="svelte-16erkv3"></textarea></div>');function Ta(a,t){kt(t,!0);const[s,r]=Mt(),l=()=>lt(Ut,"$_",s);let _=rt(t,"textValue",15),F=rt(t,"debounceTime",3,750),j=rt(t,"typingActive",15,!1),C=null,S=null;const Q=()=>{j(!0),C&&clearTimeout(C),C=setTimeout(()=>{j(!1)},F())};function D(){return typeof window<"u"&&window.innerWidth<=768}function O(){!S||!D()||(S.getBoundingClientRect(),window.scrollTo({top:0,behavior:"smooth"}))}var q=ha(),T=v(q);Cn(T),T.__input=()=>{var w;if(S){if(D())return;(w=S.parentElement)==null||w.setAttribute("data-value",S.value+`
`)}O()},T.__keydown=Q,qn(T,w=>S=w,()=>S),A(q),pe(w=>{mn(q,1,`${un["input-sizer"]} ${un.stacked}`),we(T,"placeholder",w),we(T,"name",t.labelId)},[()=>l()("submit_input_placeholder")]),fn("focus",T,()=>O()),Vn(T,_),$(a,q),Pt(),r()}wt(["input","keydown"]);const Ea={"check-icon-container":"_check-icon-container_s4n83_1"};var va=te("<label> </label>"),Aa=(a,t,s)=>{t(),s.handleSubmit()},ba=te('<div><input type="checkbox"/> <!> <div class="disclaimer-btn-container"><div><button data-variant="primary"> </button></div></div></div>');function Sa(a,t){kt(t,!0);const[s,r]=Mt(),l=()=>lt(Ut,"$_",s),{playBlip:_,playtoMap:F}=dn();function j(){_()}let C=rt(t,"checkValue",15,!1);function S(){C(!C())}var Q=ba(),D=v(Q);Gn(D),D.__change=S;var O=J(D,2);{var q=H=>{var m=va(),b=v(m,!0);A(m),pe(y=>{we(m,"for",`${t.translateIdForCheckbox}-id`),Te(b,y)},[()=>l()(t.translateIdForCheckbox)]),$(H,m)};me(O,H=>{t.hideLabel||H(q)})}var T=J(O,2),w=v(T),_e=v(w);_e.__click=[Aa,F,t];var ne=v(_e,!0);A(_e),A(w),A(T),A(Q),pe((H,m,b)=>{mn(Q,1,Wn(Ea["check-icon-container"])),Bn(D,C()),we(D,"id",`${t.translateIdForCheckbox}-id`),we(D,"name",H),we(D,"aria-label",m),_e.disabled=!C(),Te(ne,b)},[()=>l()(t.translateIdForCheckbox),()=>l()(t.translateIdForCheckbox),()=>l()("submit_btn_submit")]),fn("keypress",D,H=>{H.key==="Enter"&&(S(),j())}),G(3,T,()=>Dt),$(a,Q),Pt(),r()}wt(["change","click"]);function ya(a,t){t&&t.updateCoords(a)}var Oa=te('<div class="svelte-1bq6ojp"></div>'),Ra=te('<div class="warning-bubble bubble svelte-1bq6ojp"><p class="svelte-1bq6ojp"><!></p></div>'),Ia=te('<div class="loader-bubble bubble svelte-1bq6ojp"><!></div>'),La=te('<div class="suggestions-bubble bubble svelte-1bq6ojp"><p class="svelte-1bq6ojp"> </p> <br class="svelte-1bq6ojp"/> <p class="svelte-1bq6ojp"> </p></div>'),Na=te('<p class="thank-you-bubble bubble svelte-1bq6ojp"> </p>'),Da=te('<div class="question-container svelte-1bq6ojp"><span id="question-label-main" class="svelte-1bq6ojp"> </span></div> <div class="input-container svelte-1bq6ojp"><!></div> <div class="suggestions-container svelte-1bq6ojp"><!> <!> <!> <!> <!></div>',1),xa=te('<div class="disclaimer-container svelte-1bq6ojp"><!></div>'),Ca=te('<header class="svelte-1bq6ojp"><!></header> <div class="card-submit-container svelte-1bq6ojp" role="presentation"><div class="card-left-col-container svelte-1bq6ojp"><!></div> <div class="actions-container svelte-1bq6ojp"><!></div></div>',1);function Va(a,t){kt(t,!0);const[s,r]=Mt(),l=()=>lt(Ut,"$_",s),_=()=>lt(Fn,"$locale",s),F=Mn("navigation"),{switchToPage:j}=dn();let C=re(null),S=re(null),Q=re(null),D=re(null),O=re(""),q=re(""),T=re(!1),w=re(!1),_e=750,ne=re(!1),H=30,m=re("off"),b=3e3,y=500,Ee=At();const ct=()=>({API_ENDPOINT:"/get_questions",API_METHOD:"POST",REQUEST_BODY:{question_type:"starter"}}),ut=()=>({API_ENDPOINT:"/suggestion",API_METHOD:"POST",REQUEST_BODY:{language:At(),story:c(O)}}),ft=()=>({API_ENDPOINT:"/add_story",API_METHOD:"POST",REQUEST_BODY:{text:_a.sanitize(c(O)),question:c(Q),language:At()}});let mt;async function M(){c(T)===!0&&await bt(ft()).then(d=>{var k;F.setSource("submit");let I=d.story_id||d.id||d.storyId||((k=d.story)==null?void 0:k.id);I&&F.setSubmittedStoryId(I),Hn(zn("/explore"))}).catch(d=>{Ye(l()("error_description_general"),500)})}async function ke(){try{const d=await bt(ut());N(q,d.suggestion,!0),N(m,"ok")}catch{Ye(l()("error_description_general"),500)}}async function Pe(){await bt(ct()).then(d=>{N(C,d,!0),Ue()}).catch(d=>{Ye(l()("error_description_general"),500)})}function Ue(){c(C)||Ye(l()("error_description_general"),500);const d=Math.floor(Math.random()*c(C).questions.length);N(D,c(C).questions[d],!0),Ke()}function Ke(){if(!c(D)){console.error("Question container is null");return}let d=c(D).find(I=>I.language===Ee);!d&&Ee==="North Sámi"&&(d=c(D).find(I=>I.language==="English")),d||(console.error("No suitable question found"),Ye(l()("error_description_general"),500)),N(S,d.text,!0),N(Q,d.original_id,!0)}function dt(){if(c(O).length<=0){N(m,"off"),N(ne,!1);return}if(c(m)==="done"){c(O).length<H&&(N(m,"warning"),N(ne,!1));return}c(w)===!0?c(m)==="ok"?(N(m,"off"),N(ne,!0)):N(m,"off"):c(O).length<H?N(m,"warning"):c(O).length>=H&&c(m)!=="ok"&&c(m)!=="done"&&c(m)!=="loading"&&c(ne)===!1?(N(m,"loading"),ke()):c(m)==="off"&&c(O).length>=H&&c(ne)===!0&&N(m,"done")}Qt(()=>{dt()}),Qt(()=>{_(),c(C)&&Ke()}),wn(()=>{j("submit"),Pe()});var Ze=Ca();kn(d=>{pe((I,k)=>Pn.title=`${I??""} | ${k??""} | Oulu 2026`,[()=>l()("main_title"),()=>l()("main_subtitle")])});var Re=Kt(Ze),pt=v(Re);jn(pt,{button_text_id:"back",rel_url:"/"}),A(Re);var Ie=J(Re,2);Ie.__mousemove=[ya,mt];var E=v(Ie),Je=v(E);{var R=d=>{var I=Da(),k=Kt(I),Ae=v(k),et=v(Ae,!0);A(Ae),A(k);var K=J(k,2),Le=v(K);{let p=Un(()=>l()("submit_input_placeholder",{default:"Your story"}));Ta(Le,{get name(){return c(p)},debounceTime:_e,labelId:"question-label-main",get textValue(){return c(O)},set textValue(u){N(O,u,!0)},get typingActive(){return c(w)},set typingActive(u){N(w,u,!0)}})}A(K);var ae=J(K,2),Ne=v(ae);{var He=p=>{var u=Oa();G(1,u,()=>se,()=>({duration:y})),G(2,u,()=>se,()=>({duration:y})),$(p,u)};me(Ne,p=>{c(m)!=="off"&&p(He)})}var le=J(Ne,2);{var De=p=>{var u=Ra(),V=v(u),ge=v(V);{var ye=Z=>{var oe=Zt();pe(he=>Te(oe,he),[()=>l()("submit_type_story")]),$(Z,oe)},Oe=Z=>{var oe=Zt();pe(he=>Te(oe,he),[()=>l()("submit_type_more")]),$(Z,oe)};me(ge,Z=>{c(O).length===0?Z(ye):Z(Oe,!1)})}A(V),A(u),G(1,u,()=>se,()=>({duration:y})),G(2,u,()=>se,()=>({duration:y})),$(p,u)};me(le,p=>{c(m)==="warning"&&p(De)})}var be=J(le,2);{var tt=p=>{var u=Ia(),V=v(u);Yn(V,{color:"white",pulseSize:"30px",pulseTiming:"1s"}),A(u),G(1,u,()=>se,()=>({duration:y})),G(2,u,()=>se,()=>({duration:y})),$(p,u)};me(be,p=>{c(m)==="loading"&&p(tt)})}var ze=J(be,2);{var _t=p=>{var u=La(),V=v(u),ge=v(V,!0);A(V);var ye=J(V,4),Oe=v(ye,!0);A(ye),A(u),pe(Z=>{Te(ge,Z),Te(Oe,c(q))},[()=>l()("submit_please_extend")]),G(1,u,()=>se,()=>({duration:y})),G(2,u,()=>se,()=>({duration:y})),$(p,u)};me(ze,p=>{c(m)==="ok"&&p(_t)})}var Ge=J(ze,2);{var Se=p=>{var u=Na(),V=v(u,!0);A(u),pe(ge=>Te(V,ge),[()=>l()("submit_acknowlegment")]),G(1,u,()=>se,()=>({duration:y})),G(2,u,()=>Dt,()=>({duration:b})),$(p,u)};me(Ge,p=>{c(m)==="done"&&p(Se)})}A(ae),pe(()=>Te(et,c(S))),G(1,k,()=>Jt,()=>({duration:y})),G(2,k,()=>Jt,()=>({duration:y})),G(2,K,()=>se,()=>({duration:y})),$(d,I)};me(Je,d=>{c(S)&&d(R)})}A(E);var Fe=J(E,2),h=v(Fe);{var ve=d=>{var I=xa(),k=v(I);Sa(k,{handleSubmit:M,translateIdForCheckbox:"submit_disclaimer",hideLabel:!1,get checkValue(){return c(T)},set checkValue(Ae){N(T,Ae,!0)}}),A(I),G(3,I,()=>Dt),$(d,I)};me(h,d=>{(c(m)==="done"||c(m)==="ok"||c(ne)===!0)&&c(O).length>H&&d(ve)})}A(Fe),A(Ie),$(a,Ze),Pt(),r()}wt(["mousemove"]);export{Va as component};
