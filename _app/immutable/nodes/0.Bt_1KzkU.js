var Ro=Object.defineProperty;var Do=Object.getPrototypeOf;var Bo=Reflect.get;var _r=n=>{throw TypeError(n)};var Vo=(n,e,t)=>e in n?Ro(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var T=(n,e,t)=>Vo(n,typeof e!="symbol"?e+"":e,t),Cn=(n,e,t)=>e.has(n)||_r("Cannot "+t);var i=(n,e,t)=>(Cn(n,e,"read from private field"),t?t.call(n):e.get(n)),h=(n,e,t)=>e.has(n)?_r("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),A=(n,e,t,r)=>(Cn(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),O=(n,e,t)=>(Cn(n,e,"access private method"),t);var Er=(n,e,t)=>Bo(Do(n),t,e);import{a as Zt,s as nr}from"../chunks/BniEmjqM.js";import{ax as jo,b as Yr,h as je,a as Zr,bg as Ar,H as Uo,j as Wo,k as zo,l as Tr,U as Fn,aN as xn,o as Mn,d as Kt,q as qo,f as Jr,x as Cr,bh as xr,bi as Ir,b8 as Ko,m as Pr,p as Gt,a9 as Go,a2 as kr,ai as Qr,bj as Ho,bk as Xo,c as Yo,e as Zo,s as Jo,$ as D,a0 as L,V as P,ae as N,C as $r,D as S,y as u,ag as K,bl as Or,bf as rt,bm as ne,bn as Qo,bo as Nr,bp as $o,ab as ei,ac as Me,u as Rn,af as ti,O as Q,W as $,bq as J,a1 as ae,br as ni,a8 as ri,aa as oi,bs as ii,bt as rr,Q as re,R as q,X as j,Y as le,_ as wn,T as Jt,Z as Dn,ad as si,am as ai}from"../chunks/BdwEzn_I.js";import{c as it}from"../chunks/DgiBHb7J.js";import{I as or,s as ir,a as ui,i as ci,t as Bn,b as li,e as di,f as Lr}from"../chunks/BvlJ5lqz.js";import{_ as Sn}from"../chunks/Dp1pzeXC.js";import{r as _n,b as eo,g as fi,c as hi,$ as to,a as Fr,w as no}from"../chunks/bwUnXfoF.js";import{p as Qt}from"../chunks/DJAPYr0U.js";import{c as In,b as sr,d as pi,e as vi,f as gi,a as mi}from"../chunks/psEYtvzk.js";import{l as ar,s as Ie,p as C,r as ur}from"../chunks/ZPzR1z2S.js";import"../chunks/Z_d5nBXf.js";import{i as Ae}from"../chunks/DagnvrFS.js";import{c as bi,X as yi,a as wi,b as Si,d as de,e as be,s as _i,t as jt,A as Ei,C as Ai}from"../chunks/Bbc8Q9Pj.js";import{b as ro,g as Ti}from"../chunks/wfhTJM5u.js";function Ci(){return Symbol(jo)}const Pn=0,Ut=1,kn=2;function xi(n,e,t,r,o){je&&Zr();var s=n,a=Qr(),c=Ko,l=Fn,f,d,p,w=a?Mn(void 0):kr(void 0,!1,!1),I=a?Mn(void 0):kr(void 0,!1,!1),b=!1;function g(_,k){b=!0,k&&(Cr(m),xr(m),Ir(c));try{_===Pn&&t&&(f?Pr(f):f=Kt(()=>t(s))),_===Ut&&r&&(d?Pr(d):d=Kt(()=>r(s,w))),_!==Pn&&f&&Gt(f,()=>f=null),_!==Ut&&d&&Gt(d,()=>d=null),_!==kn&&p&&Gt(p,()=>p=null)}finally{k&&(Ir(null),xr(null),Cr(null),Go())}}var m=Yr(()=>{if(l===(l=e()))return;let _=je&&Ar(l)===(s.data===Uo);if(_&&(s=Wo(),zo(s),Tr(!1),_=!0),Ar(l)){var k=l;b=!1,k.then(M=>{k===l&&(xn(w,M),g(Ut,!0))},M=>{if(k===l)throw xn(I,M),g(kn,!0),I.v}),je?t&&(f=Kt(()=>t(s))):qo(()=>{b||g(Pn,!0)})}else xn(w,l),g(Ut,!1);return _&&Tr(!0),()=>l=Fn});je&&(s=Jr)}function oo(n,e,t){je&&Zr();var r=n,o=Fn,s,a,c=null,l=Qr()?Ho:Xo;function f(){s&&Gt(s),c!==null&&(c.lastChild.remove(),r.before(c),c=null),s=a}Yr(()=>{if(l(o,o=e())){var d=r,p=Jo();p&&(c=document.createDocumentFragment(),c.append(d=Yo())),a=Kt(()=>t(d)),p?Zo.add_callback(f):f()}}),je&&(r=Jr)}const Ii=!0,hu=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ii},Symbol.toStringTag,{value:"Module"})),Mr="en";_n("en",()=>Sn(()=>import("../chunks/Qyax1cwP.js"),[],import.meta.url));_n("fi",()=>Sn(()=>import("../chunks/BRpihtYY.js"),[],import.meta.url));_n("sv",()=>Sn(()=>import("../chunks/UR3G0BYx.js"),[],import.meta.url));_n("sa",()=>Sn(()=>import("../chunks/-XYQ1-VA.js"),[],import.meta.url));eo({fallbackLocale:Mr,initialLocale:fi()||Mr});async function Pi(){try{const e=await fetch("https://peacemachine.eu/auth/app-token",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Error ${e.status}: ${await e.text()}`);const t=await e.json();return localStorage.setItem("accessToken",t.access_token),localStorage.setItem("refreshToken",t.refresh_token),t}catch(n){return console.error("Error getting auth token:",n),null}}function ki(n,e){const t=ar(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];or(n,Ie({name:"globe"},()=>t,{get iconNode(){return r},children:(o,s)=>{var a=D(),c=L(a);ir(c,e,"default",{}),P(o,a)},$$slots:{default:!0}}))}function Oi(n,e){const t=ar(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];or(n,Ie({name:"volume-2"},()=>t,{get iconNode(){return r},children:(o,s)=>{var a=D(),c=L(a);ir(c,e,"default",{}),P(o,a)},$$slots:{default:!0}}))}function Ni(n,e){const t=ar(e,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];or(n,Ie({name:"volume-x"},()=>t,{get iconNode(){return r},children:(o,s)=>{var a=D(),c=L(a);ir(c,e,"default",{}),P(o,a)},$$slots:{default:!0}}))}function Li(n){return typeof n=="function"}function Bt(n){return n!==null&&typeof n=="object"}const Fi=["string","number","bigint","boolean"];function Vn(n){return n==null||Fi.includes(typeof n)?!0:Array.isArray(n)?n.every(e=>Vn(e)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const st=Symbol("box"),cr=Symbol("is-writable");function Mi(n){return Bt(n)&&st in n}function Ri(n){return v.isBox(n)&&cr in n}function v(n){let e=N($r(n));return{[st]:!0,[cr]:!0,get current(){return u(e)},set current(t){S(e,t,!0)}}}function Di(n,e){const t=K(n);return e?{[st]:!0,[cr]:!0,get current(){return u(t)},set current(r){e(r)}}:{[st]:!0,get current(){return n()}}}function Bi(n){return v.isBox(n)?n:Li(n)?v.with(n):v(n)}function Vi(n){return Object.entries(n).reduce((e,[t,r])=>v.isBox(r)?(v.isWritableBox(r)?Object.defineProperty(e,t,{get(){return r.current},set(o){r.current=o}}):Object.defineProperty(e,t,{get(){return r.current}}),e):Object.assign(e,{[t]:r}),{})}function ji(n){return v.isWritableBox(n)?{[st]:!0,get current(){return n.current}}:n}v.from=Bi;v.with=Di;v.flatten=Vi;v.readonly=ji;v.isBox=Mi;v.isWritableBox=Ri;function io(...n){return function(e){var t;for(const r of n)if(r){if(e.defaultPrevented)return;typeof r=="function"?r.call(this,e):(t=r.current)==null||t.call(this,e)}}}var Be={},On,Rr;function Ui(){if(Rr)return On;Rr=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,c=/^\s+|\s+$/g,l=`
`,f="/",d="*",p="",w="comment",I="declaration";On=function(g,m){if(typeof g!="string")throw new TypeError("First argument must be a string");if(!g)return[];m=m||{};var _=1,k=1;function M(x){var y=x.match(e);y&&(_+=y.length);var Z=x.lastIndexOf(l);k=~Z?x.length-Z:k+x.length}function Y(){var x={line:_,column:k};return function(y){return y.position=new E(x),W(),y}}function E(x){this.start=x,this.end={line:_,column:k},this.source=m.source}E.prototype.content=g;function R(x){var y=new Error(m.source+":"+_+":"+k+": "+x);if(y.reason=x,y.filename=m.source,y.line=_,y.column=k,y.source=g,!m.silent)throw y}function F(x){var y=x.exec(g);if(y){var Z=y[0];return M(Z),g=g.slice(Z.length),y}}function W(){F(t)}function z(x){var y;for(x=x||[];y=V();)y!==!1&&x.push(y);return x}function V(){var x=Y();if(!(f!=g.charAt(0)||d!=g.charAt(1))){for(var y=2;p!=g.charAt(y)&&(d!=g.charAt(y)||f!=g.charAt(y+1));)++y;if(y+=2,p===g.charAt(y-1))return R("End of comment missing");var Z=g.slice(2,y-2);return k+=2,M(Z),g=g.slice(y),k+=2,x({type:w,comment:Z})}}function G(){var x=Y(),y=F(r);if(y){if(V(),!F(o))return R("property missing ':'");var Z=F(s),An=x({type:I,property:b(y[0].replace(n,p)),value:Z?b(Z[0].replace(n,p)):p});return F(a),An}}function te(){var x=[];z(x);for(var y;y=G();)y!==!1&&(x.push(y),z(x));return x}return W(),te()};function b(g){return g?g.replace(c,p):p}return On}var Dr;function Wi(){if(Dr)return Be;Dr=1;var n=Be&&Be.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Be,"__esModule",{value:!0}),Be.default=t;var e=n(Ui());function t(r,o){var s=null;if(!r||typeof r!="string")return s;var a=(0,e.default)(r),c=typeof o=="function";return a.forEach(function(l){if(l.type==="declaration"){var f=l.property,d=l.value;c?o(f,d,l):d&&(s=s||{},s[f]=d)}}),s}return Be}var zi=Wi();const Br=hi(zi),qi=Br.default||Br,Ki=/\d/,Gi=["-","_","/","."];function Hi(n=""){if(!Ki.test(n))return n!==n.toLowerCase()}function Xi(n){const e=[];let t="",r,o;for(const s of n){const a=Gi.includes(s);if(a===!0){e.push(t),t="",r=void 0;continue}const c=Hi(s);if(o===!1){if(r===!1&&c===!0){e.push(t),t=s,r=c;continue}if(r===!0&&c===!1&&t.length>1){const l=t.at(-1);e.push(t.slice(0,Math.max(0,t.length-1))),t=l+s,r=c;continue}}t+=s,r=c,o=a}return e.push(t),e}function so(n){return n?Xi(n).map(e=>Zi(e)).join(""):""}function Yi(n){return Ji(so(n||""))}function Zi(n){return n?n[0].toUpperCase()+n.slice(1):""}function Ji(n){return n?n[0].toLowerCase()+n.slice(1):""}function Wt(n){if(!n)return{};const e={};function t(r,o){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[so(r)]=o;return}if(r.startsWith("--")){e[r]=o;return}e[Yi(r)]=o}return qi(n,t),e}function Ue(...n){return(...e)=>{for(const t of n)typeof t=="function"&&t(...e)}}function Qi(n,e){const t=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(t)?r.replace(t,e):r}}const $i=Qi(/[A-Z]/,n=>`-${n.toLowerCase()}`);function es(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(e=>`${$i(e)}: ${n[e]};`).join(`
`)}function ao(n={}){return es(n).replace(`
`," ")}const ts={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};ao(ts);const ns=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],rs=new Set(ns);function os(n){return rs.has(n)}function Re(...n){const e={...n[0]};for(let t=1;t<n.length;t++){const r=n[t];if(r){for(const o of Object.keys(r)){const s=e[o],a=r[o],c=typeof s=="function",l=typeof a=="function";if(c&&os(o)){const f=s,d=a;e[o]=io(f,d)}else if(c&&l)e[o]=Ue(s,a);else if(o==="class"){const f=Vn(s),d=Vn(a);f&&d?e[o]=In(s,a):f?e[o]=In(s):d&&(e[o]=In(a))}else if(o==="style"){const f=typeof s=="object",d=typeof a=="object",p=typeof s=="string",w=typeof a=="string";if(f&&d)e[o]={...s,...a};else if(f&&w){const I=Wt(a);e[o]={...s,...I}}else if(p&&d){const I=Wt(s);e[o]={...I,...a}}else if(p&&w){const I=Wt(s),b=Wt(a);e[o]={...I,...b}}else f?e[o]=s:d?e[o]=a:p?e[o]=s:w&&(e[o]=a)}else e[o]=a!==void 0?a:s}for(const o of Object.getOwnPropertySymbols(r)){const s=e[o],a=r[o];e[o]=a!==void 0?a:s}}}return typeof e.style=="object"&&(e.style=ao(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const is=typeof window<"u"?window:void 0;function ss(n){let e=n.activeElement;for(;e!=null&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}var ue,ce,fe,rn,se,ot,Ht;const hr=class hr extends Map{constructor(t){super();h(this,se);h(this,ue,new Map);h(this,ce,N(0));h(this,fe,N(0));h(this,rn,Or||-1);if(t){for(var[r,o]of t)super.set(r,o);i(this,fe).v=super.size}}has(t){var r=i(this,ue),o=r.get(t);if(o===void 0){var s=super.get(t);if(s!==void 0)o=O(this,se,ot).call(this,0),r.set(t,o);else return u(i(this,ce)),!1}return u(o),!0}forEach(t,r){O(this,se,Ht).call(this),super.forEach(t,r)}get(t){var r=i(this,ue),o=r.get(t);if(o===void 0){var s=super.get(t);if(s!==void 0)o=O(this,se,ot).call(this,0),r.set(t,o);else{u(i(this,ce));return}}return u(o),super.get(t)}set(t,r){var p;var o=i(this,ue),s=o.get(t),a=super.get(t),c=super.set(t,r),l=i(this,ce);if(s===void 0)s=O(this,se,ot).call(this,0),o.set(t,s),S(i(this,fe),super.size),rt(l);else if(a!==r){rt(s);var f=l.reactions===null?null:new Set(l.reactions),d=f===null||!((p=s.reactions)!=null&&p.every(w=>f.has(w)));d&&rt(l)}return c}delete(t){var r=i(this,ue),o=r.get(t),s=super.delete(t);return o!==void 0&&(r.delete(t),S(i(this,fe),super.size),S(o,-1),rt(i(this,ce))),s}clear(){if(super.size!==0){super.clear();var t=i(this,ue);S(i(this,fe),0);for(var r of t.values())S(r,-1);rt(i(this,ce)),t.clear()}}keys(){return u(i(this,ce)),super.keys()}values(){return O(this,se,Ht).call(this),super.values()}entries(){return O(this,se,Ht).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return u(i(this,fe)),super.size}};ue=new WeakMap,ce=new WeakMap,fe=new WeakMap,rn=new WeakMap,se=new WeakSet,ot=function(t){return Or===i(this,rn)?N(t):Mn(t)},Ht=function(){u(i(this,ce));var t=i(this,ue);if(i(this,fe).v!==t.size){for(var r of Er(hr.prototype,this,"keys").call(this))if(!t.has(r)){var o=O(this,se,ot).call(this,0);t.set(r,o)}}for([,o]of i(this,ue))u(o)};let jn=hr;var We,at;class as{constructor(e={}){h(this,We);h(this,at);const{window:t=is,document:r=t==null?void 0:t.document}=e;t!==void 0&&(A(this,We,r),A(this,at,bi(o=>{const s=ne(t,"focusin",o),a=ne(t,"focusout",o);return()=>{s(),a()}})))}get current(){var e;return(e=i(this,at))==null||e.call(this),i(this,We)?ss(i(this,We)):null}}We=new WeakMap,at=new WeakMap;new as;var ut,he;class uo{constructor(e){h(this,ut);h(this,he);A(this,ut,e),A(this,he,Symbol(e))}get key(){return i(this,he)}exists(){return Qo(i(this,he))}get(){const e=Nr(i(this,he));if(e===void 0)throw new Error(`Context "${i(this,ut)}" not found`);return e}getOr(e){const t=Nr(i(this,he));return t===void 0?e:t}set(e){return $o(i(this,he),e)}}ut=new WeakMap,he=new WeakMap;function us(n,e){switch(n){case"post":Me(e);break;case"pre":ei(e);break}}function co(n,e,t,r={}){const{lazy:o=!1}=r;let s=!o,a=Array.isArray(n)?[]:void 0;us(e,()=>{const c=Array.isArray(n)?n.map(f=>f()):n();if(!s){s=!0,a=c;return}const l=Rn(()=>t(c,a));return a=c,l})}function ie(n,e,t){co(n,"post",e,t)}function cs(n,e,t){co(n,"pre",e,t)}ie.pre=cs;var ze;class ls{constructor(e,t){h(this,ze,N(void 0));t!==void 0&&S(i(this,ze),t,!0),ie(()=>e(),(r,o)=>{S(i(this,ze),o,!0)})}get current(){return u(i(this,ze))}}ze=new WeakMap;function Vt(n){Me(()=>()=>{n()})}function lo(n,e){return setTimeout(e,n)}function lr(n){ti().then(n)}const ds=1,fs=9,hs=11;function Vr(n){return Bt(n)&&n.nodeType===ds&&typeof n.nodeName=="string"}function ps(n){return Bt(n)&&n.nodeType===fs}function vs(n){var e;return Bt(n)&&((e=n.constructor)==null?void 0:e.name)==="VisualViewport"}function gs(n){return Bt(n)&&n.nodeType!==void 0}function ms(n){return gs(n)&&n.nodeType===hs&&"host"in n}function bs(n,e){var r;if(!n||!e||!Vr(n)||!Vr(e))return!1;const t=(r=e.getRootNode)==null?void 0:r.call(e);if(n===e||n.contains(e))return!0;if(t&&ms(t)){let o=e;for(;o;){if(n===o)return!0;o=o.parentNode||o.host}}return!1}function ys(n){return ps(n)?n:vs(n)?n.document:(n==null?void 0:n.ownerDocument)??document}function ws(n){let e=n.activeElement;for(;e!=null&&e.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}var ct;class fo{constructor(e){T(this,"element");h(this,ct,K(()=>this.element.current?this.element.current.getRootNode()??document:document));T(this,"getDocument",()=>ys(this.root));T(this,"getWindow",()=>this.getDocument().defaultView??window);T(this,"getActiveElement",()=>ws(this.root));T(this,"isActiveElement",e=>e===this.getActiveElement());T(this,"querySelector",e=>this.root?this.root.querySelector(e):null);T(this,"querySelectorAll",e=>this.root?this.root.querySelectorAll(e):[]);T(this,"setTimeout",(e,t)=>this.getWindow().setTimeout(e,t));T(this,"clearTimeout",e=>this.getWindow().clearTimeout(e));typeof e=="function"?this.element=v.with(e):this.element=e}get root(){return u(i(this,ct))}set root(e){S(i(this,ct),e)}getElementById(e){return this.root.getElementById(e)}}ct=new WeakMap;function dr(n,e){return{[Ci()]:t=>v.isBox(n)?(n.current=t,Rn(()=>e==null?void 0:e(t)),()=>{"isConnected"in t&&t.isConnected||(n.current=null,e==null||e(null))}):(n(t),Rn(()=>e==null?void 0:e(t)),()=>{"isConnected"in t&&t.isConnected||(n(null),e==null||e(null))})}}function Ss(n){return n?"open":"closed"}var qe,lt;class _s{constructor(e){h(this,qe);h(this,lt);T(this,"attrs");A(this,qe,e.getVariant?e.getVariant():null),A(this,lt,i(this,qe)?`data-${i(this,qe)}-`:`data-${e.component}-`),this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(e.parts.map(t=>[t,this.getAttr(t)]))}getAttr(e,t){return t?`data-${t}-${e}`:`${i(this,lt)}${e}`}selector(e,t){return`[${this.getAttr(e,t)}]`}}qe=new WeakMap,lt=new WeakMap;function Es(n){const e=new _s(n);return{...e.attrs,selector:e.selector,getAttr:e.getAttr}}const As="Enter",Ts="Escape",Cs=" ";function U(){}function fr(n,e){return`bits-${n}`}var dt,on,ho;class xs{constructor(e,t){h(this,on);T(this,"state");h(this,dt);this.state=v(e),A(this,dt,t),this.dispatch=this.dispatch.bind(this)}dispatch(e){this.state.current=O(this,on,ho).call(this,e)}}dt=new WeakMap,on=new WeakSet,ho=function(e){return i(this,dt)[this.state.current][e]??this.state.current};const Is={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var ft,ht,pt;class Ps{constructor(e){T(this,"opts");h(this,ft,N("none"));h(this,ht,N($r({})));T(this,"initialStatus");T(this,"previousPresent");T(this,"machine");T(this,"present");h(this,pt,K(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?"mounted":"unmounted",this.previousPresent=new ls(()=>this.present.current),this.machine=new xs(this.initialStatus,Is),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),ks(this),Os(this),Ns(this)}get prevAnimationNameState(){return u(i(this,ft))}set prevAnimationNameState(e){S(i(this,ft),e,!0)}get styles(){return u(i(this,ht))}set styles(e){S(i(this,ht),e,!0)}handleAnimationEnd(e){if(!this.opts.ref.current)return;const t=$t(this.opts.ref.current),r=t.includes(e.animationName)||t==="none";e.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=$t(this.opts.ref.current))}get isPresent(){return u(i(this,pt))}set isPresent(e){S(i(this,pt),e)}}ft=new WeakMap,ht=new WeakMap,pt=new WeakMap;function ks(n){ie(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const t=n.prevAnimationNameState,r=$t(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const o=t!==r;n.previousPresent.current&&o?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function Os(n){ie(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const e=$t(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?e:"none"})}function Ns(n){ie(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),Ue(ne(n.opts.ref.current,"animationstart",n.handleAnimationStart),ne(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),ne(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function $t(n){return n&&getComputedStyle(n).animationName||"none"}function po(n,e){Q(e,!0);const t=new Ps({open:v.with(()=>e.open),ref:e.ref});var r=D(),o=L(r);{var s=a=>{var c=D(),l=L(c);J(l,()=>e.presence??ae,()=>({present:t.isPresent})),P(a,c)};Ae(o,a=>{(e.forceMount||e.open||t.isPresent)&&a(s)})}P(n,r),$()}var Ke,Pe,ye,me,Un,Xt;class Ls{constructor(e){h(this,me);h(this,Ke);h(this,Pe);h(this,ye,!1);A(this,Ke,e),Vt(()=>O(this,me,Un).call(this))}run(e){if(i(this,ye))return;O(this,me,Un).call(this),A(this,ye,!0);const t=i(this,Ke).ref.current;if(!t){A(this,ye,!1);return}if(typeof t.getAnimations!="function"){O(this,me,Xt).call(this,e);return}A(this,Pe,window.requestAnimationFrame(()=>{const r=t.getAnimations();if(r.length===0){O(this,me,Xt).call(this,e);return}Promise.allSettled(r.map(o=>o.finished)).then(()=>{O(this,me,Xt).call(this,e)})}))}}Ke=new WeakMap,Pe=new WeakMap,ye=new WeakMap,me=new WeakSet,Un=function(){i(this,Pe)&&(window.cancelAnimationFrame(i(this,Pe)),A(this,Pe,void 0)),A(this,ye,!1)},Xt=function(e){const t=()=>{e(),A(this,ye,!1)};i(this,Ke).afterTick?lr(t):t()};var pe,vt,gt;class Fs{constructor(e){h(this,pe);h(this,vt);h(this,gt);A(this,pe,e),A(this,vt,e.enabled??!0),A(this,gt,new Ls({ref:i(this,pe).ref,afterTick:i(this,pe).open})),ie([()=>i(this,pe).open.current],([t])=>{i(this,vt)&&i(this,gt).run(()=>{t===i(this,pe).open.current&&i(this,pe).onComplete()})})}}pe=new WeakMap,vt=new WeakMap,gt=new WeakMap;const Ms=Es({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),En=new uo("Dialog.Root | AlertDialog.Root");var mt,bt,yt,wt,St,_t,Et,At,Tt;const pr=class pr{constructor(e){T(this,"opts");h(this,mt,N(null));h(this,bt,N(null));h(this,yt,N(null));h(this,wt,N(void 0));h(this,St,N(void 0));h(this,_t,N(void 0));h(this,Et,N(void 0));h(this,At,N(null));T(this,"getBitsAttr",e=>Ms.getAttr(e,this.opts.variant.current));h(this,Tt,K(()=>({"data-state":Ss(this.opts.open.current)})));this.opts=e,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new Fs({ref:v.with(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}static create(e){return En.set(new pr(e))}get triggerNode(){return u(i(this,mt))}set triggerNode(e){S(i(this,mt),e,!0)}get contentNode(){return u(i(this,bt))}set contentNode(e){S(i(this,bt),e,!0)}get descriptionNode(){return u(i(this,yt))}set descriptionNode(e){S(i(this,yt),e,!0)}get contentId(){return u(i(this,wt))}set contentId(e){S(i(this,wt),e,!0)}get titleId(){return u(i(this,St))}set titleId(e){S(i(this,St),e,!0)}get triggerId(){return u(i(this,_t))}set triggerId(e){S(i(this,_t),e,!0)}get descriptionId(){return u(i(this,Et))}set descriptionId(e){S(i(this,Et),e,!0)}get cancelNode(){return u(i(this,At))}set cancelNode(e){S(i(this,At),e,!0)}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}get sharedProps(){return u(i(this,Tt))}set sharedProps(e){S(i(this,Tt),e)}};mt=new WeakMap,bt=new WeakMap,yt=new WeakMap,wt=new WeakMap,St=new WeakMap,_t=new WeakMap,Et=new WeakMap,At=new WeakMap,Tt=new WeakMap;let Wn=pr;var Ct;const vr=class vr{constructor(e,t){T(this,"opts");T(this,"root");T(this,"attachment");h(this,Ct,K(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment})));this.opts=e,this.root=t,this.attachment=dr(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}static create(e){return new vr(e,En.get())}onclick(e){this.opts.disabled.current||e.button>0||this.root.handleClose()}onkeydown(e){this.opts.disabled.current||(e.key===Cs||e.key===As)&&(e.preventDefault(),this.root.handleClose())}get props(){return u(i(this,Ct))}set props(e){S(i(this,Ct),e)}};Ct=new WeakMap;let zn=vr;var xt,It;const gr=class gr{constructor(e,t){T(this,"opts");T(this,"root");T(this,"attachment");h(this,xt,K(()=>({open:this.root.opts.open.current})));h(this,It,K(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,...this.root.sharedProps,...this.attachment})));this.opts=e,this.root=t,this.attachment=dr(this.opts.ref,r=>{this.root.contentNode=r,this.root.contentId=r==null?void 0:r.id})}static create(e){return new gr(e,En.get())}get snippetProps(){return u(i(this,xt))}set snippetProps(e){S(i(this,xt),e)}get props(){return u(i(this,It))}set props(e){S(i(this,It),e)}};xt=new WeakMap,It=new WeakMap;let qn=gr;var Pt,kt;const mr=class mr{constructor(e,t){T(this,"opts");T(this,"root");T(this,"attachment");h(this,Pt,K(()=>({open:this.root.opts.open.current})));h(this,kt,K(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment})));this.opts=e,this.root=t,this.attachment=dr(this.opts.ref)}static create(e){return new mr(e,En.get())}get snippetProps(){return u(i(this,Pt))}set snippetProps(e){S(i(this,Pt),e)}get props(){return u(i(this,kt))}set props(e){S(i(this,kt),e)}};Pt=new WeakMap,kt=new WeakMap;let Kn=mr;function Rs(n,e){var t=D(),r=L(t);oo(r,()=>e.children,o=>{var s=D(),a=L(s);J(a,()=>e.children??ae),P(o,s)}),P(n,t)}const vo=typeof document<"u",jr=Ds();function Ds(){var n,e;return vo&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ur(n){return n instanceof HTMLElement}function Bs(n){return n instanceof Element}const Vs=new uo("BitsConfig");function js(){const n=new Us(null,{});return Vs.getOr(n).opts}class Us{constructor(e,t){T(this,"opts");const r=Ws(e,t);this.opts={defaultPortalTo:r(o=>o.defaultPortalTo),defaultLocale:r(o=>o.defaultLocale)}}}function Ws(n,e){return t=>v.with(()=>{var s,a;const o=(s=t(e))==null?void 0:s.current;if(o!==void 0)return o;if(n!==null)return(a=t(n.opts))==null?void 0:a.current})}function zs(n,e){return t=>{const r=js();return v.with(()=>{const o=t();if(o!==void 0)return o;const s=n(r).current;return s!==void 0?s:e})}}const qs=zs(n=>n.defaultPortalTo,"body");function Ks(n,e){Q(e,!0);const t=qs(()=>e.to),r=ni();let o=K(s);function s(){if(!vo||e.disabled)return null;let p=null;return typeof t.current=="string"?p=document.querySelector(t.current):p=t.current,p}let a;function c(){a&&(oi(a),a=null)}ie([()=>u(o),()=>e.disabled],([p,w])=>{if(!p||w){c();return}return a=ri(Rs,{target:p,props:{children:e.children},context:r}),()=>{c()}});var l=D(),f=L(l);{var d=p=>{var w=D(),I=L(w);J(I,()=>e.children??ae),P(p,w)};Ae(f,p=>{e.disabled&&p(d)})}P(n,l),$()}function go(n,e,t,r){const o=Array.isArray(e)?e:[e];return o.forEach(s=>n.addEventListener(s,t,r)),()=>{o.forEach(s=>n.removeEventListener(s,t,r))}}function Wr(n,e=500){let t=null;const r=(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function mo(n,e){return n===e||n.contains(e)}function bo(n){return(n==null?void 0:n.ownerDocument)??document}function Gs(n,e){const{clientX:t,clientY:r}=n,o=e.getBoundingClientRect();return t<o.left||t>o.right||r<o.top||r>o.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var Ge,ke,we,He,Xe,Se,Ot,ve,sn,$e,yo,an,Ye,un,cn,ln,dn,Nt,wo,fn,hn;const br=class br{constructor(e){h(this,$e);T(this,"opts");h(this,Ge);h(this,ke);h(this,we,{pointerdown:!1});h(this,He,!1);h(this,Xe,!1);h(this,Se);h(this,Ot);h(this,ve,U);h(this,sn,e=>{e.defaultPrevented||this.opts.ref.current&&lr(()=>{var t,r;!this.opts.ref.current||i(this,dn).call(this,e.target)||e.target&&!i(this,Xe)&&((r=(t=i(this,Ot)).current)==null||r.call(t,e))})});h(this,an,e=>{let t=e;t.defaultPrevented&&(t=zr(e)),i(this,Ge).current(e)});h(this,Ye,Wr(e=>{if(!this.opts.ref.current){i(this,ve).call(this);return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||Ys(e,this.opts.ref.current);if(!i(this,He)||O(this,$e,wo).call(this)||!t){i(this,ve).call(this);return}let r=e;if(r.defaultPrevented&&(r=zr(r)),i(this,ke).current!=="close"&&i(this,ke).current!=="defer-otherwise-close"){i(this,ve).call(this);return}e.pointerType==="touch"?(i(this,ve).call(this),A(this,ve,go(i(this,Se),"click",i(this,an),{once:!0}))):i(this,Ge).current(r)},10));h(this,un,e=>{i(this,we)[e.type]=!0});h(this,cn,e=>{i(this,we)[e.type]=!1});h(this,ln,()=>{this.opts.ref.current&&A(this,He,Xs(this.opts.ref.current))});h(this,dn,e=>this.opts.ref.current?mo(this.opts.ref.current,e):!1);h(this,Nt,Wr(()=>{for(const e in i(this,we))i(this,we)[e]=!1;A(this,He,!1)},20));h(this,fn,()=>{A(this,Xe,!0)});h(this,hn,()=>{A(this,Xe,!1)});T(this,"props",{onfocuscapture:i(this,fn),onblurcapture:i(this,hn)});this.opts=e,A(this,ke,e.interactOutsideBehavior),A(this,Ge,e.onInteractOutside),A(this,Ot,e.onFocusOutside),Me(()=>{A(this,Se,bo(this.opts.ref.current))});let t=U;const r=()=>{i(this,Nt).call(this),globalThis.bitsDismissableLayers.delete(this),i(this,Ye).destroy(),t()};ie([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return lo(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,i(this,ke)),t(),t=O(this,$e,yo).call(this))}),r}),Vt(()=>{i(this,Nt).destroy(),globalThis.bitsDismissableLayers.delete(this),i(this,Ye).destroy(),i(this,ve).call(this),t()})}static create(e){return new br(e)}};Ge=new WeakMap,ke=new WeakMap,we=new WeakMap,He=new WeakMap,Xe=new WeakMap,Se=new WeakMap,Ot=new WeakMap,ve=new WeakMap,sn=new WeakMap,$e=new WeakSet,yo=function(){return Ue(ne(i(this,Se),"pointerdown",Ue(i(this,un),i(this,ln)),{capture:!0}),ne(i(this,Se),"pointerdown",Ue(i(this,cn),i(this,Ye))),ne(i(this,Se),"focusin",i(this,sn)))},an=new WeakMap,Ye=new WeakMap,un=new WeakMap,cn=new WeakMap,ln=new WeakMap,dn=new WeakMap,Nt=new WeakMap,wo=function(){return Object.values(i(this,we)).some(Boolean)},fn=new WeakMap,hn=new WeakMap;let Gn=br;function Hs(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function Xs(n){const e=[...globalThis.bitsDismissableLayers],t=Hs(e);if(t)return t[0].opts.ref.current===n;const[r]=e[0];return r.opts.ref.current===n}function Ys(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return Bs(t)?bo(t).documentElement.contains(t)&&!mo(e,t)&&Gs(n,e):!1}function zr(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let o=!1;return new Proxy(r,{get:(a,c)=>c==="currentTarget"?e:c==="target"?t:c==="preventDefault"?()=>{o=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:c==="defaultPrevented"?o:c in a?a[c]:n[c]})}function Zs(n,e){Q(e,!0);let t=C(e,"interactOutsideBehavior",3,"close"),r=C(e,"onInteractOutside",3,U),o=C(e,"onFocusOutside",3,U),s=C(e,"isValidEvent",3,()=>!1);const a=Gn.create({id:v.with(()=>e.id),interactOutsideBehavior:v.with(()=>t()),onInteractOutside:v.with(()=>r()),enabled:v.with(()=>e.enabled),onFocusOutside:v.with(()=>o()),isValidEvent:v.with(()=>s()),ref:e.ref});var c=D(),l=L(c);J(l,()=>e.children??ae,()=>({props:a.props})),P(n,c),$()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var pn,vn;const yr=class yr{constructor(e){T(this,"opts");T(this,"domContext");h(this,pn,()=>ne(this.domContext.getDocument(),"keydown",i(this,vn),{passive:!1}));h(this,vn,e=>{if(e.key!==Ts||!Js(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e,this.domContext=new fo(this.opts.ref);let t=U;ie(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=i(this,pn).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}static create(e){return new yr(e)}};pn=new WeakMap,vn=new WeakMap;let Hn=yr;function Js(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([o,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function Qs(n,e){Q(e,!0);let t=C(e,"escapeKeydownBehavior",3,"close"),r=C(e,"onEscapeKeydown",3,U);Hn.create({escapeKeydownBehavior:v.with(()=>t()),onEscapeKeydown:v.with(()=>r()),enabled:v.with(()=>e.enabled),ref:e.ref});var o=D(),s=L(o);J(s,()=>e.children??ae),P(n,o),$()}var ge,Lt;const gn=class gn{constructor(){h(this,ge,v([]));h(this,Lt,new WeakMap)}static getInstance(){return this.instance||(this.instance=new gn),this.instance}register(e){const t=this.getActive();t&&t!==e&&t.pause(),i(this,ge).current=i(this,ge).current.filter(r=>r!==e),i(this,ge).current.unshift(e)}unregister(e){i(this,ge).current=i(this,ge).current.filter(r=>r!==e);const t=this.getActive();t&&t.resume()}getActive(){return i(this,ge).current[0]}setFocusMemory(e,t){i(this,Lt).set(e,t)}getFocusMemory(e){return i(this,Lt).get(e)}isActiveScope(e){return this.getActive()===e}};ge=new WeakMap,Lt=new WeakMap,T(gn,"instance");let Xn=gn;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var So=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Yn=So.join(","),_o=typeof Element>"u",Qe=_o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,en=!_o&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},tn=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",a=s||t&&e&&n(e.parentNode);return a},$s=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Eo=function(e,t,r){if(tn(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Yn));return t&&Qe.call(e,Yn)&&o.unshift(e),o=o.filter(r),o},Ao=function n(e,t,r){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!tn(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),l=c.length?c:a.children,f=n(l,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:a,candidates:f})}else{var d=Qe.call(a,Yn);d&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var p=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),w=!tn(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(p&&w){var I=n(p===!0?a.children:p.children,!0,r);r.flatten?o.push.apply(o,I):o.push({scopeParent:a,candidates:I})}else s.unshift.apply(s,a.children)}}return o},To=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Co=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||$s(e))&&!To(e)?0:e.tabIndex},ea=function(e,t){var r=Co(e);return r<0&&t&&!To(e)?0:r},ta=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},xo=function(e){return e.tagName==="INPUT"},na=function(e){return xo(e)&&e.type==="hidden"},ra=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},oa=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},ia=function(e){if(!e.name)return!0;var t=e.form||en(e),r=function(c){return t.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=oa(o,e.form);return!s||s===e},sa=function(e){return xo(e)&&e.type==="radio"},aa=function(e){return sa(e)&&!ia(e)},ua=function(e){var t,r=e&&en(e),o=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var a,c,l;for(s=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&o;){var f,d,p;r=en(o),o=(f=r)===null||f===void 0?void 0:f.host,s=!!((d=o)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(o))}}return s},qr=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},ca=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Qe.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(Qe.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var l=e.parentElement,f=en(e);if(l&&!l.shadowRoot&&o(l)===!0)return qr(e);e.assignedSlot?e=e.assignedSlot:!l&&f!==e.ownerDocument?e=f.host:e=l}e=c}if(ua(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return qr(e);return!1},la=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return Qe.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},nn=function(e,t){return!(t.disabled||tn(t)||na(t)||ca(t,e)||ra(t)||la(t))},Kr=function(e,t){return!(aa(t)||Co(t)<0||!nn(e,t))},da=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},fa=function n(e){var t=[],r=[];return e.forEach(function(o,s){var a=!!o.scopeParent,c=a?o.scopeParent:o,l=ea(c,a),f=a?n(o.candidates):c;l===0?a?t.push.apply(t,f):t.push(c):r.push({documentOrder:s,tabIndex:l,item:o,isScope:a,content:f})}),r.sort(ta).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(t)},ha=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Ao([e],t.includeContainer,{filter:Kr.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:da}):r=Eo(e,t.includeContainer,Kr.bind(null,t)),fa(r)},pa=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Ao([e],t.includeContainer,{filter:nn.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Eo(e,t.includeContainer,nn.bind(null,t)),r},va=So.concat("iframe").join(","),ga=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Qe.call(e,va)===!1?!1:nn(t,e)},_e,X,oe,Oe,Ee,B,Io,Po,ko,Oo,Jn,Yt,Qn;const wr=class wr{constructor(e){h(this,B);h(this,_e,!1);h(this,X,null);h(this,oe,Xn.getInstance());h(this,Oe,[]);h(this,Ee);A(this,Ee,e)}get paused(){return i(this,_e)}pause(){A(this,_e,!0)}resume(){A(this,_e,!1)}mount(e){i(this,X)&&this.unmount(),A(this,X,e),i(this,oe).register(this),O(this,B,Oo).call(this),O(this,B,Po).call(this)}unmount(){i(this,X)&&(O(this,B,Io).call(this),O(this,B,ko).call(this),i(this,oe).unregister(this),A(this,X,null))}static use(e){let t=null;return ie([()=>e.ref.current,()=>e.enabled.current],([r,o])=>{r&&o?(t||(t=new wr(e)),t.mount(r)):t&&(t.unmount(),t=null)}),Vt(()=>{t==null||t.unmount()}),{get props(){return{tabindex:-1}}}}};_e=new WeakMap,X=new WeakMap,oe=new WeakMap,Oe=new WeakMap,Ee=new WeakMap,B=new WeakSet,Io=function(){for(const e of i(this,Oe))e();A(this,Oe,[])},Po=function(){if(!i(this,X))return;const e=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});i(this,Ee).onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!i(this,X))return;const t=O(this,B,Yt).call(this);t?(t.focus(),i(this,oe).setFocusMemory(this,t)):i(this,X).focus()})},ko=function(){var t,r;const e=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if((r=(t=i(this,Ee).onCloseAutoFocus).current)==null||r.call(t,e),!e.defaultPrevented){const o=document.activeElement;o&&o!==document.body&&o.focus()}},Oo=function(){if(!i(this,X)||!i(this,Ee).trap.current)return;const e=i(this,X),t=e.ownerDocument,r=a=>{if(i(this,_e)||!i(this,oe).isActiveScope(this))return;const c=a.target;if(!c)return;if(e.contains(c))i(this,oe).setFocusMemory(this,c);else{const f=i(this,oe).getFocusMemory(this);if(f&&e.contains(f)&&ga(f))a.preventDefault(),f.focus();else{const d=O(this,B,Yt).call(this),p=O(this,B,Qn).call(this)[0];(d||p||e).focus()}}},o=a=>{if(!i(this,Ee).loop||i(this,_e)||a.key!=="Tab"||!i(this,oe).isActiveScope(this))return;const c=O(this,B,Jn).call(this);if(c.length<2)return;const l=c[0],f=c[c.length-1];!a.shiftKey&&t.activeElement===f?(a.preventDefault(),l.focus()):a.shiftKey&&t.activeElement===l&&(a.preventDefault(),f.focus())};i(this,Oe).push(ne(t,"focusin",r,{capture:!0}),ne(e,"keydown",o));const s=new MutationObserver(()=>{const a=i(this,oe).getFocusMemory(this);if(a&&!e.contains(a)){const c=O(this,B,Yt).call(this),l=O(this,B,Qn).call(this)[0],f=c||l;f?(f.focus(),i(this,oe).setFocusMemory(this,f)):e.focus()}});s.observe(e,{childList:!0,subtree:!0}),i(this,Oe).push(()=>s.disconnect())},Jn=function(){return i(this,X)?ha(i(this,X),{includeContainer:!1,getShadowRoot:!0}):[]},Yt=function(){return O(this,B,Jn).call(this)[0]||null},Qn=function(){return i(this,X)?pa(i(this,X),{includeContainer:!1,getShadowRoot:!0}):[]};let Zn=wr;function ma(n,e){Q(e,!0);let t=C(e,"enabled",3,!1),r=C(e,"trapFocus",3,!1),o=C(e,"loop",3,!1),s=C(e,"onCloseAutoFocus",3,U),a=C(e,"onOpenAutoFocus",3,U);const c=Zn.use({enabled:v.with(()=>t()),trap:v.with(()=>r()),loop:o(),onCloseAutoFocus:v.with(()=>s()),onOpenAutoFocus:v.with(()=>a()),ref:e.ref});var l=D(),f=L(l);J(f,()=>e.focusScope??ae,()=>({props:c.props})),P(n,l),$()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var Ze,mn,No,bn,Ft;const Sr=class Sr{constructor(e){h(this,mn);T(this,"opts");T(this,"domContext");h(this,Ze,U);h(this,bn,e=>{const t=this.opts.ref.current,r=e.target;!Ur(t)||!Ur(r)||!this.opts.enabled.current||!ya(this)||!bs(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&A(this,Ze,ba(t,this.domContext.getDocument().body)))});h(this,Ft,()=>{i(this,Ze).call(this),A(this,Ze,U)});this.opts=e,this.domContext=new fo(e.ref);let t=U;ie(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=O(this,mn,No).call(this)),()=>{t(),i(this,Ft).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(e){return new Sr(e)}};Ze=new WeakMap,mn=new WeakSet,No=function(){return Ue(ne(this.domContext.getDocument(),"pointerdown",i(this,bn)),ne(this.domContext.getDocument(),"pointerup",io(i(this,Ft),this.opts.onPointerUp.current)))},bn=new WeakMap,Ft=new WeakMap;let $n=Sr;const Gr=n=>n.style.userSelect||n.style.webkitUserSelect;function ba(n,e){const t=Gr(e),r=Gr(n);return zt(e,"none"),zt(n,"text"),()=>{zt(e,t),zt(n,r)}}function zt(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function ya(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function wa(n,e){Q(e,!0);let t=C(e,"preventOverflowTextSelection",3,!0),r=C(e,"onPointerDown",3,U),o=C(e,"onPointerUp",3,U);$n.create({id:v.with(()=>e.id),onPointerDown:v.with(()=>r()),onPointerUp:v.with(()=>o()),enabled:v.with(()=>e.enabled&&t()),ref:e.ref});var s=D(),a=L(s);J(a,()=>e.children??ae),P(n,s),$()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Sa(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}var Mt,Je,Ne,Le,yn,Lo;class _a{constructor(e){h(this,yn);h(this,Mt);h(this,Je,0);h(this,Ne,N());h(this,Le);A(this,Mt,e)}get(...e){return A(this,Je,i(this,Je)+1),u(i(this,Ne))===void 0&&A(this,Le,ii(()=>{S(i(this,Ne),i(this,Mt).call(this,...e),!0)})),Me(()=>()=>{O(this,yn,Lo).call(this)}),u(i(this,Ne))}}Mt=new WeakMap,Je=new WeakMap,Ne=new WeakMap,Le=new WeakMap,yn=new WeakSet,Lo=function(){A(this,Je,i(this,Je)-1),i(this,Le)&&i(this,Je)<=0&&(i(this,Le).call(this),S(i(this,Ne),void 0),A(this,Le,void 0))};const er=new jn;let qt=N(null),Ce=null,Ve=null;const Hr=v.with(()=>{for(const n of er.values())if(n)return!0;return!1});let Nn=null;const Ea=new _a(()=>{function n(){document.body.setAttribute("style",u(qt)??""),document.body.style.removeProperty("--scrollbar-width"),jr&&(Ce==null||Ce()),S(qt,null),r=!1}function e(){Ve!==null&&(window.clearTimeout(Ve),Ve=null)}function t(s,a){e(),Nn=Date.now();const c=Nn,l=()=>{Ve=null,Nn===c&&(Fo(er)||a())};s===null?Ve=window.setTimeout(l,16):Ve=window.setTimeout(l,s)}let r=!1;function o(){!r&&u(qt)===null&&(S(qt,document.body.getAttribute("style"),!0),r=!0)}return ie(()=>Hr.current,()=>{if(!Hr.current)return;o();const s=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,l={padding:Number.parseInt(s.paddingRight??"0",10)+a,margin:Number.parseInt(s.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${l.padding}px`,document.body.style.marginRight=`${l.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),jr&&(Ce=go(document,"touchmove",f=>{f.target===document.documentElement&&(f.touches.length>1||f.preventDefault())},{passive:!1})),lr(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Vt(()=>()=>{Ce==null||Ce()}),{get lockMap(){return er},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:t,cancelPendingCleanup:e,ensureInitialStyleCaptured:o}});var Fe,Rt,Dt,ee;class Aa{constructor(e,t=()=>null){h(this,Fe,Sa());h(this,Rt);h(this,Dt,()=>null);h(this,ee);T(this,"locked");A(this,Rt,e),A(this,Dt,t),A(this,ee,Ea.get()),i(this,ee)&&(i(this,ee).cancelPendingCleanup(),i(this,ee).ensureInitialStyleCaptured(),i(this,ee).lockMap.set(i(this,Fe),i(this,Rt)??!1),this.locked=v.with(()=>i(this,ee).lockMap.get(i(this,Fe))??!1,r=>i(this,ee).lockMap.set(i(this,Fe),r)),Vt(()=>{if(i(this,ee).lockMap.delete(i(this,Fe)),Fo(i(this,ee).lockMap))return;const r=i(this,Dt).call(this);i(this,ee).scheduleCleanupIfNoNewLocks(r,()=>{i(this,ee).resetBodyStyle()})}))}}Fe=new WeakMap,Rt=new WeakMap,Dt=new WeakMap,ee=new WeakMap;function Fo(n){for(const[e,t]of n)if(t)return!0;return!1}function Xr(n,e){Q(e,!0);let t=C(e,"preventScroll",3,!0),r=C(e,"restoreScrollDelay",3,null);t()&&new Aa(t(),()=>r()),$()}function Ta({forceMount:n,present:e,open:t}){return(n||e)&&t}var Ca=re("<div><!></div>");function xa(n,e){const t=rr();Q(e,!0);let r=C(e,"id",19,()=>fr(t)),o=C(e,"forceMount",3,!1),s=C(e,"ref",15,null),a=ur(e,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const c=Kn.create({id:v.with(()=>r()),ref:v.with(()=>s(),f=>s(f))}),l=K(()=>Re(a,c.props));{const f=p=>{var w=D(),I=L(w);{var b=m=>{var _=D(),k=L(_);{let M=K(()=>({props:Re(u(l)),...c.snippetProps}));J(k,()=>e.child,()=>u(M))}P(m,_)},g=m=>{var _=Ca();sr(_,M=>({...M}),[()=>Re(u(l))]);var k=q(_);J(k,()=>e.children??ae,()=>c.snippetProps),j(_),P(m,_)};Ae(I,m=>{e.child?m(b):m(g,!1)})}P(p,w)};let d=K(()=>c.root.opts.open.current||o());po(n,{get open(){return u(d)},get ref(){return c.opts.ref},presence:f,$$slots:{presence:!0}})}$()}function Ia(n,e){Q(e,!0);let t=C(e,"open",15,!1),r=C(e,"onOpenChange",3,U),o=C(e,"onOpenChangeComplete",3,U);Wn.create({variant:v.with(()=>"dialog"),open:v.with(()=>t(),c=>{t(c),r()(c)}),onOpenChangeComplete:v.with(()=>o())});var s=D(),a=L(s);J(a,()=>e.children??ae),P(n,s),$()}var Pa=re("<button><!></button>");function ka(n,e){const t=rr();Q(e,!0);let r=C(e,"id",19,()=>fr(t)),o=C(e,"ref",15,null),s=C(e,"disabled",3,!1),a=ur(e,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const c=zn.create({variant:v.with(()=>"close"),id:v.with(()=>r()),ref:v.with(()=>o(),I=>o(I)),disabled:v.with(()=>!!s())}),l=K(()=>Re(a,c.props));var f=D(),d=L(f);{var p=I=>{var b=D(),g=L(b);J(g,()=>e.child,()=>({props:u(l)})),P(I,b)},w=I=>{var b=Pa();sr(b,()=>({...u(l)}));var g=q(b);J(g,()=>e.children??ae),j(b),P(I,b)};Ae(d,I=>{e.child?I(p):I(w,!1)})}P(n,f),$()}var Oa=re("<!> <!>",1),Na=re("<!> <div><!></div>",1);function La(n,e){const t=rr();Q(e,!0);let r=C(e,"id",19,()=>fr(t)),o=C(e,"ref",15,null),s=C(e,"forceMount",3,!1),a=C(e,"onCloseAutoFocus",3,U),c=C(e,"onOpenAutoFocus",3,U),l=C(e,"onEscapeKeydown",3,U),f=C(e,"onInteractOutside",3,U),d=C(e,"trapFocus",3,!0),p=C(e,"preventScroll",3,!0),w=C(e,"restoreScrollDelay",3,null),I=ur(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const b=qn.create({id:v.with(()=>r()),ref:v.with(()=>o(),m=>o(m))}),g=K(()=>Re(I,b.props));{const m=k=>{{const M=(E,R)=>{let F=()=>R==null?void 0:R().props;Qs(E,Ie(()=>u(g),{get enabled(){return b.root.opts.open.current},get ref(){return b.opts.ref},onEscapeKeydown:W=>{l()(W),!W.defaultPrevented&&b.root.handleClose()},children:(W,z)=>{Zs(W,Ie(()=>u(g),{get ref(){return b.opts.ref},get enabled(){return b.root.opts.open.current},onInteractOutside:V=>{f()(V),!V.defaultPrevented&&b.root.handleClose()},children:(V,G)=>{wa(V,Ie(()=>u(g),{get ref(){return b.opts.ref},get enabled(){return b.root.opts.open.current},children:(te,x)=>{var y=D(),Z=L(y);{var An=De=>{var et=Oa(),tt=L(et);{var nt=Te=>{Xr(Te,{get preventScroll(){return p()},get restoreScrollDelay(){return w()}})};Ae(tt,Te=>{b.root.opts.open.current&&Te(nt)})}var Tn=le(tt,2);{let Te=K(()=>({props:Re(u(g),F()),...b.snippetProps}));J(Tn,()=>e.child,()=>u(Te))}P(De,et)},Mo=De=>{var et=Na(),tt=L(et);Xr(tt,{get preventScroll(){return p()}});var nt=le(tt,2);sr(nt,Te=>({...Te}),[()=>Re(u(g),F())]);var Tn=q(nt);J(Tn,()=>e.children??ae),j(nt),P(De,et)};Ae(Z,De=>{e.child?De(An):De(Mo,!1)})}P(te,y)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let Y=K(()=>Ta({forceMount:s(),present:b.root.opts.open.current,open:b.root.opts.open.current}));ma(k,{get ref(){return b.opts.ref},loop:!0,get trapFocus(){return d()},get enabled(){return u(Y)},get onOpenAutoFocus(){return c()},onCloseAutoFocus:E=>{a()(E),!E.defaultPrevented&&lo(1,()=>{var R;return(R=b.root.triggerNode)==null?void 0:R.focus()})},focusScope:M,$$slots:{focusScope:!0}})}};let _=K(()=>b.root.opts.open.current||s());po(n,Ie(()=>u(g),{get forceMount(){return s()},get open(){return u(_)},get ref(){return b.opts.ref},presence:m,$$slots:{presence:!0}}))}$()}var Fa=(n,e,t)=>e(t()),Ma=re("<button> </button>"),Ra=(n,e)=>e(!e()),Da=re('<div class="card-header-container"><!></div> <div class="card-btn-container svelte-19osdwx"></div>  <div class="card-extra-container svelte-19osdwx"><input type="checkbox" id="translate-checkbox" name="translate-checkbox" class="svelte-19osdwx"/> <label for="translate-checkbox"> </label></div>',1);function Ba(n,e){Q(e,!0);const[t,r]=nr(),o=()=>Zt(Fr,"$locale",t),s=()=>Zt(to,"$_",t);let a=C(e,"translate",15);const c=[{code:"en",name:"English"},{code:"fi",name:"Suomi"},{code:"sv",name:"Svenska"},{code:"sa",name:"Smegiella"}];async function l(p){Fr.set(p),localStorage.setItem("locale",p),await no().then(()=>{e.closeLangCard(!1)})}var f=D(),d=L(f);it(d,()=>La,(p,w)=>{w(p,{class:"lang-container",trapFocus:!0,children:(I,b)=>{var g=Da(),m=L(g),_=q(m);it(_,()=>ka,(F,W)=>{W(F,{class:"btn btn-close",onclick:()=>e.closeLangCard(),children:(z,V)=>{yi(z,{color:"#ffffff",size:35})},$$slots:{default:!0}})}),j(m);var k=le(m,2);ui(k,21,()=>c,ci,(F,W)=>{let z=()=>u(W).code,V=()=>u(W).name;var G=Ma();let te;G.__click=[Fa,l,z];var x=q(G,!0);j(G),Jt(y=>{te=gi(G,1,"btn btn-lang svelte-19osdwx",null,te,y),Dn(x,V())},[()=>({"active-lang":o()===z()})]),P(F,G)}),j(k);var M=le(k,2),Y=q(M);pi(Y),Y.__change=[Ra,a];var E=le(Y,2),R=q(E,!0);j(E),j(M),Jt(F=>{vi(Y,a()),Dn(R,F)},[()=>s()("btn_translate_check")]),P(I,g)},$$slots:{default:!0}})}),P(n,f),$(),r()}wn(["click","change"]);wn(["click"]);let H=null,Va=!1;const xe=class xe{constructor(){T(this,"callbacks",[]);this.initializeAudioContext()}static getInstance(){return xe.instance||(xe.instance=new xe),xe.instance}initializeAudioContext(){if(!(typeof window>"u"))try{H=new(window.AudioContext||window.webkitAudioContext),Va=!0,H.state==="suspended"&&this.handleSuspendedContext(),H.addEventListener("statechange",()=>{(H==null?void 0:H.state)==="running"&&this.notifyCallbacks()})}catch(e){console.warn("Failed to initialize audio context:",e)}}handleSuspendedContext(){console.log("Audio context suspended - user interaction required")}async resumeAudioContext(){if(!H)return!1;try{return H.state==="suspended"?(await H.resume(),console.log("Audio context resumed"),!0):H.state==="running"}catch(e){return console.warn("Failed to resume audio context:",e),!1}}isAudioContextReady(){return(H==null?void 0:H.state)==="running"||!1}getAudioContextState(){return(H==null?void 0:H.state)||"unavailable"}onAudioReady(e){this.isAudioContextReady()?e():this.callbacks.push(e)}notifyCallbacks(){this.callbacks.forEach(e=>e()),this.callbacks=[]}async enableAudio(){const e=await this.resumeAudioContext();if(e)try{const t=new Audio;t.volume=0,t.muted=!0,await t.play(),t.pause()}catch{}return e}};T(xe,"instance");let tr=xe;const Ln=tr.getInstance();function ja(){return typeof window>"u"?!1:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2}var Ua=(n,e)=>e(),Wa=re('<div class="audio-icon-container svelte-1hhaios"><button class="btn svelte-1hhaios"><!></button></div>');function za(n,e){Q(e,!0);const[t,r]=nr(),o=()=>Zt(Si,"$audioStore",t);let s=C(e,"volume",11,.3),a=C(e,"clusterVolume",11,1),c=C(e,"fadeTime",11,500),l=N(0),f=N(-1),d=N(null),p=!1,w=N(!1);Me(()=>{typeof window<"u"&&S(w,ja(),!0)});async function I(){if(!p)try{p=!0;const R=!o().isGloballyMuted;if(de.setMuted(R),R){if(u(d)){const F=isFinite(c())?c():500;await be.fadeOut(u(d),F),de.setPlayingState("paused")}_i.stopAllEffects()}else{if(u(w)&&!Ln.isAudioContextReady()&&!await Ln.enableAudio()){console.warn("Audio context could not be enabled"),de.setMuted(!0);return}await b()}}finally{p=!1}}async function b(){if(!(u(d)&&u(f)===u(l)&&!u(d).paused))try{const E=isFinite(s())?s():.3,R=u(w)?(isFinite(c())?c():500)*.5:isFinite(c())?c():500;u(d)&&u(f)!==u(l)?(be.cancelFade(u(d)),u(d).pause(),u(d).src=jt[u(l)].src,u(d).load()):u(d)||(S(d,new Audio(jt[u(l)].src),!0),u(d).loop=!0),u(d).volume=0,await u(d).play(),await be.fadeIn(u(d),E,R),S(f,u(l),!0),de.setCurrentSong(u(d)),de.setPlayingState("playing"),de.setVolume(E)}catch(E){console.error("Failed to start playing song:",E),u(d)&&(u(d).pause(),u(d).currentTime=0),de.setPlayingState("paused")}}async function g(){if(!(!u(d)||p)){p=!0;try{const E=isFinite(s())?s():.3,R=isFinite(c())?c():500,F=u(w)?R*.3:R*.7;if(u(w)){console.log("Mobile cross-fade: from song",u(f),"to song",u(l)),await be.fadeOut(u(d),F);const W=jt[u(l)].src;console.log("Mobile: Changing source to:",W);const z=u(d).src;u(d).src=W,await new Promise((V,G)=>{const te=()=>{u(d).removeEventListener("canplay",te),u(d).removeEventListener("error",x),console.log("Mobile: Audio loaded and ready to play"),V(void 0)},x=y=>{u(d).removeEventListener("canplay",te),u(d).removeEventListener("error",x),console.error("Mobile: Audio load error:",y),G(y)};u(d).addEventListener("canplay",te),u(d).addEventListener("error",x),u(d).load(),setTimeout(()=>{u(d).removeEventListener("canplay",te),u(d).removeEventListener("error",x),console.log("Mobile: Load timeout, proceeding anyway"),V(void 0)},1e3)}),u(d).volume=0;try{await u(d).play(),console.log("Mobile: Song playing, starting fade in"),await be.fadeIn(u(d),E,F)}catch(V){console.error("Mobile: Failed to play new song:",V);try{await Ln.enableAudio(),await u(d).play(),await be.fadeIn(u(d),E,F)}catch(G){throw console.error("Mobile: Retry failed, falling back to startPlaying:",G),G}}}else{const W=u(d),z=new Audio(jt[u(l)].src);z.loop=!0,z.volume=0,await z.play();const V=be.fadeOut(W,F),G=be.fadeIn(z,E,F);await Promise.all([V,G]),S(d,z,!0)}S(f,u(l),!0),de.setCurrentSong(u(d)),de.setVolume(E)}catch(E){console.error("Cross-fade failed:",E),await b()}finally{p=!1}}}Me(()=>{const E=Qt.url.pathname==="/explore"?1:0;console.log("Page change effect:",{currentPath:Qt.url.pathname,newSongIdx:E,currentSongIdx:u(l),isGloballyMuted:o().isGloballyMuted,playingState:o().playingState,hasSong:!!u(d),isToggling:p,isMobile:u(w)}),E!==u(l)&&!o().isGloballyMuted&&o().playingState==="playing"&&u(d)&&!p?(console.log("Triggering cross-fade from",u(l),"to",E),u(l),S(l,E,!0),g().catch(R=>{console.error("Failed to cross-fade to new song:",R),S(l,E,!0)})):(console.log("Just updating song index without cross-fade"),S(l,E,!0))}),Me(()=>{const E=isFinite(a())?a():1;wi.setClusterVolume(E)});var m=Wa(),_=q(m);_.__click=[Ua,I];var k=q(_);{var M=E=>{Ni(E,{color:"#ffffff"})},Y=E=>{Oi(E,{color:"#ffffff"})};Ae(k,E=>{o().isGloballyMuted?E(M):E(Y,!1)})}j(_),j(m),P(n,m),$(),r()}wn(["click"]);var qa=()=>Ti(`${ro}/`),Ka=re('<div class="back-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!> </button></div>'),Ga=(n,e)=>e.toggleLang(),Ha=re('<div class="card-header-container"><!> <div class="lang-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!></button></div> <div class="audio-control-container svelte-1fmp5ml"><!></div></div>');function Xa(n,e){Q(e,!0);const[t,r]=nr(),o=()=>Zt(to,"$_",t);let s=N(.5),a=N(1),c=N(500);var l=Ha(),f=q(l);{var d=m=>{var _=Ka(),k=q(_);k.__click=[qa];var M=q(k);Ei(M,{color:"#ffffff"});var Y=le(M);j(k),j(_),Jt(E=>Dn(Y,` ${E??""}`),[()=>o()("header_btn_exit")]),Bn(3,_,()=>li),P(m,_)};Ae(f,m=>{Qt.url.pathname===`${ro}/explore`&&m(d)})}var p=le(f,2),w=q(p);w.__click=[Ga,e];var I=q(w);ki(I,{color:"#ffffff"}),j(w),j(p);var b=le(p,2),g=q(b);za(g,{get volume(){return u(s)},set volume(m){S(s,m,!0)},get fadeTime(){return u(c)},set fadeTime(m){S(c,m,!0)},get clusterVolume(){return u(a)},set clusterVolume(m){S(a,m,!0)}}),j(b),j(l),Jt(m=>mi(w,"aria-label",m),[()=>o()("aria-lang-toggle")]),P(n,l),$(),r()}wn(["click"]);var Ya=re('<link rel="icon" type="image/svg" href="/favicon.ico"/>'),Za=re('<main class="page-container"><!></main>'),Ja=re('<!> <header class="header-container svelte-bl8i2v"><!></header> <!>',1),Qa=re('<div class="app svelte-bl8i2v"><!></div>');function pu(n,e){Q(e,!0);let t=N(!1),r=500,o=N(!1);eo({fallbackLocale:"en",initialLocale:"en"});async function s(){await Pi().catch(f=>{throw di(500,"Failed to get token")})}let a=()=>{S(t,!u(t))};si(()=>{window.scrollTo(0,0),s()});var c=Qa();ai(f=>{var d=Ya();P(f,d)});var l=q(c);xi(l,no,f=>{Ai(f)},f=>{var d=Ja(),p=L(d);it(p,()=>Ia,(g,m)=>{m(g,{get open(){return u(t)},set open(_){S(t,_,!0)},children:(_,k)=>{var M=D(),Y=L(M);it(Y,()=>Ks,(E,R)=>{R(E,{children:(F,W)=>{var z=D(),V=L(z);it(V,()=>xa,(G,te)=>{te(G,{children:(x,y)=>{Ba(x,{closeLangCard:a,get translate(){return u(o)},set translate(Z){S(o,Z,!0)}})},$$slots:{default:!0}})}),P(F,z)},$$slots:{default:!0}})}),P(_,M)},$$slots:{default:!0}})});var w=le(p,2),I=q(w);Xa(I,{toggleLang:a,get showLang(){return u(t)}}),j(w);var b=le(w,2);oo(b,()=>Qt.url.pathname,g=>{var m=Za(),_=q(m);J(_,()=>e.children),j(m),Bn(1,m,()=>Lr,()=>({duration:r})),Bn(2,m,()=>Lr,()=>({duration:r})),P(g,m)}),P(f,d)}),j(c),P(n,c),$()}export{pu as component,hu as universal};
