var Fi=Object.defineProperty;var Di=Object.getPrototypeOf;var Ri=Reflect.get;var _r=n=>{throw TypeError(n)};var Mi=(n,t,e)=>t in n?Fi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var C=(n,t,e)=>Mi(n,typeof t!="symbol"?t+"":t,e),Tn=(n,t,e)=>t.has(n)||_r("Cannot "+e);var o=(n,t,e)=>(Tn(n,t,"read from private field"),e?e.call(n):t.get(n)),f=(n,t,e)=>t.has(n)?_r("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),_=(n,t,e,r)=>(Tn(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),k=(n,t,e)=>(Tn(n,t,"access private method"),e);var Sr=(n,t,e)=>Ri(Di(n),e,t);import{a as Ze,s as $n}from"../chunks/CvdjhkOZ.js";import{b8 as Bi,b as Xr,h as Bt,a as Yr,bh as Er,H as Ui,j as ji,k as Vi,l as Ar,U as Nn,aA as In,o as Ln,d as qe,q as Wi,f as Zr,x as Tr,bi as Ir,bj as Cr,aY as zi,m as Pr,p as He,a9 as Ki,a2 as xr,ak as Qr,bk as qi,bl as Hi,c as Gi,e as Xi,s as Yi,$ as B,a0 as D,V as P,ae as L,C as Jr,D as g,y as l,ag as z,bm as Or,aj as ne,bn as J,bo as Zi,ao as kr,bp as $r,ab as Qi,ac as Zt,u as Fn,af as Ji,O as Y,W as Z,bq as X,a1 as ot,br as $i,a8 as to,aa as eo,bs as no,bt as tr,Q as $,R as W,X as j,Y as ut,_ as yn,T as Qe,Z as Dn,ad as ro,ap as io}from"../chunks/g1kLeUxh.js";import{c as ie}from"../chunks/DR3BLfEj.js";import{I as er,s as nr,a as oo,i as so,t as Rn,b as ao,e as uo,f as Nr}from"../chunks/qUoWVQs2.js";import{_ as wn}from"../chunks/Dp1pzeXC.js";import{r as _n,b as ti,g as co,c as lo,$ as ei,a as Lr,w as ni}from"../chunks/SXJbWm0J.js";import{p as rr}from"../chunks/Cuuiw7Um.js";import{d as Cn,c as ir,e as fo,f as ho,b as or,g as po,i as vo,h as mo,j as ct,m as gt,k as Tt,t as je,a as go}from"../chunks/gwWAgHxC.js";import{l as sr,s as Ct,p as T,r as ar}from"../chunks/CWaGy3r9.js";import"../chunks/Ci5IM2U4.js";import{i as Et}from"../chunks/CMoIYN2o.js";import{c as bo,X as yo,A as wo,C as _o}from"../chunks/Dr0BxND9.js";import{b as ri,g as So}from"../chunks/YHndGuIg.js";function Eo(){return Symbol(Bi)}const Pn=0,Ve=1,xn=2;function Ao(n,t,e,r,i){Bt&&Yr();var s=n,a=Qr(),u=zi,d=Nn,c,p,h,y=a?Ln(void 0):xr(void 0,!1,!1),A=a?Ln(void 0):xr(void 0,!1,!1),m=!1;function b(S,I){m=!0,I&&(Tr(E),Ir(E),Cr(u));try{S===Pn&&e&&(c?Pr(c):c=qe(()=>e(s))),S===Ve&&r&&(p?Pr(p):p=qe(()=>r(s,y))),S!==Pn&&c&&He(c,()=>c=null),S!==Ve&&p&&He(p,()=>p=null),S!==xn&&h&&He(h,()=>h=null)}finally{I&&(Cr(null),Ir(null),Tr(null),Ki())}}var E=Xr(()=>{if(d===(d=t()))return;let S=Bt&&Er(d)===(s.data===Ui);if(S&&(s=ji(),Vi(s),Ar(!1),S=!0),Er(d)){var I=d;m=!1,I.then(N=>{I===d&&(In(y,N),b(Ve,!0))},N=>{if(I===d)throw In(A,N),b(xn,!0),A.v}),Bt?e&&(c=qe(()=>e(s))):Wi(()=>{m||b(Pn,!0)})}else In(y,d),b(Ve,!1);return S&&Ar(!0),()=>d=Nn});Bt&&(s=Zr)}function ii(n,t,e){Bt&&Yr();var r=n,i=Nn,s,a,u=null,d=Qr()?qi:Hi;function c(){s&&He(s),u!==null&&(u.lastChild.remove(),r.before(u),u=null),s=a}Xr(()=>{if(d(i,i=t())){var p=r,h=Yi();h&&(u=document.createDocumentFragment(),u.append(p=Gi())),a=qe(()=>e(p)),h?Xi.add_callback(c):c()}}),Bt&&(r=Zr)}const To=!0,uu=Object.freeze(Object.defineProperty({__proto__:null,prerender:To},Symbol.toStringTag,{value:"Module"})),Fr="en";_n("en",()=>wn(()=>import("../chunks/Qyax1cwP.js"),[],import.meta.url));_n("fi",()=>wn(()=>import("../chunks/BRpihtYY.js"),[],import.meta.url));_n("sv",()=>wn(()=>import("../chunks/UR3G0BYx.js"),[],import.meta.url));_n("sa",()=>wn(()=>import("../chunks/-XYQ1-VA.js"),[],import.meta.url));ti({fallbackLocale:Fr,initialLocale:co()||Fr});async function Io(){try{const t=await fetch("https://peacemachine.eu/auth/app-token",{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Error ${t.status}: ${await t.text()}`);const e=await t.json();return localStorage.setItem("accessToken",e.access_token),localStorage.setItem("refreshToken",e.refresh_token),e}catch(n){return console.error("Error getting auth token:",n),null}}function Co(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];er(n,Ct({name:"globe"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=B(),u=D(a);nr(u,t,"default",{}),P(i,a)},$$slots:{default:!0}}))}function Po(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["path",{d:"M16 9a5 5 0 0 1 0 6"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"}]];er(n,Ct({name:"volume-2"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=B(),u=D(a);nr(u,t,"default",{}),P(i,a)},$$slots:{default:!0}}))}function xo(n,t){const e=sr(t,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.503.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const r=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15"}]];er(n,Ct({name:"volume-x"},()=>e,{get iconNode(){return r},children:(i,s)=>{var a=B(),u=D(a);nr(u,t,"default",{}),P(i,a)},$$slots:{default:!0}}))}function Oo(n){return typeof n=="function"}function Me(n){return n!==null&&typeof n=="object"}const ko=["string","number","bigint","boolean"];function Mn(n){return n==null||ko.includes(typeof n)?!0:Array.isArray(n)?n.every(t=>Mn(t)):typeof n=="object"?Object.getPrototypeOf(n)===Object.prototype:!1}const oe=Symbol("box"),ur=Symbol("is-writable");function No(n){return Me(n)&&oe in n}function Lo(n){return v.isBox(n)&&ur in n}function v(n){let t=L(Jr(n));return{[oe]:!0,[ur]:!0,get current(){return l(t)},set current(e){g(t,e,!0)}}}function Fo(n,t){const e=z(n);return t?{[oe]:!0,[ur]:!0,get current(){return l(e)},set current(r){t(r)}}:{[oe]:!0,get current(){return n()}}}function Do(n){return v.isBox(n)?n:Oo(n)?v.with(n):v(n)}function Ro(n){return Object.entries(n).reduce((t,[e,r])=>v.isBox(r)?(v.isWritableBox(r)?Object.defineProperty(t,e,{get(){return r.current},set(i){r.current=i}}):Object.defineProperty(t,e,{get(){return r.current}}),t):Object.assign(t,{[e]:r}),{})}function Mo(n){return v.isWritableBox(n)?{[oe]:!0,get current(){return n.current}}:n}v.from=Do;v.with=Fo;v.flatten=Ro;v.readonly=Mo;v.isBox=No;v.isWritableBox=Lo;function oi(...n){return function(t){var e;for(const r of n)if(r){if(t.defaultPrevented)return;typeof r=="function"?r.call(this,t):(e=r.current)==null||e.call(this,t)}}}var Rt={},On,Dr;function Bo(){if(Dr)return On;Dr=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,e=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,c="/",p="*",h="",y="comment",A="declaration";On=function(b,E){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];E=E||{};var S=1,I=1;function N(O){var w=O.match(t);w&&(S+=w.length);var K=O.lastIndexOf(d);I=~K?O.length-K:I+O.length}function x(){var O={line:S,column:I};return function(w){return w.position=new F(O),M(),w}}function F(O){this.start=O,this.end={line:S,column:I},this.source=E.source}F.prototype.content=b;function R(O){var w=new Error(E.source+":"+S+":"+I+": "+O);if(w.reason=O,w.filename=E.source,w.line=S,w.column=I,w.source=b,!E.silent)throw w}function q(O){var w=O.exec(b);if(w){var K=w[0];return N(K),b=b.slice(K.length),w}}function M(){q(e)}function tt(O){var w;for(O=O||[];w=G();)w!==!1&&O.push(w);return O}function G(){var O=x();if(!(c!=b.charAt(0)||p!=b.charAt(1))){for(var w=2;h!=b.charAt(w)&&(p!=b.charAt(w)||c!=b.charAt(w+1));)++w;if(w+=2,h===b.charAt(w-1))return R("End of comment missing");var K=b.slice(2,w-2);return I+=2,N(K),b=b.slice(w),I+=2,O({type:y,comment:K})}}function mt(){var O=x(),w=q(r);if(w){if(G(),!q(i))return R("property missing ':'");var K=q(s),Ue=O({type:A,property:m(w[0].replace(n,h)),value:K?m(K[0].replace(n,h)):h});return q(a),Ue}}function rt(){var O=[];tt(O);for(var w;w=mt();)w!==!1&&(O.push(w),tt(O));return O}return M(),rt()};function m(b){return b?b.replace(u,h):h}return On}var Rr;function Uo(){if(Rr)return Rt;Rr=1;var n=Rt&&Rt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=e;var t=n(Bo());function e(r,i){var s=null;if(!r||typeof r!="string")return s;var a=(0,t.default)(r),u=typeof i=="function";return a.forEach(function(d){if(d.type==="declaration"){var c=d.property,p=d.value;u?i(c,p,d):p&&(s=s||{},s[c]=p)}}),s}return Rt}var jo=Uo();const Mr=lo(jo),Vo=Mr.default||Mr,Wo=/\d/,zo=["-","_","/","."];function Ko(n=""){if(!Wo.test(n))return n!==n.toLowerCase()}function qo(n){const t=[];let e="",r,i;for(const s of n){const a=zo.includes(s);if(a===!0){t.push(e),e="",r=void 0;continue}const u=Ko(s);if(i===!1){if(r===!1&&u===!0){t.push(e),e=s,r=u;continue}if(r===!0&&u===!1&&e.length>1){const d=e.at(-1);t.push(e.slice(0,Math.max(0,e.length-1))),e=d+s,r=u;continue}}e+=s,r=u,i=a}return t.push(e),t}function si(n){return n?qo(n).map(t=>Go(t)).join(""):""}function Ho(n){return Xo(si(n||""))}function Go(n){return n?n[0].toUpperCase()+n.slice(1):""}function Xo(n){return n?n[0].toLowerCase()+n.slice(1):""}function We(n){if(!n)return{};const t={};function e(r,i){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){t[si(r)]=i;return}if(r.startsWith("--")){t[r]=i;return}t[Ho(r)]=i}return Vo(n,e),t}function Ut(...n){return(...t)=>{for(const e of n)typeof e=="function"&&e(...t)}}function Yo(n,t){const e=RegExp(n,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(e)?r.replace(e,t):r}}const Zo=Yo(/[A-Z]/,n=>`-${n.toLowerCase()}`);function Qo(n){if(!n||typeof n!="object"||Array.isArray(n))throw new TypeError(`expected an argument of type object, but got ${typeof n}`);return Object.keys(n).map(t=>`${Zo(t)}: ${n[t]};`).join(`
`)}function ai(n={}){return Qo(n).replace(`
`," ")}const Jo={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};ai(Jo);const $o=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],ts=new Set($o);function es(n){return ts.has(n)}function Ft(...n){const t={...n[0]};for(let e=1;e<n.length;e++){const r=n[e];if(r){for(const i of Object.keys(r)){const s=t[i],a=r[i],u=typeof s=="function",d=typeof a=="function";if(u&&es(i)){const c=s,p=a;t[i]=oi(c,p)}else if(u&&d)t[i]=Ut(s,a);else if(i==="class"){const c=Mn(s),p=Mn(a);c&&p?t[i]=Cn(s,a):c?t[i]=Cn(s):p&&(t[i]=Cn(a))}else if(i==="style"){const c=typeof s=="object",p=typeof a=="object",h=typeof s=="string",y=typeof a=="string";if(c&&p)t[i]={...s,...a};else if(c&&y){const A=We(a);t[i]={...s,...A}}else if(h&&p){const A=We(s);t[i]={...A,...a}}else if(h&&y){const A=We(s),m=We(a);t[i]={...A,...m}}else c?t[i]=s:p?t[i]=a:h?t[i]=s:y&&(t[i]=a)}else t[i]=a!==void 0?a:s}for(const i of Object.getOwnPropertySymbols(r)){const s=t[i],a=r[i];t[i]=a!==void 0?a:s}}}return typeof t.style=="object"&&(t.style=ai(t.style).replaceAll(`
`," ")),t.hidden!==!0&&(t.hidden=void 0,delete t.hidden),t.disabled!==!0&&(t.disabled=void 0,delete t.disabled),t}const ns=typeof window<"u"?window:void 0;function rs(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var st,at,lt,nn,it,re,Ge;const fr=class fr extends Map{constructor(e){super();f(this,it);f(this,st,new Map);f(this,at,L(0));f(this,lt,L(0));f(this,nn,Or||-1);if(e){for(var[r,i]of e)super.set(r,i);o(this,lt).v=super.size}}has(e){var r=o(this,st),i=r.get(e);if(i===void 0){var s=super.get(e);if(s!==void 0)i=k(this,it,re).call(this,0),r.set(e,i);else return l(o(this,at)),!1}return l(i),!0}forEach(e,r){k(this,it,Ge).call(this),super.forEach(e,r)}get(e){var r=o(this,st),i=r.get(e);if(i===void 0){var s=super.get(e);if(s!==void 0)i=k(this,it,re).call(this,0),r.set(e,i);else{l(o(this,at));return}}return l(i),super.get(e)}set(e,r){var h;var i=o(this,st),s=i.get(e),a=super.get(e),u=super.set(e,r),d=o(this,at);if(s===void 0)s=k(this,it,re).call(this,0),i.set(e,s),g(o(this,lt),super.size),ne(d);else if(a!==r){ne(s);var c=d.reactions===null?null:new Set(d.reactions),p=c===null||!((h=s.reactions)!=null&&h.every(y=>c.has(y)));p&&ne(d)}return u}delete(e){var r=o(this,st),i=r.get(e),s=super.delete(e);return i!==void 0&&(r.delete(e),g(o(this,lt),super.size),g(i,-1),ne(o(this,at))),s}clear(){if(super.size!==0){super.clear();var e=o(this,st);g(o(this,lt),0);for(var r of e.values())g(r,-1);ne(o(this,at)),e.clear()}}keys(){return l(o(this,at)),super.keys()}values(){return k(this,it,Ge).call(this),super.values()}entries(){return k(this,it,Ge).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return l(o(this,lt)),super.size}};st=new WeakMap,at=new WeakMap,lt=new WeakMap,nn=new WeakMap,it=new WeakSet,re=function(e){return Or===o(this,nn)?L(e):Ln(e)},Ge=function(){l(o(this,at));var e=o(this,st);if(o(this,lt).v!==e.size){for(var r of Sr(fr.prototype,this,"keys").call(this))if(!e.has(r)){var i=k(this,it,re).call(this,0);e.set(r,i)}}for([,i]of o(this,st))l(i)};let Bn=fr;var jt,se;class is{constructor(t={}){f(this,jt);f(this,se);const{window:e=ns,document:r=e==null?void 0:e.document}=t;e!==void 0&&(_(this,jt,r),_(this,se,bo(i=>{const s=J(e,"focusin",i),a=J(e,"focusout",i);return()=>{s(),a()}})))}get current(){var t;return(t=o(this,se))==null||t.call(this),o(this,jt)?rs(o(this,jt)):null}}jt=new WeakMap,se=new WeakMap;new is;var ae,dt;class ui{constructor(t){f(this,ae);f(this,dt);_(this,ae,t),_(this,dt,Symbol(t))}get key(){return o(this,dt)}exists(){return Zi(o(this,dt))}get(){const t=kr(o(this,dt));if(t===void 0)throw new Error(`Context "${o(this,ae)}" not found`);return t}getOr(t){const e=kr(o(this,dt));return e===void 0?t:e}set(t){return $r(o(this,dt),t)}}ae=new WeakMap,dt=new WeakMap;function os(n,t){switch(n){case"post":Zt(t);break;case"pre":Qi(t);break}}function ci(n,t,e,r={}){const{lazy:i=!1}=r;let s=!i,a=Array.isArray(n)?[]:void 0;os(t,()=>{const u=Array.isArray(n)?n.map(c=>c()):n();if(!s){s=!0,a=u;return}const d=Fn(()=>e(u,a));return a=u,d})}function nt(n,t,e){ci(n,"post",t,e)}function ss(n,t,e){ci(n,"pre",t,e)}nt.pre=ss;var Vt;class as{constructor(t,e){f(this,Vt,L(void 0));e!==void 0&&g(o(this,Vt),e,!0),nt(()=>t(),(r,i)=>{g(o(this,Vt),i,!0)})}get current(){return l(o(this,Vt))}}Vt=new WeakMap;function Be(n){Zt(()=>()=>{n()})}function li(n,t){return setTimeout(t,n)}function cr(n){Ji().then(n)}const us=1,cs=9,ls=11;function Br(n){return Me(n)&&n.nodeType===us&&typeof n.nodeName=="string"}function ds(n){return Me(n)&&n.nodeType===cs}function fs(n){var t;return Me(n)&&((t=n.constructor)==null?void 0:t.name)==="VisualViewport"}function hs(n){return Me(n)&&n.nodeType!==void 0}function ps(n){return hs(n)&&n.nodeType===ls&&"host"in n}function vs(n,t){var r;if(!n||!t||!Br(n)||!Br(t))return!1;const e=(r=t.getRootNode)==null?void 0:r.call(t);if(n===t||n.contains(t))return!0;if(e&&ps(e)){let i=t;for(;i;){if(n===i)return!0;i=i.parentNode||i.host}}return!1}function ms(n){return ds(n)?n:fs(n)?n.document:(n==null?void 0:n.ownerDocument)??document}function gs(n){let t=n.activeElement;for(;t!=null&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}var ue;class di{constructor(t){C(this,"element");f(this,ue,z(()=>this.element.current?this.element.current.getRootNode()??document:document));C(this,"getDocument",()=>ms(this.root));C(this,"getWindow",()=>this.getDocument().defaultView??window);C(this,"getActiveElement",()=>gs(this.root));C(this,"isActiveElement",t=>t===this.getActiveElement());C(this,"querySelector",t=>this.root?this.root.querySelector(t):null);C(this,"querySelectorAll",t=>this.root?this.root.querySelectorAll(t):[]);C(this,"setTimeout",(t,e)=>this.getWindow().setTimeout(t,e));C(this,"clearTimeout",t=>this.getWindow().clearTimeout(t));typeof t=="function"?this.element=v.with(t):this.element=t}get root(){return l(o(this,ue))}set root(t){g(o(this,ue),t)}getElementById(t){return this.root.getElementById(t)}}ue=new WeakMap;function lr(n,t){return{[Eo()]:e=>v.isBox(n)?(n.current=e,Fn(()=>t==null?void 0:t(e)),()=>{"isConnected"in e&&e.isConnected||(n.current=null,t==null||t(null))}):(n(e),Fn(()=>t==null?void 0:t(e)),()=>{"isConnected"in e&&e.isConnected||(n(null),t==null||t(null))})}}function bs(n){return n?"open":"closed"}var Wt,ce;class ys{constructor(t){f(this,Wt);f(this,ce);C(this,"attrs");_(this,Wt,t.getVariant?t.getVariant():null),_(this,ce,o(this,Wt)?`data-${o(this,Wt)}-`:`data-${t.component}-`),this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(t.parts.map(e=>[e,this.getAttr(e)]))}getAttr(t,e){return e?`data-${e}-${t}`:`${o(this,ce)}${t}`}selector(t,e){return`[${this.getAttr(t,e)}]`}}Wt=new WeakMap,ce=new WeakMap;function ws(n){const t=new ys(n);return{...t.attrs,selector:t.selector,getAttr:t.getAttr}}const _s="Enter",Ss="Escape",Es=" ";function V(){}function dr(n,t){return`bits-${n}`}var le,rn,fi;class As{constructor(t,e){f(this,rn);C(this,"state");f(this,le);this.state=v(t),_(this,le,e),this.dispatch=this.dispatch.bind(this)}dispatch(t){this.state.current=k(this,rn,fi).call(this,t)}}le=new WeakMap,rn=new WeakSet,fi=function(t){return o(this,le)[this.state.current][t]??this.state.current};const Ts={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var de,fe,he;class Is{constructor(t){C(this,"opts");f(this,de,L("none"));f(this,fe,L(Jr({})));C(this,"initialStatus");C(this,"previousPresent");C(this,"machine");C(this,"present");f(this,he,z(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=t,this.present=this.opts.open,this.initialStatus=t.open.current?"mounted":"unmounted",this.previousPresent=new as(()=>this.present.current),this.machine=new As(this.initialStatus,Ts),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),Cs(this),Ps(this),xs(this)}get prevAnimationNameState(){return l(o(this,de))}set prevAnimationNameState(t){g(o(this,de),t,!0)}get styles(){return l(o(this,fe))}set styles(t){g(o(this,fe),t,!0)}handleAnimationEnd(t){if(!this.opts.ref.current)return;const e=Je(this.opts.ref.current),r=e.includes(t.animationName)||e==="none";t.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(t){this.opts.ref.current&&t.target===this.opts.ref.current&&(this.prevAnimationNameState=Je(this.opts.ref.current))}get isPresent(){return l(o(this,he))}set isPresent(t){g(o(this,he),t)}}de=new WeakMap,fe=new WeakMap,he=new WeakMap;function Cs(n){nt(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const e=n.prevAnimationNameState,r=Je(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const i=e!==r;n.previousPresent.current&&i?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function Ps(n){nt(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const t=Je(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?t:"none"})}function xs(n){nt(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),Ut(J(n.opts.ref.current,"animationstart",n.handleAnimationStart),J(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),J(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function Je(n){return n&&getComputedStyle(n).animationName||"none"}function hi(n,t){Y(t,!0);const e=new Is({open:v.with(()=>t.open),ref:t.ref});var r=B(),i=D(r);{var s=a=>{var u=B(),d=D(u);X(d,()=>t.presence??ot,()=>({present:e.isPresent})),P(a,u)};Et(i,a=>{(t.forceMount||t.open||e.isPresent)&&a(s)})}P(n,r),Z()}var zt,Pt,bt,vt,Un,Xe;class Os{constructor(t){f(this,vt);f(this,zt);f(this,Pt);f(this,bt,!1);_(this,zt,t),Be(()=>k(this,vt,Un).call(this))}run(t){if(o(this,bt))return;k(this,vt,Un).call(this),_(this,bt,!0);const e=o(this,zt).ref.current;if(!e){_(this,bt,!1);return}if(typeof e.getAnimations!="function"){k(this,vt,Xe).call(this,t);return}_(this,Pt,window.requestAnimationFrame(()=>{const r=e.getAnimations();if(r.length===0){k(this,vt,Xe).call(this,t);return}Promise.allSettled(r.map(i=>i.finished)).then(()=>{k(this,vt,Xe).call(this,t)})}))}}zt=new WeakMap,Pt=new WeakMap,bt=new WeakMap,vt=new WeakSet,Un=function(){o(this,Pt)&&(window.cancelAnimationFrame(o(this,Pt)),_(this,Pt,void 0)),_(this,bt,!1)},Xe=function(t){const e=()=>{t(),_(this,bt,!1)};o(this,zt).afterTick?cr(e):e()};var ft,pe,ve;class ks{constructor(t){f(this,ft);f(this,pe);f(this,ve);_(this,ft,t),_(this,pe,t.enabled??!0),_(this,ve,new Os({ref:o(this,ft).ref,afterTick:o(this,ft).open})),nt([()=>o(this,ft).open.current],([e])=>{o(this,pe)&&o(this,ve).run(()=>{e===o(this,ft).open.current&&o(this,ft).onComplete()})})}}ft=new WeakMap,pe=new WeakMap,ve=new WeakMap;const Ns=ws({component:"dialog",parts:["content","trigger","overlay","title","description","close","cancel","action"]}),Sn=new ui("Dialog.Root | AlertDialog.Root");var me,ge,be,ye,we,_e,Se,Ee,Ae;const hr=class hr{constructor(t){C(this,"opts");f(this,me,L(null));f(this,ge,L(null));f(this,be,L(null));f(this,ye,L(void 0));f(this,we,L(void 0));f(this,_e,L(void 0));f(this,Se,L(void 0));f(this,Ee,L(null));C(this,"getBitsAttr",t=>Ns.getAttr(t,this.opts.variant.current));f(this,Ae,z(()=>({"data-state":bs(this.opts.open.current)})));this.opts=t,this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),new ks({ref:v.with(()=>this.contentNode),open:this.opts.open,enabled:!0,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}})}static create(t){return Sn.set(new hr(t))}get triggerNode(){return l(o(this,me))}set triggerNode(t){g(o(this,me),t,!0)}get contentNode(){return l(o(this,ge))}set contentNode(t){g(o(this,ge),t,!0)}get descriptionNode(){return l(o(this,be))}set descriptionNode(t){g(o(this,be),t,!0)}get contentId(){return l(o(this,ye))}set contentId(t){g(o(this,ye),t,!0)}get titleId(){return l(o(this,we))}set titleId(t){g(o(this,we),t,!0)}get triggerId(){return l(o(this,_e))}set triggerId(t){g(o(this,_e),t,!0)}get descriptionId(){return l(o(this,Se))}set descriptionId(t){g(o(this,Se),t,!0)}get cancelNode(){return l(o(this,Ee))}set cancelNode(t){g(o(this,Ee),t,!0)}handleOpen(){this.opts.open.current||(this.opts.open.current=!0)}handleClose(){this.opts.open.current&&(this.opts.open.current=!1)}get sharedProps(){return l(o(this,Ae))}set sharedProps(t){g(o(this,Ae),t)}};me=new WeakMap,ge=new WeakMap,be=new WeakMap,ye=new WeakMap,we=new WeakMap,_e=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Ae=new WeakMap;let jn=hr;var Te;const pr=class pr{constructor(t,e){C(this,"opts");C(this,"root");C(this,"attachment");f(this,Te,z(()=>({id:this.opts.id.current,[this.root.getBitsAttr(this.opts.variant.current)]:"",onclick:this.onclick,onkeydown:this.onkeydown,disabled:this.opts.disabled.current?!0:void 0,tabindex:0,...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}static create(t){return new pr(t,Sn.get())}onclick(t){this.opts.disabled.current||t.button>0||this.root.handleClose()}onkeydown(t){this.opts.disabled.current||(t.key===Es||t.key===_s)&&(t.preventDefault(),this.root.handleClose())}get props(){return l(o(this,Te))}set props(t){g(o(this,Te),t)}};Te=new WeakMap;let Vn=pr;var Ie,Ce;const vr=class vr{constructor(t,e){C(this,"opts");C(this,"root");C(this,"attachment");f(this,Ie,z(()=>({open:this.root.opts.open.current})));f(this,Ce,z(()=>({id:this.opts.id.current,role:this.root.opts.variant.current==="alert-dialog"?"alertdialog":"dialog","aria-modal":"true","aria-describedby":this.root.descriptionId,"aria-labelledby":this.root.titleId,[this.root.getBitsAttr("content")]:"",style:{pointerEvents:"auto",outline:this.root.opts.variant.current==="alert-dialog"?"none":void 0},tabindex:this.root.opts.variant.current==="alert-dialog"?-1:void 0,...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref,r=>{this.root.contentNode=r,this.root.contentId=r==null?void 0:r.id})}static create(t){return new vr(t,Sn.get())}get snippetProps(){return l(o(this,Ie))}set snippetProps(t){g(o(this,Ie),t)}get props(){return l(o(this,Ce))}set props(t){g(o(this,Ce),t)}};Ie=new WeakMap,Ce=new WeakMap;let Wn=vr;var Pe,xe;const mr=class mr{constructor(t,e){C(this,"opts");C(this,"root");C(this,"attachment");f(this,Pe,z(()=>({open:this.root.opts.open.current})));f(this,xe,z(()=>({id:this.opts.id.current,[this.root.getBitsAttr("overlay")]:"",style:{pointerEvents:"auto"},...this.root.sharedProps,...this.attachment})));this.opts=t,this.root=e,this.attachment=lr(this.opts.ref)}static create(t){return new mr(t,Sn.get())}get snippetProps(){return l(o(this,Pe))}set snippetProps(t){g(o(this,Pe),t)}get props(){return l(o(this,xe))}set props(t){g(o(this,xe),t)}};Pe=new WeakMap,xe=new WeakMap;let zn=mr;function Ls(n,t){var e=B(),r=D(e);ii(r,()=>t.children,i=>{var s=B(),a=D(s);X(a,()=>t.children??ot),P(i,s)}),P(n,e)}const pi=typeof document<"u",Ur=Fs();function Fs(){var n,t;return pi&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function jr(n){return n instanceof HTMLElement}function Ds(n){return n instanceof Element}const Rs=new ui("BitsConfig");function Ms(){const n=new Bs(null,{});return Rs.getOr(n).opts}class Bs{constructor(t,e){C(this,"opts");const r=Us(t,e);this.opts={defaultPortalTo:r(i=>i.defaultPortalTo),defaultLocale:r(i=>i.defaultLocale)}}}function Us(n,t){return e=>v.with(()=>{var s,a;const i=(s=e(t))==null?void 0:s.current;if(i!==void 0)return i;if(n!==null)return(a=e(n.opts))==null?void 0:a.current})}function js(n,t){return e=>{const r=Ms();return v.with(()=>{const i=e();if(i!==void 0)return i;const s=n(r).current;return s!==void 0?s:t})}}const Vs=js(n=>n.defaultPortalTo,"body");function Ws(n,t){Y(t,!0);const e=Vs(()=>t.to),r=$i();let i=z(s);function s(){if(!pi||t.disabled)return null;let h=null;return typeof e.current=="string"?h=document.querySelector(e.current):h=e.current,h}let a;function u(){a&&(eo(a),a=null)}nt([()=>l(i),()=>t.disabled],([h,y])=>{if(!h||y){u();return}return a=to(Ls,{target:h,props:{children:t.children},context:r}),()=>{u()}});var d=B(),c=D(d);{var p=h=>{var y=B(),A=D(y);X(A,()=>t.children??ot),P(h,y)};Et(c,h=>{t.disabled&&h(p)})}P(n,d),Z()}function vi(n,t,e,r){const i=Array.isArray(t)?t:[t];return i.forEach(s=>n.addEventListener(s,e,r)),()=>{i.forEach(s=>n.removeEventListener(s,e,r))}}function Vr(n,t=500){let e=null;const r=(...i)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...i)},t)};return r.destroy=()=>{e!==null&&(clearTimeout(e),e=null)},r}function mi(n,t){return n===t||n.contains(t)}function gi(n){return(n==null?void 0:n.ownerDocument)??document}function zs(n,t){const{clientX:e,clientY:r}=n,i=t.getBoundingClientRect();return e<i.left||e>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var Kt,xt,yt,qt,Ht,wt,Oe,ht,on,Jt,bi,sn,Gt,an,un,cn,ln,ke,yi,dn,fn;const gr=class gr{constructor(t){f(this,Jt);C(this,"opts");f(this,Kt);f(this,xt);f(this,yt,{pointerdown:!1});f(this,qt,!1);f(this,Ht,!1);f(this,wt);f(this,Oe);f(this,ht,V);f(this,on,t=>{t.defaultPrevented||this.opts.ref.current&&cr(()=>{var e,r;!this.opts.ref.current||o(this,ln).call(this,t.target)||t.target&&!o(this,Ht)&&((r=(e=o(this,Oe)).current)==null||r.call(e,t))})});f(this,sn,t=>{let e=t;e.defaultPrevented&&(e=Wr(t)),o(this,Kt).current(t)});f(this,Gt,Vr(t=>{if(!this.opts.ref.current){o(this,ht).call(this);return}const e=this.opts.isValidEvent.current(t,this.opts.ref.current)||Hs(t,this.opts.ref.current);if(!o(this,qt)||k(this,Jt,yi).call(this)||!e){o(this,ht).call(this);return}let r=t;if(r.defaultPrevented&&(r=Wr(r)),o(this,xt).current!=="close"&&o(this,xt).current!=="defer-otherwise-close"){o(this,ht).call(this);return}t.pointerType==="touch"?(o(this,ht).call(this),_(this,ht,vi(o(this,wt),"click",o(this,sn),{once:!0}))):o(this,Kt).current(r)},10));f(this,an,t=>{o(this,yt)[t.type]=!0});f(this,un,t=>{o(this,yt)[t.type]=!1});f(this,cn,()=>{this.opts.ref.current&&_(this,qt,qs(this.opts.ref.current))});f(this,ln,t=>this.opts.ref.current?mi(this.opts.ref.current,t):!1);f(this,ke,Vr(()=>{for(const t in o(this,yt))o(this,yt)[t]=!1;_(this,qt,!1)},20));f(this,dn,()=>{_(this,Ht,!0)});f(this,fn,()=>{_(this,Ht,!1)});C(this,"props",{onfocuscapture:o(this,dn),onblurcapture:o(this,fn)});this.opts=t,_(this,xt,t.interactOutsideBehavior),_(this,Kt,t.onInteractOutside),_(this,Oe,t.onFocusOutside),Zt(()=>{_(this,wt,gi(this.opts.ref.current))});let e=V;const r=()=>{o(this,ke).call(this),globalThis.bitsDismissableLayers.delete(this),o(this,Gt).destroy(),e()};nt([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return li(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,o(this,xt)),e(),e=k(this,Jt,bi).call(this))}),r}),Be(()=>{o(this,ke).destroy(),globalThis.bitsDismissableLayers.delete(this),o(this,Gt).destroy(),o(this,ht).call(this),e()})}static create(t){return new gr(t)}};Kt=new WeakMap,xt=new WeakMap,yt=new WeakMap,qt=new WeakMap,Ht=new WeakMap,wt=new WeakMap,Oe=new WeakMap,ht=new WeakMap,on=new WeakMap,Jt=new WeakSet,bi=function(){return Ut(J(o(this,wt),"pointerdown",Ut(o(this,an),o(this,cn)),{capture:!0}),J(o(this,wt),"pointerdown",Ut(o(this,un),o(this,Gt))),J(o(this,wt),"focusin",o(this,on)))},sn=new WeakMap,Gt=new WeakMap,an=new WeakMap,un=new WeakMap,cn=new WeakMap,ln=new WeakMap,ke=new WeakMap,yi=function(){return Object.values(o(this,yt)).some(Boolean)},dn=new WeakMap,fn=new WeakMap;let Kn=gr;function Ks(n){return n.findLast(([t,{current:e}])=>e==="close"||e==="ignore")}function qs(n){const t=[...globalThis.bitsDismissableLayers],e=Ks(t);if(e)return e[0].opts.ref.current===n;const[r]=t[0];return r.opts.ref.current===n}function Hs(n,t){if("button"in n&&n.button>0)return!1;const e=n.target;return Ds(e)?gi(e).documentElement.contains(e)&&!mi(t,e)&&zs(n,t):!1}function Wr(n){const t=n.currentTarget,e=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(a,u)=>u==="currentTarget"?t:u==="target"?e:u==="preventDefault"?()=>{i=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:u==="defaultPrevented"?i:u in a?a[u]:n[u]})}function Gs(n,t){Y(t,!0);let e=T(t,"interactOutsideBehavior",3,"close"),r=T(t,"onInteractOutside",3,V),i=T(t,"onFocusOutside",3,V),s=T(t,"isValidEvent",3,()=>!1);const a=Kn.create({id:v.with(()=>t.id),interactOutsideBehavior:v.with(()=>e()),onInteractOutside:v.with(()=>r()),enabled:v.with(()=>t.enabled),onFocusOutside:v.with(()=>i()),isValidEvent:v.with(()=>s()),ref:t.ref});var u=B(),d=D(u);X(d,()=>t.children??ot,()=>({props:a.props})),P(n,u),Z()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var hn,pn;const br=class br{constructor(t){C(this,"opts");C(this,"domContext");f(this,hn,()=>J(this.domContext.getDocument(),"keydown",o(this,pn),{passive:!1}));f(this,pn,t=>{if(t.key!==Ss||!Xs(this))return;const e=new KeyboardEvent(t.type,t);t.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(e)});this.opts=t,this.domContext=new di(this.opts.ref);let e=V;nt(()=>t.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,t.escapeKeydownBehavior),e=o(this,hn).call(this)),()=>{e(),globalThis.bitsEscapeLayers.delete(this)}))}static create(t){return new br(t)}};hn=new WeakMap,pn=new WeakMap;let qn=br;function Xs(n){const t=[...globalThis.bitsEscapeLayers],e=t.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(e)return e[0]===n;const[r]=t[0];return r===n}function Ys(n,t){Y(t,!0);let e=T(t,"escapeKeydownBehavior",3,"close"),r=T(t,"onEscapeKeydown",3,V);qn.create({escapeKeydownBehavior:v.with(()=>e()),onEscapeKeydown:v.with(()=>r()),enabled:v.with(()=>t.enabled),ref:t.ref});var i=B(),s=D(i);X(s,()=>t.children??ot),P(n,i),Z()}var pt,Ne;const vn=class vn{constructor(){f(this,pt,v([]));f(this,Ne,new WeakMap)}static getInstance(){return this.instance||(this.instance=new vn),this.instance}register(t){const e=this.getActive();e&&e!==t&&e.pause(),o(this,pt).current=o(this,pt).current.filter(r=>r!==t),o(this,pt).current.unshift(t)}unregister(t){o(this,pt).current=o(this,pt).current.filter(r=>r!==t);const e=this.getActive();e&&e.resume()}getActive(){return o(this,pt).current[0]}setFocusMemory(t,e){o(this,Ne).set(t,e)}getFocusMemory(t){return o(this,Ne).get(t)}isActiveScope(t){return this.getActive()===t}};pt=new WeakMap,Ne=new WeakMap,C(vn,"instance");let Hn=vn;/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var wi=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Gn=wi.join(","),_i=typeof Element>"u",Qt=_i?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,$e=!_i&&Element.prototype.getRootNode?function(n){var t;return n==null||(t=n.getRootNode)===null||t===void 0?void 0:t.call(n)}:function(n){return n==null?void 0:n.ownerDocument},tn=function n(t,e){var r;e===void 0&&(e=!0);var i=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=i===""||i==="true",a=s||e&&t&&n(t.parentNode);return a},Zs=function(t){var e,r=t==null||(e=t.getAttribute)===null||e===void 0?void 0:e.call(t,"contenteditable");return r===""||r==="true"},Si=function(t,e,r){if(tn(t))return[];var i=Array.prototype.slice.apply(t.querySelectorAll(Gn));return e&&Qt.call(t,Gn)&&i.unshift(t),i=i.filter(r),i},Ei=function n(t,e,r){for(var i=[],s=Array.from(t);s.length;){var a=s.shift();if(!tn(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),d=u.length?u:a.children,c=n(d,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:a,candidates:c})}else{var p=Qt.call(a,Gn);p&&r.filter(a)&&(e||!t.includes(a))&&i.push(a);var h=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),y=!tn(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(h&&y){var A=n(h===!0?a.children:h.children,!0,r);r.flatten?i.push.apply(i,A):i.push({scopeParent:a,candidates:A})}else s.unshift.apply(s,a.children)}}return i},Ai=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Ti=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Zs(t))&&!Ai(t)?0:t.tabIndex},Qs=function(t,e){var r=Ti(t);return r<0&&e&&!Ai(t)?0:r},Js=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},Ii=function(t){return t.tagName==="INPUT"},$s=function(t){return Ii(t)&&t.type==="hidden"},ta=function(t){var e=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return e},ea=function(t,e){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===e)return t[r]},na=function(t){if(!t.name)return!0;var e=t.form||$e(t),r=function(u){return e.querySelectorAll('input[type="radio"][name="'+u+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(t.name));else try{i=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=ea(i,t.form);return!s||s===t},ra=function(t){return Ii(t)&&t.type==="radio"},ia=function(t){return ra(t)&&!na(t)},oa=function(t){var e,r=t&&$e(t),i=(e=r)===null||e===void 0?void 0:e.host,s=!1;if(r&&r!==t){var a,u,d;for(s=!!((a=i)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(i)||t!=null&&(d=t.ownerDocument)!==null&&d!==void 0&&d.contains(t));!s&&i;){var c,p,h;r=$e(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((p=i)!==null&&p!==void 0&&(h=p.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},zr=function(t){var e=t.getBoundingClientRect(),r=e.width,i=e.height;return r===0&&i===0},sa=function(t,e){var r=e.displayCheck,i=e.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var s=Qt.call(t,"details>summary:first-of-type"),a=s?t.parentElement:t;if(Qt.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var u=t;t;){var d=t.parentElement,c=$e(t);if(d&&!d.shadowRoot&&i(d)===!0)return zr(t);t.assignedSlot?t=t.assignedSlot:!d&&c!==t.ownerDocument?t=c.host:t=d}t=u}if(oa(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return zr(t);return!1},aa=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if(e.tagName==="FIELDSET"&&e.disabled){for(var r=0;r<e.children.length;r++){var i=e.children.item(r);if(i.tagName==="LEGEND")return Qt.call(e,"fieldset[disabled] *")?!0:!i.contains(t)}return!0}e=e.parentElement}return!1},en=function(t,e){return!(e.disabled||tn(e)||$s(e)||sa(e,t)||ta(e)||aa(e))},Kr=function(t,e){return!(ia(e)||Ti(e)<0||!en(t,e))},ua=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},ca=function n(t){var e=[],r=[];return t.forEach(function(i,s){var a=!!i.scopeParent,u=a?i.scopeParent:i,d=Qs(u,a),c=a?n(i.candidates):u;d===0?a?e.push.apply(e,c):e.push(u):r.push({documentOrder:s,tabIndex:d,item:i,isScope:a,content:c})}),r.sort(Js).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(e)},la=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ei([t],e.includeContainer,{filter:Kr.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:ua}):r=Si(t,e.includeContainer,Kr.bind(null,e)),ca(r)},da=function(t,e){e=e||{};var r;return e.getShadowRoot?r=Ei([t],e.includeContainer,{filter:en.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):r=Si(t,e.includeContainer,en.bind(null,e)),r},fa=wi.concat("iframe").join(","),ha=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return Qt.call(t,fa)===!1?!1:en(e,t)},_t,H,et,Ot,St,U,Ci,Pi,xi,Oi,Yn,Ye,Zn;const yr=class yr{constructor(t){f(this,U);f(this,_t,!1);f(this,H,null);f(this,et,Hn.getInstance());f(this,Ot,[]);f(this,St);_(this,St,t)}get paused(){return o(this,_t)}pause(){_(this,_t,!0)}resume(){_(this,_t,!1)}mount(t){o(this,H)&&this.unmount(),_(this,H,t),o(this,et).register(this),k(this,U,Oi).call(this),k(this,U,Pi).call(this)}unmount(){o(this,H)&&(k(this,U,Ci).call(this),k(this,U,xi).call(this),o(this,et).unregister(this),_(this,H,null))}static use(t){let e=null;return nt([()=>t.ref.current,()=>t.enabled.current],([r,i])=>{r&&i?(e||(e=new yr(t)),e.mount(r)):e&&(e.unmount(),e=null)}),Be(()=>{e==null||e.unmount()}),{get props(){return{tabindex:-1}}}}};_t=new WeakMap,H=new WeakMap,et=new WeakMap,Ot=new WeakMap,St=new WeakMap,U=new WeakSet,Ci=function(){for(const t of o(this,Ot))t();_(this,Ot,[])},Pi=function(){if(!o(this,H))return;const t=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});o(this,St).onOpenAutoFocus.current(t),t.defaultPrevented||requestAnimationFrame(()=>{if(!o(this,H))return;const e=k(this,U,Ye).call(this);e?(e.focus(),o(this,et).setFocusMemory(this,e)):o(this,H).focus()})},xi=function(){var e,r;const t=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if((r=(e=o(this,St).onCloseAutoFocus).current)==null||r.call(e,t),!t.defaultPrevented){const i=document.activeElement;i&&i!==document.body&&i.focus()}},Oi=function(){if(!o(this,H)||!o(this,St).trap.current)return;const t=o(this,H),e=t.ownerDocument,r=a=>{if(o(this,_t)||!o(this,et).isActiveScope(this))return;const u=a.target;if(!u)return;if(t.contains(u))o(this,et).setFocusMemory(this,u);else{const c=o(this,et).getFocusMemory(this);if(c&&t.contains(c)&&ha(c))a.preventDefault(),c.focus();else{const p=k(this,U,Ye).call(this),h=k(this,U,Zn).call(this)[0];(p||h||t).focus()}}},i=a=>{if(!o(this,St).loop||o(this,_t)||a.key!=="Tab"||!o(this,et).isActiveScope(this))return;const u=k(this,U,Yn).call(this);if(u.length<2)return;const d=u[0],c=u[u.length-1];!a.shiftKey&&e.activeElement===c?(a.preventDefault(),d.focus()):a.shiftKey&&e.activeElement===d&&(a.preventDefault(),c.focus())};o(this,Ot).push(J(e,"focusin",r,{capture:!0}),J(t,"keydown",i));const s=new MutationObserver(()=>{const a=o(this,et).getFocusMemory(this);if(a&&!t.contains(a)){const u=k(this,U,Ye).call(this),d=k(this,U,Zn).call(this)[0],c=u||d;c?(c.focus(),o(this,et).setFocusMemory(this,c)):t.focus()}});s.observe(t,{childList:!0,subtree:!0}),o(this,Ot).push(()=>s.disconnect())},Yn=function(){return o(this,H)?la(o(this,H),{includeContainer:!1,getShadowRoot:!0}):[]},Ye=function(){return k(this,U,Yn).call(this)[0]||null},Zn=function(){return o(this,H)?da(o(this,H),{includeContainer:!1,getShadowRoot:!0}):[]};let Xn=yr;function pa(n,t){Y(t,!0);let e=T(t,"enabled",3,!1),r=T(t,"trapFocus",3,!1),i=T(t,"loop",3,!1),s=T(t,"onCloseAutoFocus",3,V),a=T(t,"onOpenAutoFocus",3,V);const u=Xn.use({enabled:v.with(()=>e()),trap:v.with(()=>r()),loop:i(),onCloseAutoFocus:v.with(()=>s()),onOpenAutoFocus:v.with(()=>a()),ref:t.ref});var d=B(),c=D(d);X(c,()=>t.focusScope??ot,()=>({props:u.props})),P(n,d),Z()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var Xt,mn,ki,gn,Le;const wr=class wr{constructor(t){f(this,mn);C(this,"opts");C(this,"domContext");f(this,Xt,V);f(this,gn,t=>{const e=this.opts.ref.current,r=t.target;!jr(e)||!jr(r)||!this.opts.enabled.current||!ma(this)||!vs(e,r)||(this.opts.onPointerDown.current(t),!t.defaultPrevented&&_(this,Xt,va(e,this.domContext.getDocument().body)))});f(this,Le,()=>{o(this,Xt).call(this),_(this,Xt,V)});this.opts=t,this.domContext=new di(t.ref);let e=V;nt(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),e(),e=k(this,mn,ki).call(this)),()=>{e(),o(this,Le).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(t){return new wr(t)}};Xt=new WeakMap,mn=new WeakSet,ki=function(){return Ut(J(this.domContext.getDocument(),"pointerdown",o(this,gn)),J(this.domContext.getDocument(),"pointerup",oi(o(this,Le),this.opts.onPointerUp.current)))},gn=new WeakMap,Le=new WeakMap;let Qn=wr;const qr=n=>n.style.userSelect||n.style.webkitUserSelect;function va(n,t){const e=qr(t),r=qr(n);return ze(t,"none"),ze(n,"text"),()=>{ze(t,e),ze(n,r)}}function ze(n,t){n.style.userSelect=t,n.style.webkitUserSelect=t}function ma(n){const t=[...globalThis.bitsTextSelectionLayers];if(!t.length)return!1;const e=t.at(-1);return e?e[0]===n:!1}function ga(n,t){Y(t,!0);let e=T(t,"preventOverflowTextSelection",3,!0),r=T(t,"onPointerDown",3,V),i=T(t,"onPointerUp",3,V);Qn.create({id:v.with(()=>t.id),onPointerDown:v.with(()=>r()),onPointerUp:v.with(()=>i()),enabled:v.with(()=>t.enabled&&e()),ref:t.ref});var s=B(),a=D(s);X(a,()=>t.children??ot),P(n,s),Z()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function ba(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}var Fe,Yt,kt,Nt,bn,Ni;class ya{constructor(t){f(this,bn);f(this,Fe);f(this,Yt,0);f(this,kt,L());f(this,Nt);_(this,Fe,t)}get(...t){return _(this,Yt,o(this,Yt)+1),l(o(this,kt))===void 0&&_(this,Nt,no(()=>{g(o(this,kt),o(this,Fe).call(this,...t),!0)})),Zt(()=>()=>{k(this,bn,Ni).call(this)}),l(o(this,kt))}}Fe=new WeakMap,Yt=new WeakMap,kt=new WeakMap,Nt=new WeakMap,bn=new WeakSet,Ni=function(){_(this,Yt,o(this,Yt)-1),o(this,Nt)&&o(this,Yt)<=0&&(o(this,Nt).call(this),g(o(this,kt),void 0),_(this,Nt,void 0))};const Jn=new Bn;let Ke=L(null),It=null,Mt=null;const Hr=v.with(()=>{for(const n of Jn.values())if(n)return!0;return!1});let kn=null;const wa=new ya(()=>{function n(){document.body.setAttribute("style",l(Ke)??""),document.body.style.removeProperty("--scrollbar-width"),Ur&&(It==null||It()),g(Ke,null),r=!1}function t(){Mt!==null&&(window.clearTimeout(Mt),Mt=null)}function e(s,a){t(),kn=Date.now();const u=kn,d=()=>{Mt=null,kn===u&&(Li(Jn)||a())};s===null?Mt=window.setTimeout(d,16):Mt=window.setTimeout(d,s)}let r=!1;function i(){!r&&l(Ke)===null&&(g(Ke,document.body.getAttribute("style"),!0),r=!0)}return nt(()=>Hr.current,()=>{if(!Hr.current)return;i();const s=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,d={padding:Number.parseInt(s.paddingRight??"0",10)+a,margin:Number.parseInt(s.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${d.padding}px`,document.body.style.marginRight=`${d.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Ur&&(It=vi(document,"touchmove",c=>{c.target===document.documentElement&&(c.touches.length>1||c.preventDefault())},{passive:!1})),cr(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Be(()=>()=>{It==null||It()}),{get lockMap(){return Jn},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:e,cancelPendingCleanup:t,ensureInitialStyleCaptured:i}});var Lt,De,Re,Q;class _a{constructor(t,e=()=>null){f(this,Lt,ba());f(this,De);f(this,Re,()=>null);f(this,Q);C(this,"locked");_(this,De,t),_(this,Re,e),_(this,Q,wa.get()),o(this,Q)&&(o(this,Q).cancelPendingCleanup(),o(this,Q).ensureInitialStyleCaptured(),o(this,Q).lockMap.set(o(this,Lt),o(this,De)??!1),this.locked=v.with(()=>o(this,Q).lockMap.get(o(this,Lt))??!1,r=>o(this,Q).lockMap.set(o(this,Lt),r)),Be(()=>{if(o(this,Q).lockMap.delete(o(this,Lt)),Li(o(this,Q).lockMap))return;const r=o(this,Re).call(this);o(this,Q).scheduleCleanupIfNoNewLocks(r,()=>{o(this,Q).resetBodyStyle()})}))}}Lt=new WeakMap,De=new WeakMap,Re=new WeakMap,Q=new WeakMap;function Li(n){for(const[t,e]of n)if(e)return!0;return!1}function Gr(n,t){Y(t,!0);let e=T(t,"preventScroll",3,!0),r=T(t,"restoreScrollDelay",3,null);e()&&new _a(e(),()=>r()),Z()}function Sa({forceMount:n,present:t,open:e}){return(n||t)&&e}var Ea=$("<div><!></div>");function Aa(n,t){const e=tr();Y(t,!0);let r=T(t,"id",19,()=>dr(e)),i=T(t,"forceMount",3,!1),s=T(t,"ref",15,null),a=ar(t,["$$slots","$$events","$$legacy","id","forceMount","child","children","ref"]);const u=zn.create({id:v.with(()=>r()),ref:v.with(()=>s(),c=>s(c))}),d=z(()=>Ft(a,u.props));{const c=h=>{var y=B(),A=D(y);{var m=E=>{var S=B(),I=D(S);{let N=z(()=>({props:Ft(l(d)),...u.snippetProps}));X(I,()=>t.child,()=>l(N))}P(E,S)},b=E=>{var S=Ea();ir(S,N=>({...N}),[()=>Ft(l(d))]);var I=W(S);X(I,()=>t.children??ot,()=>u.snippetProps),j(S),P(E,S)};Et(A,E=>{t.child?E(m):E(b,!1)})}P(h,y)};let p=z(()=>u.root.opts.open.current||i());hi(n,{get open(){return l(p)},get ref(){return u.opts.ref},presence:c,$$slots:{presence:!0}})}Z()}function Ta(n,t){Y(t,!0);let e=T(t,"open",15,!1),r=T(t,"onOpenChange",3,V),i=T(t,"onOpenChangeComplete",3,V);jn.create({variant:v.with(()=>"dialog"),open:v.with(()=>e(),u=>{e(u),r()(u)}),onOpenChangeComplete:v.with(()=>i())});var s=B(),a=D(s);X(a,()=>t.children??ot),P(n,s),Z()}var Ia=$("<button><!></button>");function Ca(n,t){const e=tr();Y(t,!0);let r=T(t,"id",19,()=>dr(e)),i=T(t,"ref",15,null),s=T(t,"disabled",3,!1),a=ar(t,["$$slots","$$events","$$legacy","children","child","id","ref","disabled"]);const u=Vn.create({variant:v.with(()=>"close"),id:v.with(()=>r()),ref:v.with(()=>i(),A=>i(A)),disabled:v.with(()=>!!s())}),d=z(()=>Ft(a,u.props));var c=B(),p=D(c);{var h=A=>{var m=B(),b=D(m);X(b,()=>t.child,()=>({props:l(d)})),P(A,m)},y=A=>{var m=Ia();ir(m,()=>({...l(d)}));var b=W(m);X(b,()=>t.children??ot),j(m),P(A,m)};Et(p,A=>{t.child?A(h):A(y,!1)})}P(n,c),Z()}var Pa=$("<!> <!>",1),xa=$("<!> <div><!></div>",1);function Oa(n,t){const e=tr();Y(t,!0);let r=T(t,"id",19,()=>dr(e)),i=T(t,"ref",15,null),s=T(t,"forceMount",3,!1),a=T(t,"onCloseAutoFocus",3,V),u=T(t,"onOpenAutoFocus",3,V),d=T(t,"onEscapeKeydown",3,V),c=T(t,"onInteractOutside",3,V),p=T(t,"trapFocus",3,!0),h=T(t,"preventScroll",3,!0),y=T(t,"restoreScrollDelay",3,null),A=ar(t,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","onCloseAutoFocus","onOpenAutoFocus","onEscapeKeydown","onInteractOutside","trapFocus","preventScroll","restoreScrollDelay"]);const m=Wn.create({id:v.with(()=>r()),ref:v.with(()=>i(),E=>i(E))}),b=z(()=>Ft(A,m.props));{const E=I=>{{const N=(F,R)=>{let q=()=>R==null?void 0:R().props;Ys(F,Ct(()=>l(b),{get enabled(){return m.root.opts.open.current},get ref(){return m.opts.ref},onEscapeKeydown:M=>{d()(M),!M.defaultPrevented&&m.root.handleClose()},children:(M,tt)=>{Gs(M,Ct(()=>l(b),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},onInteractOutside:G=>{c()(G),!G.defaultPrevented&&m.root.handleClose()},children:(G,mt)=>{ga(G,Ct(()=>l(b),{get ref(){return m.opts.ref},get enabled(){return m.root.opts.open.current},children:(rt,O)=>{var w=B(),K=D(w);{var Ue=Dt=>{var $t=Pa(),te=D($t);{var ee=At=>{Gr(At,{get preventScroll(){return h()},get restoreScrollDelay(){return y()}})};Et(te,At=>{m.root.opts.open.current&&At(ee)})}var An=ut(te,2);{let At=z(()=>({props:Ft(l(b),q()),...m.snippetProps}));X(An,()=>t.child,()=>l(At))}P(Dt,$t)},En=Dt=>{var $t=xa(),te=D($t);Gr(te,{get preventScroll(){return h()}});var ee=ut(te,2);ir(ee,At=>({...At}),[()=>Ft(l(b),q())]);var An=W(ee);X(An,()=>t.children??ot),j(ee),P(Dt,$t)};Et(K,Dt=>{t.child?Dt(Ue):Dt(En,!1)})}P(rt,w)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))};let x=z(()=>Sa({forceMount:s(),present:m.root.opts.open.current,open:m.root.opts.open.current}));pa(I,{get ref(){return m.opts.ref},loop:!0,get trapFocus(){return p()},get enabled(){return l(x)},get onOpenAutoFocus(){return u()},onCloseAutoFocus:F=>{a()(F),!F.defaultPrevented&&li(1,()=>{var R;return(R=m.root.triggerNode)==null?void 0:R.focus()})},focusScope:N,$$slots:{focusScope:!0}})}};let S=z(()=>m.root.opts.open.current||s());hi(n,Ct(()=>l(b),{get forceMount(){return s()},get open(){return l(S)},get ref(){return m.opts.ref},presence:E,$$slots:{presence:!0}}))}Z()}var ka=(n,t,e,r)=>{t(),e(r())},Na=$("<button> </button>"),La=(n,t)=>t(!t()),Fa=$('<div class="card-header-container"><!></div> <div class="card-btn-container svelte-10sal2k"></div>  <div class="card-extra-container svelte-10sal2k"><input type="checkbox" id="translate-checkbox" name="translate-checkbox" class="svelte-10sal2k"/> <label for="translate-checkbox"> </label></div>',1);function Da(n,t){Y(t,!0);const[e,r]=$n(),i=()=>Ze(Lr,"$locale",e),s=()=>Ze(ei,"$_",e);let a=T(t,"translate",15);const u=[{code:"en",name:"English"},{code:"fi",name:"Suomi"},{code:"sv",name:"Svenska"},{code:"sa",name:"Smegiella"}];async function d(y){Lr.set(y),localStorage.setItem("locale",y),await ni().then(()=>{t.closeLangCard(!1)})}function c(){or.playEffect("Blip_UI")}var p=B(),h=D(p);ie(h,()=>Oa,(y,A)=>{A(y,{class:"lang-container",trapFocus:!0,children:(m,b)=>{var E=Fa(),S=D(E),I=W(S);ie(I,()=>Ca,(M,tt)=>{tt(M,{class:"btn btn-close",onclick:()=>{c(),t.closeLangCard()},children:(G,mt)=>{yo(G,{color:"#ffffff",size:35})},$$slots:{default:!0}})}),j(S);var N=ut(S,2);oo(N,21,()=>u,so,(M,tt)=>{let G=()=>l(tt).code,mt=()=>l(tt).name;var rt=Na();let O;rt.__click=[ka,c,d,G];var w=W(rt,!0);j(rt),Qe(K=>{O=po(rt,1,"btn btn-lang svelte-10sal2k",null,O,K),Dn(w,mt())},[()=>({"active-lang":i()===G()})]),P(M,rt)}),j(N);var x=ut(N,2),F=W(x);fo(F),F.__change=[La,a];var R=ut(F,2),q=W(R,!0);j(R),j(x),Qe(M=>{ho(F,a()),Dn(q,M)},[()=>s()("btn_translate_check")]),P(m,E)},$$slots:{default:!0}})}),P(n,p),Z(),r()}yn(["click","change"]);yn(["click"]);var Ra=(n,t)=>t(),Ma=$('<div class="audio-icon-container svelte-1hhaios"><button class="btn svelte-1hhaios"><!></button></div>');function Ba(n,t){Y(t,!0);const[e,r]=$n(),i=()=>Ze(mo,"$audioStore",e);let s=T(t,"volume",11,.3),a=T(t,"fadeTime",11,500),u=L(0),d=L(-1),c=L(null),p=!1,h=L(!1);Zt(()=>{typeof window<"u"&&g(h,vo(),!0)});async function y(){if(!p)try{p=!0;const F=!i().isGloballyMuted;if(ct.setMuted(F),F){if(l(c)){const R=isFinite(a())?a():500,q=gt.getOptimizedFadeDuration(R,!0);await Tt.fadeOut(l(c),q),ct.setPlayingState("paused")}or.stopAllEffects()}else{if(l(h)&&!gt.isAudioContextReady()&&!await gt.enableAudio()){console.warn("Audio context could not be enabled"),ct.setMuted(!0);return}await A()}}finally{p=!1}}async function A(){if(!(l(c)&&l(d)===l(u)&&!l(c).paused))try{const x=isFinite(s())?s():.3,F=isFinite(a())?a():500,R=gt.getOptimizedFadeDuration(F);l(c)&&l(d)!==l(u)?(Tt.cancelFade(l(c)),l(c).pause(),l(c).src=je[l(u)].src,l(c).load()):l(c)||(g(c,new Audio(je[l(u)].src),!0),l(c).loop=!0,gt.prepareAudioElement(l(c))),l(c).volume=0,await l(c).play(),await Tt.fadeIn(l(c),x,R),g(d,l(u),!0),ct.setCurrentSong(l(c)),ct.setPlayingState("playing"),ct.setVolume(x)}catch(x){console.error("Failed to start playing song:",x),l(c)&&(l(c).pause(),l(c).currentTime=0),ct.setPlayingState("paused")}}async function m(){if(!(!l(c)||p)){p=!0;try{const x=isFinite(s())?s():.3,F=isFinite(a())?a():500,R=gt.getOptimizedFadeDuration(F*.7);if(l(h)||!gt.supportsMultipleAudioStreams())await Tt.fadeOut(l(c),R),l(c).src=je[l(u)].src,l(c).load(),l(c).volume=0,await l(c).play(),await Tt.fadeIn(l(c),x,R);else{const q=l(c),M=new Audio(je[l(u)].src);M.loop=!0,M.volume=0,gt.prepareAudioElement(M),await M.play();const tt=Tt.fadeOut(q,R),G=Tt.fadeIn(M,x,R);await Promise.all([tt,G]),g(c,M,!0)}g(d,l(u),!0),ct.setCurrentSong(l(c)),ct.setVolume(x)}catch(x){console.error("Cross-fade failed:",x),await A()}finally{p=!1}}}Zt(()=>{const x=rr.url.pathname==="/explore"?1:0;x!==l(u)&&!i().isGloballyMuted&&i().playingState==="playing"&&l(c)&&!p?(l(u),g(u,x,!0),m().catch(F=>{console.error("Failed to cross-fade to new song:",F),g(u,x,!0)})):g(u,x,!0)});var b=Ma(),E=W(b);E.__click=[Ra,y];var S=W(E);{var I=x=>{xo(x,{color:"#ffffff"})},N=x=>{Po(x,{color:"#ffffff"})};Et(S,x=>{i().isGloballyMuted?x(I):x(N,!1)})}j(E),j(b),P(n,b),Z(),r()}yn(["click"]);var Ua=(n,t)=>{t(),So(`${ri}/`)},ja=$('<div class="back-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!> </button></div>'),Va=(n,t,e)=>{t(),e.toggleLang()},Wa=$('<div class="card-header-container"><!> <div class="lang-btn-container svelte-1fmp5ml"><button class="btn svelte-1fmp5ml"><!></button></div> <div class="audio-control-container svelte-1fmp5ml"><!></div></div>');function za(n,t){Y(t,!0);const[e,r]=$n(),i=()=>Ze(ei,"$_",e);let s=L(1),a=L(500);function u(){or.playEffect("Blip_UI")}var d=Wa(),c=W(d);{var p=E=>{var S=ja(),I=W(S);I.__click=[Ua,u];var N=W(I);wo(N,{color:"#ffffff"});var x=ut(N);j(I),j(S),Qe(F=>Dn(x,` ${F??""}`),[()=>i()("header_btn_exit")]),Rn(3,S,()=>ao),P(E,S)};Et(c,E=>{rr.url.pathname===`${ri}/explore`&&E(p)})}var h=ut(c,2),y=W(h);y.__click=[Va,u,t];var A=W(y);Co(A,{color:"#ffffff"}),j(y),j(h);var m=ut(h,2),b=W(m);Ba(b,{get volume(){return l(s)},set volume(E){g(s,E,!0)},get fadeTime(){return l(a)},set fadeTime(E){g(a,E,!0)}}),j(m),j(d),Qe(E=>go(y,"aria-label",E),[()=>i()("aria-lang-toggle")]),P(n,d),Z(),r()}yn(["click"]);var Ka=$('<link rel="icon" type="image/svg" href="/favicon.ico"/>'),qa=$('<main class="page-container"><!></main>'),Ha=$('<!> <header class="header-container svelte-bl8i2v"><!></header> <!>',1),Ga=$('<div class="app svelte-bl8i2v"><!></div>');function cu(n,t){Y(t,!0);let e=L(!1),r=500,i=L(!1),s=L(null),a=L(null);$r("navigation",{setSource:h=>{g(s,h,!0)},setSubmittedStoryId:h=>{g(a,h,!0)},getNavigationData:()=>({source:l(s),storyId:l(a)}),clearNavigation:()=>{g(s,null),g(a,null)}}),ti({fallbackLocale:"en",initialLocale:"en"});async function u(){await Io().catch(h=>{throw uo(500,"Failed to get token")})}let d=()=>{g(e,!l(e))};ro(()=>{window.scrollTo(0,0),u()});var c=Ga();io(h=>{var y=Ka();P(h,y)});var p=W(c);Ao(p,ni,h=>{_o(h)},h=>{var y=Ha(),A=D(y);ie(A,()=>Ta,(S,I)=>{I(S,{get open(){return l(e)},set open(N){g(e,N,!0)},children:(N,x)=>{var F=B(),R=D(F);ie(R,()=>Ws,(q,M)=>{M(q,{children:(tt,G)=>{var mt=B(),rt=D(mt);ie(rt,()=>Aa,(O,w)=>{w(O,{children:(K,Ue)=>{Da(K,{closeLangCard:d,get translate(){return l(i)},set translate(En){g(i,En,!0)}})},$$slots:{default:!0}})}),P(tt,mt)},$$slots:{default:!0}})}),P(N,F)},$$slots:{default:!0}})});var m=ut(A,2),b=W(m);za(b,{toggleLang:d,get showLang(){return l(e)}}),j(m);var E=ut(m,2);ii(E,()=>rr.url.pathname,S=>{var I=qa(),N=W(I);X(N,()=>t.children),j(I),Rn(1,I,()=>Nr,()=>({duration:r})),Rn(2,I,()=>Nr,()=>({duration:r})),P(S,I)}),P(h,y)}),j(c),P(n,c),Z()}export{cu as component,uu as universal};
