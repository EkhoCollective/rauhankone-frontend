import{a as ut,s as xt}from"../chunks/CH8pw5DQ.js";import{aw as On,e as Ve,ap as Rn,h as In,u as Ln,m as Nn,ax as Dn,$ as cn,O as Ct,Q as te,R as E,ay as kn,Y as v,T as pe,ag as un,V as $,W as wt,Z as j,_ as he,at as xn,am as Xt,t as c,an as Cn,au as wn,af as jt,ao as se,w as L,av as Mn,aq as Pn,ar as Qt}from"../chunks/CSXhuflK.js";import{i as me}from"../chunks/BvspNDJ9.js";import{t as z,b as fn,a as Kt,s as J}from"../chunks/DGmvaw3_.js";import{$ as Mt,a as Un}from"../chunks/oKsBnlvW.js";import{g as Fn}from"../chunks/BmY5g-Rw.js";import{r as Hn}from"../chunks/oB0YqpcS.js";import{g as it,a as bt}from"../chunks/DZ0WnG0a.js";import{T as zn}from"../chunks/DAD9y6ZW.js";import{c as Gn,s as Ce,r as Wn,u as mn,a as Bn}from"../chunks/DkEH7lOm.js";import{b as Yn}from"../chunks/CIiPPd2P.js";import{p as lt}from"../chunks/CptNW1BW.js";import{c as qe,L as Vn}from"../chunks/DKSSSyiy.js";import{F as qn}from"../chunks/DkKUTdui.js";function $n(a,n,s=n){var r=new WeakSet;On(a,"input",async l=>{var g=l?a.defaultValue:a.value;if(g=St(a)?yt(g):g,s(g),Ve!==null&&r.add(Ve),await Rn(),g!==(g=n())){var U=a.selectionStart,V=a.selectionEnd;a.value=g??"",V!==null&&(a.selectionStart=U,a.selectionEnd=Math.min(V,a.value.length))}}),(In&&a.defaultValue!==a.value||Ln(n)==null&&a.value)&&(s(St(a)?yt(a.value):a.value),Ve!==null&&r.add(Ve)),Nn(()=>{var l=n();if(a===document.activeElement){var g=Dn??Ve;if(r.has(g))return}St(a)&&l===yt(a.value)||a.type==="date"&&!l&&!a.value||l!==a.value&&(a.value=l??"")})}function St(a){var n=a.type;return n==="number"||n==="range"}function yt(a){return a===""?null:+a}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:dn,setPrototypeOf:Zt,isFrozen:Xn,getPrototypeOf:jn,getOwnPropertyDescriptor:Qn}=Object;let{freeze:G,seal:Q,create:pn}=Object,{apply:Dt,construct:kt}=typeof Reflect<"u"&&Reflect;G||(G=function(n){return n});Q||(Q=function(n){return n});Dt||(Dt=function(n,s,r){return n.apply(s,r)});kt||(kt=function(n,s){return new n(...s)});const rt=W(Array.prototype.forEach),Kn=W(Array.prototype.lastIndexOf),Jt=W(Array.prototype.pop),$e=W(Array.prototype.push),Zn=W(Array.prototype.splice),ct=W(String.prototype.toLowerCase),Ot=W(String.prototype.toString),en=W(String.prototype.match),Xe=W(String.prototype.replace),Jn=W(String.prototype.indexOf),ea=W(String.prototype.trim),ee=W(Object.prototype.hasOwnProperty),H=W(RegExp.prototype.test),je=ta(TypeError);function W(a){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return Dt(a,n,r)}}function ta(a){return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return kt(a,s)}}function f(a,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct;Zt&&Zt(a,null);let r=n.length;for(;r--;){let l=n[r];if(typeof l=="string"){const g=s(l);g!==l&&(Xn(n)||(n[r]=g),l=g)}a[l]=!0}return a}function na(a){for(let n=0;n<a.length;n++)ee(a,n)||(a[n]=null);return a}function de(a){const n=pn(null);for(const[s,r]of dn(a))ee(a,s)&&(Array.isArray(r)?n[s]=na(r):r&&typeof r=="object"&&r.constructor===Object?n[s]=de(r):n[s]=r);return n}function Qe(a,n){for(;a!==null;){const r=Qn(a,n);if(r){if(r.get)return W(r.get);if(typeof r.value=="function")return W(r.value)}a=jn(a)}function s(){return null}return s}const tn=G(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rt=G(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),It=G(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),aa=G(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lt=G(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oa=G(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),nn=G(["#text"]),an=G(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Nt=G(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),on=G(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),st=G(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ia=Q(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ra=Q(/<%[\w\W]*|[\w\W]*%>/gm),sa=Q(/\$\{[\w\W]*/gm),la=Q(/^data-[\-\w.\u00B7-\uFFFF]+$/),ca=Q(/^aria-[\-\w]+$/),_n=Q(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ua=Q(/^(?:\w+script|data):/i),fa=Q(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gn=Q(/^html$/i),ma=Q(/^[a-z][.\w]*(-[.\w]+)+$/i);var rn=Object.freeze({__proto__:null,ARIA_ATTR:ca,ATTR_WHITESPACE:fa,CUSTOM_ELEMENT:ma,DATA_ATTR:la,DOCTYPE_NAME:gn,ERB_EXPR:ra,IS_ALLOWED_URI:_n,IS_SCRIPT_OR_DATA:ua,MUSTACHE_EXPR:ia,TMPLIT_EXPR:sa});const Ke={element:1,text:3,progressingInstruction:7,comment:8,document:9},da=function(){return typeof window>"u"?null:window},pa=function(n,s){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";s&&s.hasAttribute(l)&&(r=s.getAttribute(l));const g="dompurify"+(r?"#"+r:"");try{return n.createPolicy(g,{createHTML(U){return U},createScriptURL(U){return U}})}catch{return""+g,null}},sn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Tn(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:da();const n=i=>Tn(i);if(n.version="3.2.6",n.removed=[],!a||!a.document||a.document.nodeType!==Ke.document||!a.Element)return n.isSupported=!1,n;let{document:s}=a;const r=s,l=r.currentScript,{DocumentFragment:g,HTMLTemplateElement:U,Node:V,Element:N,NodeFilter:b,NamedNodeMap:ne=a.NamedNodeMap||a.MozNamedAttrMap,HTMLFormElement:D,DOMParser:y,trustedTypes:B}=a,A=N.prototype,C=Qe(A,"cloneNode"),_e=Qe(A,"remove"),ae=Qe(A,"nextSibling"),F=Qe(A,"childNodes"),m=Qe(A,"parentNode");if(typeof U=="function"){const i=s.createElement("template");i.content&&i.content.ownerDocument&&(s=i.content.ownerDocument)}let d,X="";const{implementation:we,createNodeIterator:ft,createDocumentFragment:mt,getElementsByTagName:dt}=s,{importNode:pt}=r;let x=sn();n.isSupported=typeof dn=="function"&&typeof m=="function"&&we&&we.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Me,ERB_EXPR:Ee,TMPLIT_EXPR:Pe,DATA_ATTR:Ze,ARIA_ATTR:Ue,IS_SCRIPT_OR_DATA:_t,ATTR_WHITESPACE:Re,CUSTOM_ELEMENT:Fe}=rn;let{IS_ALLOWED_URI:Je}=rn,S=null;const He=f({},[...tn,...Rt,...It,...Lt,...nn]);let O=null;const et=f({},[...an,...Nt,...on,...st]);let T=Object.seal(pn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ve=null,p=null,R=!0,w=!0,Ae=!1,tt=!0,K=!1,Ie=!0,oe=!1,Le=!1,ze=!1,le=!1,Ne=!1,be=!1,nt=!0,Ge=!1;const gt="user-content-";let We=!0,Se=!1,_={},u=null;const q=f({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ge=null;const ye=f({},["audio","video","img","source","image","track"]);let Oe=null;const Z=f({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ie="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xhtml";let De=ce,Tt=!1,ht=null;const hn=f({},[ie,Te,ce],Ot);let at=f({},["mi","mo","mn","ms","mtext"]),ot=f({},["annotation-xml"]);const En=f({},["title","style","font","a","script"]);let Be=null;const vn=["application/xhtml+xml","text/html"],An="text/html";let k=null,ke=null;const bn=s.createElement("form"),Pt=function(e){return e instanceof RegExp||e instanceof Function},Et=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ke&&ke===e)){if((!e||typeof e!="object")&&(e={}),e=de(e),Be=vn.indexOf(e.PARSER_MEDIA_TYPE)===-1?An:e.PARSER_MEDIA_TYPE,k=Be==="application/xhtml+xml"?Ot:ct,S=ee(e,"ALLOWED_TAGS")?f({},e.ALLOWED_TAGS,k):He,O=ee(e,"ALLOWED_ATTR")?f({},e.ALLOWED_ATTR,k):et,ht=ee(e,"ALLOWED_NAMESPACES")?f({},e.ALLOWED_NAMESPACES,Ot):hn,Oe=ee(e,"ADD_URI_SAFE_ATTR")?f(de(Z),e.ADD_URI_SAFE_ATTR,k):Z,ge=ee(e,"ADD_DATA_URI_TAGS")?f(de(ye),e.ADD_DATA_URI_TAGS,k):ye,u=ee(e,"FORBID_CONTENTS")?f({},e.FORBID_CONTENTS,k):q,ve=ee(e,"FORBID_TAGS")?f({},e.FORBID_TAGS,k):de({}),p=ee(e,"FORBID_ATTR")?f({},e.FORBID_ATTR,k):de({}),_=ee(e,"USE_PROFILES")?e.USE_PROFILES:!1,R=e.ALLOW_ARIA_ATTR!==!1,w=e.ALLOW_DATA_ATTR!==!1,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,tt=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,K=e.SAFE_FOR_TEMPLATES||!1,Ie=e.SAFE_FOR_XML!==!1,oe=e.WHOLE_DOCUMENT||!1,le=e.RETURN_DOM||!1,Ne=e.RETURN_DOM_FRAGMENT||!1,be=e.RETURN_TRUSTED_TYPE||!1,ze=e.FORCE_BODY||!1,nt=e.SANITIZE_DOM!==!1,Ge=e.SANITIZE_NAMED_PROPS||!1,We=e.KEEP_CONTENT!==!1,Se=e.IN_PLACE||!1,Je=e.ALLOWED_URI_REGEXP||_n,De=e.NAMESPACE||ce,at=e.MATHML_TEXT_INTEGRATION_POINTS||at,ot=e.HTML_INTEGRATION_POINTS||ot,T=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Pt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(T.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Pt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(T.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(T.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&(w=!1),Ne&&(le=!0),_&&(S=f({},nn),O=[],_.html===!0&&(f(S,tn),f(O,an)),_.svg===!0&&(f(S,Rt),f(O,Nt),f(O,st)),_.svgFilters===!0&&(f(S,It),f(O,Nt),f(O,st)),_.mathMl===!0&&(f(S,Lt),f(O,on),f(O,st))),e.ADD_TAGS&&(S===He&&(S=de(S)),f(S,e.ADD_TAGS,k)),e.ADD_ATTR&&(O===et&&(O=de(O)),f(O,e.ADD_ATTR,k)),e.ADD_URI_SAFE_ATTR&&f(Oe,e.ADD_URI_SAFE_ATTR,k),e.FORBID_CONTENTS&&(u===q&&(u=de(u)),f(u,e.FORBID_CONTENTS,k)),We&&(S["#text"]=!0),oe&&f(S,["html","head","body"]),S.table&&(f(S,["tbody"]),delete ve.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw je('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw je('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');d=e.TRUSTED_TYPES_POLICY,X=d.createHTML("")}else d===void 0&&(d=pa(B,l)),d!==null&&typeof X=="string"&&(X=d.createHTML(""));G&&G(e),ke=e}},Ut=f({},[...Rt,...It,...aa]),Ft=f({},[...Lt,...oa]),Sn=function(e){let t=m(e);(!t||!t.tagName)&&(t={namespaceURI:De,tagName:"template"});const o=ct(e.tagName),h=ct(t.tagName);return ht[e.namespaceURI]?e.namespaceURI===Te?t.namespaceURI===ce?o==="svg":t.namespaceURI===ie?o==="svg"&&(h==="annotation-xml"||at[h]):!!Ut[o]:e.namespaceURI===ie?t.namespaceURI===ce?o==="math":t.namespaceURI===Te?o==="math"&&ot[h]:!!Ft[o]:e.namespaceURI===ce?t.namespaceURI===Te&&!ot[h]||t.namespaceURI===ie&&!at[h]?!1:!Ft[o]&&(En[o]||!Ut[o]):!!(Be==="application/xhtml+xml"&&ht[e.namespaceURI]):!1},re=function(e){$e(n.removed,{element:e});try{m(e).removeChild(e)}catch{_e(e)}},xe=function(e,t){try{$e(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch{$e(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is")if(le||Ne)try{re(t)}catch{}else try{t.setAttribute(e,"")}catch{}},Ht=function(e){let t=null,o=null;if(ze)e="<remove></remove>"+e;else{const I=en(e,/^[\r\n\t ]+/);o=I&&I[0]}Be==="application/xhtml+xml"&&De===ce&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const h=d?d.createHTML(e):e;if(De===ce)try{t=new y().parseFromString(h,Be)}catch{}if(!t||!t.documentElement){t=we.createDocument(De,"template",null);try{t.documentElement.innerHTML=Tt?X:h}catch{}}const M=t.body||t.documentElement;return e&&o&&M.insertBefore(s.createTextNode(o),M.childNodes[0]||null),De===ce?dt.call(t,oe?"html":"body")[0]:oe?t.documentElement:M},zt=function(e){return ft.call(e.ownerDocument||e,e,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT|b.SHOW_PROCESSING_INSTRUCTION|b.SHOW_CDATA_SECTION,null)},vt=function(e){return e instanceof D&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof ne)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},Gt=function(e){return typeof V=="function"&&e instanceof V};function ue(i,e,t){rt(i,o=>{o.call(n,e,t,ke)})}const Wt=function(e){let t=null;if(ue(x.beforeSanitizeElements,e,null),vt(e))return re(e),!0;const o=k(e.nodeName);if(ue(x.uponSanitizeElement,e,{tagName:o,allowedTags:S}),Ie&&e.hasChildNodes()&&!Gt(e.firstElementChild)&&H(/<[/\w!]/g,e.innerHTML)&&H(/<[/\w!]/g,e.textContent)||e.nodeType===Ke.progressingInstruction||Ie&&e.nodeType===Ke.comment&&H(/<[/\w]/g,e.data))return re(e),!0;if(!S[o]||ve[o]){if(!ve[o]&&Yt(o)&&(T.tagNameCheck instanceof RegExp&&H(T.tagNameCheck,o)||T.tagNameCheck instanceof Function&&T.tagNameCheck(o)))return!1;if(We&&!u[o]){const h=m(e)||e.parentNode,M=F(e)||e.childNodes;if(M&&h){const I=M.length;for(let Y=I-1;Y>=0;--Y){const fe=C(M[Y],!0);fe.__removalCount=(e.__removalCount||0)+1,h.insertBefore(fe,ae(e))}}}return re(e),!0}return e instanceof N&&!Sn(e)||(o==="noscript"||o==="noembed"||o==="noframes")&&H(/<\/no(script|embed|frames)/i,e.innerHTML)?(re(e),!0):(K&&e.nodeType===Ke.text&&(t=e.textContent,rt([Me,Ee,Pe],h=>{t=Xe(t,h," ")}),e.textContent!==t&&($e(n.removed,{element:e.cloneNode()}),e.textContent=t)),ue(x.afterSanitizeElements,e,null),!1)},Bt=function(e,t,o){if(nt&&(t==="id"||t==="name")&&(o in s||o in bn))return!1;if(!(w&&!p[t]&&H(Ze,t))){if(!(R&&H(Ue,t))){if(!O[t]||p[t]){if(!(Yt(e)&&(T.tagNameCheck instanceof RegExp&&H(T.tagNameCheck,e)||T.tagNameCheck instanceof Function&&T.tagNameCheck(e))&&(T.attributeNameCheck instanceof RegExp&&H(T.attributeNameCheck,t)||T.attributeNameCheck instanceof Function&&T.attributeNameCheck(t))||t==="is"&&T.allowCustomizedBuiltInElements&&(T.tagNameCheck instanceof RegExp&&H(T.tagNameCheck,o)||T.tagNameCheck instanceof Function&&T.tagNameCheck(o))))return!1}else if(!Oe[t]){if(!H(Je,Xe(o,Re,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&Jn(o,"data:")===0&&ge[e])){if(!(Ae&&!H(_t,Xe(o,Re,"")))){if(o)return!1}}}}}}return!0},Yt=function(e){return e!=="annotation-xml"&&en(e,Fe)},Vt=function(e){ue(x.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||vt(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O,forceKeepAttr:void 0};let h=t.length;for(;h--;){const M=t[h],{name:I,namespaceURI:Y,value:fe}=M,Ye=k(I),At=fe;let P=I==="value"?At:ea(At);if(o.attrName=Ye,o.attrValue=P,o.keepAttr=!0,o.forceKeepAttr=void 0,ue(x.uponSanitizeAttribute,e,o),P=o.attrValue,Ge&&(Ye==="id"||Ye==="name")&&(xe(I,e),P=gt+P),Ie&&H(/((--!?|])>)|<\/(style|title)/i,P)){xe(I,e);continue}if(o.forceKeepAttr)continue;if(!o.keepAttr){xe(I,e);continue}if(!tt&&H(/\/>/i,P)){xe(I,e);continue}K&&rt([Me,Ee,Pe],$t=>{P=Xe(P,$t," ")});const qt=k(e.nodeName);if(!Bt(qt,Ye,P)){xe(I,e);continue}if(d&&typeof B=="object"&&typeof B.getAttributeType=="function"&&!Y)switch(B.getAttributeType(qt,Ye)){case"TrustedHTML":{P=d.createHTML(P);break}case"TrustedScriptURL":{P=d.createScriptURL(P);break}}if(P!==At)try{Y?e.setAttributeNS(Y,I,P):e.setAttribute(I,P),vt(e)?re(e):Jt(n.removed)}catch{xe(I,e)}}ue(x.afterSanitizeAttributes,e,null)},yn=function i(e){let t=null;const o=zt(e);for(ue(x.beforeSanitizeShadowDOM,e,null);t=o.nextNode();)ue(x.uponSanitizeShadowNode,t,null),Wt(t),Vt(t),t.content instanceof g&&i(t.content);ue(x.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,o=null,h=null,M=null;if(Tt=!i,Tt&&(i="<!-->"),typeof i!="string"&&!Gt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw je("dirty is not a string, aborting")}else throw je("toString is not a function");if(!n.isSupported)return i;if(Le||Et(e),n.removed=[],typeof i=="string"&&(Se=!1),Se){if(i.nodeName){const fe=k(i.nodeName);if(!S[fe]||ve[fe])throw je("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof V)t=Ht("<!---->"),o=t.ownerDocument.importNode(i,!0),o.nodeType===Ke.element&&o.nodeName==="BODY"||o.nodeName==="HTML"?t=o:t.appendChild(o);else{if(!le&&!K&&!oe&&i.indexOf("<")===-1)return d&&be?d.createHTML(i):i;if(t=Ht(i),!t)return le?null:be?X:""}t&&ze&&re(t.firstChild);const I=zt(Se?i:t);for(;h=I.nextNode();)Wt(h),Vt(h),h.content instanceof g&&yn(h.content);if(Se)return i;if(le){if(Ne)for(M=mt.call(t.ownerDocument);t.firstChild;)M.appendChild(t.firstChild);else M=t;return(O.shadowroot||O.shadowrootmode)&&(M=pt.call(r,M,!0)),M}let Y=oe?t.outerHTML:t.innerHTML;return oe&&S["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&H(gn,t.ownerDocument.doctype.name)&&(Y="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+Y),K&&rt([Me,Ee,Pe],fe=>{Y=Xe(Y,fe," ")}),d&&be?d.createHTML(Y):Y},n.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Et(i),Le=!0},n.clearConfig=function(){ke=null,Le=!1},n.isValidAttribute=function(i,e,t){ke||Et({});const o=k(i),h=k(e);return Bt(o,h,t)},n.addHook=function(i,e){typeof e=="function"&&$e(x[i],e)},n.removeHook=function(i,e){if(e!==void 0){const t=Kn(x[i],e);return t===-1?void 0:Zn(x[i],t,1)[0]}return Jt(x[i])},n.removeHooks=function(i){x[i]=[]},n.removeAllHooks=function(){x=sn()},n}var _a=Tn();const ga="_stacked_1qhaz_15",ln={"input-sizer":"_input-sizer_1qhaz_1",stacked:ga};var Ta=te('<div><textarea class="svelte-nk8fng"></textarea></div>');function ha(a,n){Ct(n,!0);const[s,r]=xt(),l=()=>ut(Mt,"$_",s);let g=lt(n,"textValue",15),U=lt(n,"debounceTime",3,750),V=lt(n,"typingActive",15,!1),N=null,b=null;const ne=()=>{V(!0),N&&clearTimeout(N),N=setTimeout(()=>{V(!1)},U())};function D(){return typeof window<"u"&&window.innerWidth<=768}function y(){!b||!D()||(b.getBoundingClientRect(),window.scrollTo({top:0,behavior:"smooth"}))}var B=Ta(),A=E(B);kn(A),A.__input=()=>{var C;if(b){if(D())return;(C=b.parentElement)==null||C.setAttribute("data-value",b.value+`
`)}y()},A.__keydown=ne,Yn(A,C=>b=C,()=>b),v(B),pe(C=>{Gn(B,1,`${ln["input-sizer"]} ${ln.stacked}`),Ce(A,"placeholder",C),Ce(A,"name",n.labelId)},[()=>l()("submit_input_placeholder")]),un("focus",A,()=>y()),$n(A,g),$(a,B),wt(),r()}cn(["input","keydown"]);var Ea=te('<label class="svelte-ag4ona"> </label>'),va=(a,n,s)=>{n(),s.handleSubmit()},Aa=te('<div class="checkmark-container svelte-ag4ona"><input type="checkbox" class="svelte-ag4ona"/> <!> <div class="disclaimer-btn-container svelte-ag4ona"><div><button data-variant="primary"> </button></div></div></div>');function ba(a,n){Ct(n,!0);const[s,r]=xt(),l=()=>ut(Mt,"$_",s),{playBlip:g,playtoMap:U}=mn();function V(){g()}let N=lt(n,"checkValue",15,!1);function b(){N(!N())}var ne=Aa(),D=E(ne);Wn(D),D.__change=b;var y=j(D,2);{var B=F=>{var m=Ea(),d=E(m,!0);v(m),pe(X=>{Ce(m,"for",`${n.translateIdForCheckbox}-id`),he(d,X)},[()=>l()(n.translateIdForCheckbox)]),$(F,m)};me(y,F=>{n.hideLabel||F(B)})}var A=j(y,2),C=E(A),_e=E(C);_e.__click=[va,U,n];var ae=E(_e,!0);v(_e),v(C),v(A),v(ne),pe((F,m,d)=>{Bn(D,N()),Ce(D,"id",`${n.translateIdForCheckbox}-id`),Ce(D,"name",F),Ce(D,"aria-label",m),_e.disabled=!N(),he(ae,d)},[()=>l()(n.translateIdForCheckbox),()=>l()(n.translateIdForCheckbox),()=>l()("submit_btn_submit")]),un("keypress",D,F=>{F.key==="Enter"&&(b(),V())}),z(3,A,()=>fn),$(a,ne),wt(),r()}cn(["change","click"]);var Sa=te('<div class="svelte-gp0kvl"></div>'),ya=te('<div class="warning-bubble bubble svelte-gp0kvl"><p class="svelte-gp0kvl"><!></p></div>'),Oa=te('<div class="loader-bubble bubble svelte-gp0kvl"><!></div>'),Ra=te('<div class="suggestions-bubble bubble svelte-gp0kvl"><p class="svelte-gp0kvl"> </p> <br class="svelte-gp0kvl"/> <p class="svelte-gp0kvl"> </p></div>'),Ia=te('<p class="thank-you-bubble bubble svelte-gp0kvl"> </p>'),La=te('<div class="question-container svelte-gp0kvl"><span id="question-label-main" class="svelte-gp0kvl"> </span></div> <div class="input-container svelte-gp0kvl"><!></div> <div class="suggestions-container svelte-gp0kvl"><!> <!> <!> <!> <!></div>',1),Na=te('<div class="disclaimer-container svelte-gp0kvl"><!></div>'),Da=te('<header class="svelte-gp0kvl"><!></header> <div class="card-submit-container svelte-gp0kvl"><div class="card-left-col-container svelte-gp0kvl"><!></div> <div class="actions-container svelte-gp0kvl"><!></div></div> <div class="footer-container svelte-gp0kvl"><!></div>',1);function Va(a,n){Ct(n,!0);const[s,r]=xt(),l=()=>ut(Mt,"$_",s),g=()=>ut(Un,"$locale",s),U=xn("navigation"),{switchToPage:V}=mn();let N=se(null),b=se(null),ne=se(null),D=se(null),y=se(""),B=se(""),A=se(!1),C=se(!1),_e=750,ae=se(!1),F=30,m=se("off"),d=500,X=it();const we=()=>({API_ENDPOINT:"/get_questions",API_METHOD:"POST",REQUEST_BODY:{question_type:"starter"}}),ft=()=>({API_ENDPOINT:"/suggestion",API_METHOD:"POST",REQUEST_BODY:{language:it(),story:c(y)}}),mt=()=>({API_ENDPOINT:"/add_story",API_METHOD:"POST",REQUEST_BODY:{text:_a.sanitize(c(y)),question:c(ne),language:it()}});async function dt(){c(A)===!0&&await bt(mt()).then(p=>{var w;U.setSource("submit");let R=p.story_id||p.id||p.storyId||((w=p.story)==null?void 0:w.id);R&&U.setSubmittedStoryId(R),Fn(Hn("/explore"))}).catch(p=>{qe(l()("error_description_general"),500)})}async function pt(){try{const p=await bt(ft());L(B,p.suggestion,!0),L(m,"ok")}catch{qe(l()("error_description_general"),500)}}async function x(){await bt(we()).then(p=>{L(N,p,!0),Me()}).catch(p=>{qe(l()("error_description_general"),500)})}function Me(){c(N)||qe(l()("error_description_general"),500);const p=Math.floor(Math.random()*c(N).questions.length);L(D,c(N).questions[p],!0),Ee()}function Ee(){if(!c(D)){console.error("Question container is null");return}let p=c(D).find(R=>R.language===X);!p&&X==="North Sámi"&&(p=c(D).find(R=>R.language==="English")),p||(console.error("No suitable question found"),qe(l()("error_description_general"),500)),L(b,p.text,!0),L(ne,p.original_id,!0)}function Pe(){if(c(y).length<=0){L(m,"off"),L(ae,!1);return}if(c(m)==="done"){c(y).length<F&&(L(m,"warning"),L(ae,!1));return}c(C)===!0?c(m)==="ok"?(L(m,"off"),L(ae,!0)):L(m,"off"):c(y).length<F?L(m,"warning"):c(y).length>=F&&c(m)!=="ok"&&c(m)!=="done"&&c(m)!=="loading"&&c(ae)===!1?(L(m,"loading"),pt()):c(m)==="off"&&c(y).length>=F&&c(ae)===!0&&L(m,"done")}Xt(()=>{g(),X=it(),c(N)&&Ee(),Pe()}),Xt(()=>{g(),c(N)&&Ee()}),Cn(()=>{V("submit"),x()});var Ze=Da();wn(p=>{pe((R,w)=>Mn.title=`${R??""} | ${w??""} | Oulu 2026`,[()=>l()("main_title"),()=>l()("main_subtitle")])});var Ue=jt(Ze),_t=E(Ue);zn(_t,{button_text_id:"back",rel_url:"/"}),v(Ue);var Re=j(Ue,2),Fe=E(Re),Je=E(Fe);{var S=p=>{var R=La(),w=jt(R),Ae=E(w),tt=E(Ae,!0);v(Ae),v(w);var K=j(w,2),Ie=E(K);{let _=Pn(()=>l()("submit_input_placeholder",{default:"Your story"}));ha(Ie,{get name(){return c(_)},minHeight:"200px",debounceTime:_e,labelId:"question-label-main",get textValue(){return c(y)},set textValue(u){L(y,u,!0)},get typingActive(){return c(C)},set typingActive(u){L(C,u,!0)}})}v(K);var oe=j(K,2),Le=E(oe);{var ze=_=>{var u=Sa();z(1,u,()=>J,()=>({duration:d})),z(2,u,()=>J,()=>({duration:d})),$(_,u)};me(Le,_=>{c(m)!=="off"&&_(ze)})}var le=j(Le,2);{var Ne=_=>{var u=ya(),q=E(u),ge=E(q);{var ye=Z=>{var ie=Qt();pe(Te=>he(ie,Te),[()=>l()("submit_type_story")]),$(Z,ie)},Oe=Z=>{var ie=Qt();pe(Te=>he(ie,Te),[()=>l()("submit_type_more")]),$(Z,ie)};me(ge,Z=>{c(y).length===0?Z(ye):Z(Oe,!1)})}v(q),v(u),z(1,u,()=>J,()=>({duration:d})),z(2,u,()=>J,()=>({duration:d})),$(_,u)};me(le,_=>{c(m)==="warning"&&_(Ne)})}var be=j(le,2);{var nt=_=>{var u=Oa(),q=E(u);Vn(q,{color:"white",pulseSize:"30px",pulseTiming:"1s"}),v(u),z(1,u,()=>J,()=>({duration:d})),z(2,u,()=>J,()=>({duration:d})),$(_,u)};me(be,_=>{c(m)==="loading"&&_(nt)})}var Ge=j(be,2);{var gt=_=>{var u=Ra(),q=E(u),ge=E(q,!0);v(q);var ye=j(q,4),Oe=E(ye,!0);v(ye),v(u),pe(Z=>{he(ge,Z),he(Oe,c(B))},[()=>l()("submit_please_extend")]),z(1,u,()=>J,()=>({duration:d})),z(2,u,()=>J,()=>({duration:d})),$(_,u)};me(Ge,_=>{c(m)==="ok"&&_(gt)})}var We=j(Ge,2);{var Se=_=>{var u=Ia(),q=E(u,!0);v(u),pe(ge=>he(q,ge),[()=>l()("submit_acknowlegment")]),z(1,u,()=>J,()=>({duration:d})),z(2,u,()=>J,()=>({duration:d})),$(_,u)};me(We,_=>{c(m)==="done"&&_(Se)})}v(oe),pe(()=>he(tt,c(b))),z(1,w,()=>Kt,()=>({duration:d})),z(2,w,()=>Kt,()=>({duration:d})),z(2,K,()=>J,()=>({duration:d})),$(p,R)};me(Je,p=>{c(b)&&p(S)})}v(Fe);var He=j(Fe,2),O=E(He);{var et=p=>{var R=Na(),w=E(R);ba(w,{handleSubmit:dt,translateIdForCheckbox:"submit_disclaimer",hideLabel:!1,get checkValue(){return c(A)},set checkValue(Ae){L(A,Ae,!0)}}),v(R),z(3,R,()=>fn),$(p,R)};me(O,p=>{(c(m)==="done"||c(m)==="ok"||c(ae)===!0)&&c(y).length>F&&p(et)})}v(He),v(Re);var T=j(Re,2),ve=E(T);qn(ve,{}),v(T),$(a,Ze),wt(),r()}export{Va as component};
