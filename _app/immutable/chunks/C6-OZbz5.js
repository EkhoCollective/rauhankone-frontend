var I=i=>{throw TypeError(i)};var B=(i,s,t)=>s.has(i)||I("Cannot "+t);var e=(i,s,t)=>(B(i,s,"read from private field"),t?t.call(i):s.get(i)),o=(i,s,t)=>s.has(i)?I("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,t),a=(i,s,t,n)=>(B(i,s,"write to private field"),n?n.call(i,t):s.set(i,t),t),O=(i,s,t)=>(B(i,s,"access private method"),t);import"./QKJ5TJ9r.js";import{af as j,m as q,w as g,al as F,a7 as G,t as x,O as J,Q as K,T as L,V as N,W as U,R as Z,Y as S}from"./DWjPfROk.js";import{a as $}from"./BGSrkRqh.js";import{p as C}from"./DZx-F48y.js";import{r as _,l as tt}from"./Dcge9CYM.js";import{i as P}from"./vK_o3JBb.js";function E(i,s,t,n){if(typeof t=="number"||P(t)){const h=n-t,r=(t-s)/(i.dt||1/60),p=i.opts.stiffness*h,c=i.opts.damping*r,z=(p-c)*i.inv_mass,w=(r+z)*i.dt;return Math.abs(w)<i.opts.precision&&Math.abs(h)<i.opts.precision?n:(i.settled=!1,P(t)?new Date(t.getTime()+w):t+w)}else{if(Array.isArray(t))return t.map((h,r)=>E(i,s[r],t[r],n[r]));if(typeof t=="object"){const h={};for(const r in t)h[r]=E(i,s[r],t[r],n[r]);return h}else throw new Error(`Cannot spring ${typeof t} values`)}}var l,v,u,f,d,y,M,b,Y,m,k,X,Q;const W=class W{constructor(s,t={}){o(this,X);o(this,l,j(.15));o(this,v,j(.8));o(this,u,j(.01));o(this,f);o(this,d);o(this,y);o(this,M,0);o(this,b,1);o(this,Y,0);o(this,m,null);o(this,k,null);a(this,f,j(s)),a(this,d,j(s)),typeof t.stiffness=="number"&&(e(this,l).v=A(t.stiffness,0,1)),typeof t.damping=="number"&&(e(this,v).v=A(t.damping,0,1)),typeof t.precision=="number"&&(e(this,u).v=t.precision)}static of(s,t){const n=new W(s(),t);return q(()=>{n.set(s())}),n}set(s,t){var h,r;if((h=e(this,k))==null||h.reject(new Error("Aborted")),t!=null&&t.instant||e(this,f).v===void 0)return(r=e(this,m))==null||r.abort(),a(this,m,null),g(e(this,f),g(e(this,d),s)),a(this,y,s),Promise.resolve();t!=null&&t.preserveMomentum&&(a(this,b,0),a(this,Y,t.preserveMomentum));var n=a(this,k,F());return n.promise.catch(G),O(this,X,Q).call(this,s).then(()=>{n===e(this,k)&&n.resolve(void 0)}),n.promise}get current(){return x(e(this,f))}get damping(){return x(e(this,v))}set damping(s){g(e(this,v),A(s,0,1))}get precision(){return x(e(this,u))}set precision(s){g(e(this,u),s)}get stiffness(){return x(e(this,l))}set stiffness(s){g(e(this,l),A(s,0,1))}get target(){return x(e(this,d))}set target(s){this.set(s)}};l=new WeakMap,v=new WeakMap,u=new WeakMap,f=new WeakMap,d=new WeakMap,y=new WeakMap,M=new WeakMap,b=new WeakMap,Y=new WeakMap,m=new WeakMap,k=new WeakMap,X=new WeakSet,Q=function(s){var n;if(g(e(this,d),s),(n=e(this,f)).v??(n.v=s),e(this,y)??a(this,y,e(this,f).v),!e(this,m)){a(this,M,_.now());var t=1e3/(e(this,Y)*60);e(this,m)??a(this,m,tt(h=>{a(this,b,Math.min(e(this,b)+t,1));const r=Math.min(h-e(this,M),1e3/30),p={inv_mass:e(this,b),opts:{stiffness:e(this,l).v,damping:e(this,v).v,precision:e(this,u).v},settled:!0,dt:r*60/1e3};var c=E(p,e(this,y),e(this,f).v,e(this,d).v);return a(this,y,e(this,f).v),a(this,M,h),g(e(this,f),c),p.settled&&a(this,m,null),!p.settled}))}return e(this,m).promise};let T=W;function A(i,s,t){return Math.max(s,Math.min(t,i))}var st=K('<div class="bg-container svelte-5vjthk"><div class="bg-mouse svelte-5vjthk" role="presentation"></div></div>');function ft(i,s){J(s,!0);let t=C(s,"maxMovement",3,100),n=C(s,"stiffness",3,.05),h=C(s,"damping",3,.95),r=new T({x:0,y:0},{stiffness:n(),damping:h()});function p(w){const D=window.innerWidth/2,H=window.innerHeight/2,R=(w.clientX-D)/D,V=(w.clientY-H)/H;r.target={x:R*t(),y:V*t()}}var c=st(),z=Z(c);return S(c),L(()=>$(z,`--x: ${-r.current.x}px; --y: ${-r.current.y}px; background-image: url('${s.bgImage??""}');`)),N(i,c),U({updateCoords:p})}export{ft as B};
