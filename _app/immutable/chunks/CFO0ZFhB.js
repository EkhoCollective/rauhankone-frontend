var $=Object.defineProperty;var I=(s,t,e)=>t in s?$(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>I(s,typeof t!="symbol"?t+"":t,e);import{b as T,E as x,c as P,a4 as W,aj as B,h as k,d as j,R as N,K as q,O as z,aW as V,aM as Z}from"./Bm65ZtBm.js";import{f as O,a as _,t as G}from"./DtfDv_wI.js";import"./C9wcPKOd.js";import{I as S,s as L,L as H}from"./DmlrBdIK.js";import{l as v,s as F}from"./RrunQH75.js";function vt(s,t,...e){var r=s,a=W,i;T(()=>{a!==(a=t())&&(i&&(B(i),i=null),i=P(()=>a(r,...e)))},x),k&&(r=j)}function Ft(s,t){const e=v(t,["children","$$slots","$$events","$$legacy"]);S(s,F({name:"arrow-left"},()=>e,{iconNode:[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]],children:(a,i)=>{var n=O(),o=N(n);L(o,t,"default",{}),_(a,n)},$$slots:{default:!0}}))}function Rt(s,t){const e=v(t,["children","$$slots","$$events","$$legacy"]);S(s,F({name:"x"},()=>e,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,i)=>{var n=O(),o=N(n);L(o,t,"default",{}),_(a,n)},$$slots:{default:!0}}))}var X=G('<div class="loader-container svelte-1513a7f"><!></div>');function Mt(s){var t=X(),e=q(t);H(e,{color:"white",pulseSize:"80px",pulseTiming:"1.5s"}),z(t),_(s,t)}const J=""+new URL("../assets/02_SatelliteMelody.f4bBor3d.mp3",import.meta.url).href,Q=""+new URL("../assets/01_PrinterDroneLow.DDMjtZvF.mp3",import.meta.url).href,Y=""+new URL("../assets/NODE_Bubbling.zqTIbqSW.mp3",import.meta.url).href,K=""+new URL("../assets/NODE_Darkish.8WKA06HO.mp3",import.meta.url).href,tt=""+new URL("../assets/NODE_arcade.DhxQ9UFk.mp3",import.meta.url).href,et=""+new URL("../assets/NODE_birds.Dm0neVI2.mp3",import.meta.url).href,st=""+new URL("../assets/NODE_brighter.CHkWCe5A.mp3",import.meta.url).href,at=""+new URL("../assets/NODE_data1.DBCW0gBM.mp3",import.meta.url).href,nt=""+new URL("../assets/NODE_glitching.CeejhaRN.mp3",import.meta.url).href,rt=""+new URL("../assets/NODE_gritty.B5ZJg2by.mp3",import.meta.url).href,it=""+new URL("../assets/NODE_hollow.CjQL2sN_.mp3",import.meta.url).href,ot=""+new URL("../assets/NODE_hollowLOW.C1dE2Zlq.mp3",import.meta.url).href,lt=""+new URL("../assets/NODE_malletdata.D2rvr4tD.mp3",import.meta.url).href,ct=""+new URL("../assets/NODE_pingpong.CfzltBF5.mp3",import.meta.url).href,ut=""+new URL("../assets/NODE_pointillist.Cuug7_wX.mp3",import.meta.url).href,dt=""+new URL("../assets/NODE_pulsing.pjFZOmbu.mp3",import.meta.url).href,pt=""+new URL("../assets/NODE_resonance.qjxelcau.mp3",import.meta.url).href,mt=""+new URL("../assets/NODE_riser.LWwe3da6.mp3",import.meta.url).href,ht=""+new URL("../assets/NODE_spaceship.Bfu-VL4R.mp3",import.meta.url).href,ft=""+new URL("../assets/NODE_stutterchords.C7YCne3z.mp3",import.meta.url).href,Dt=""+new URL("../assets/NODE_wildlife.AXDLLrMJ.mp3",import.meta.url).href,d=[{title:"SatellliteMelody",src:J,type:"song"},{title:"PrinterDroneLow",src:Q,type:"song"},{title:"NODE_Bubbling",src:Y,type:"cluster"},{title:"NODE_Darkish",src:K,type:"cluster"},{title:"NODE_arcade",src:tt,type:"cluster"},{title:"NODE_birds",src:et,type:"cluster"},{title:"NODE_brighter",src:st,type:"cluster"},{title:"NODE_data1",src:at,type:"cluster"},{title:"NODE_glitching",src:nt,type:"cluster"},{title:"NODE_gritty",src:rt,type:"cluster"},{title:"NODE_hollow",src:it,type:"cluster"},{title:"NODE_hollowLOW",src:ot,type:"cluster"},{title:"NODE_malletdata",src:lt,type:"cluster"},{title:"NODE_pingpong",src:ct,type:"cluster"},{title:"NODE_pointillist",src:ut,type:"cluster"},{title:"NODE_pulsing",src:dt,type:"cluster"},{title:"NODE_resonance",src:pt,type:"cluster"},{title:"NODE_riser",src:mt,type:"cluster"},{title:"NODE_spaceship",src:ht,type:"cluster"},{title:"NODE_stutterchords",src:ft,type:"cluster"},{title:"NODE_wildlife",src:Dt,type:"cluster"}],Et={isGloballyMuted:!0,playingState:"paused",currentSong:null,globalVolume:.3},u=V(Et),bt={setMuted:s=>{u.update(t=>({...t,isGloballyMuted:s}))},setPlayingState:s=>{u.update(t=>({...t,playingState:s}))},setCurrentSong:s=>{u.update(t=>({...t,currentSong:s}))},setVolume:s=>{u.update(t=>({...t,globalVolume:Math.max(0,Math.min(1,s))}))}};class wt{constructor(){c(this,"activeFades",new Map)}async fadeTo(t,e,r={}){const{duration:a=500,onComplete:i}=r;this.cancelFade(t),isFinite(e)||(console.warn("Invalid target volume:",e,"defaulting to 0"),e=0),(!isFinite(a)||a<=0)&&(console.warn("Invalid duration:",a,"defaulting to 500"),r.duration=500),e=Math.max(0,Math.min(1,e));const n=isFinite(t.volume)?t.volume:0,o=e-n;if(Math.abs(o)<.001){i==null||i();return}const m=performance.now();return new Promise(R=>{const y=b=>{const C=b-m,h=Math.min(C/a,1);let f;e>n?f=Math.pow(h,.5):f=1-Math.pow(1-h,2);const g=n+o*f,A=Math.max(0,Math.min(1,isFinite(g)?g:0));if(t.volume=A,h<1){const U=requestAnimationFrame(y);this.activeFades.set(t,U)}else t.volume=e,this.activeFades.delete(t),i==null||i(),R()},M=requestAnimationFrame(y);this.activeFades.set(t,M)})}async fadeIn(t,e=.3,r=500){return isFinite(e)||(e=.3),(!isFinite(r)||r<=0)&&(r=500),t.volume=0,this.fadeTo(t,e,{duration:r})}async fadeOut(t,e=500){return(!isFinite(e)||e<=0)&&(e=500),this.fadeTo(t,0,{duration:e,onComplete:()=>{t.pause()}})}cancelFade(t){const e=this.activeFades.get(t);e&&(cancelAnimationFrame(e),this.activeFades.delete(t))}cancelAllFades(){this.activeFades.forEach(t=>{cancelAnimationFrame(t)}),this.activeFades.clear()}}const D=new wt,l=class l{constructor(){c(this,"soundCache",new Map);c(this,"playingSounds",new Set)}static getInstance(){return l.instance||(l.instance=new l),l.instance}async playEffect(t,e){if(!Z(u).isGloballyMuted)try{let a;const i=d.findIndex(m=>m.title===t);i!==-1?a=d[i].src:a=t;let n=this.soundCache.get(t);n||(n=new Audio(a),n.preload="auto",this.soundCache.set(t,n));const o=e!==void 0?e:w;n.currentTime=0,this.playingSounds.add(n),n.addEventListener("ended",()=>{this.playingSounds.delete(n)},{once:!0}),n.volume=0,await n.play(),await D.fadeIn(n,o,p*.3)}catch(a){console.warn("Failed to play sound effect:",a)}}async stopEffect(t){const e=this.soundCache.get(t);e&&this.playingSounds.has(e)&&(await D.fadeOut(e,p*.2),e.currentTime=0,this.playingSounds.delete(e))}stopAllEffects(){this.playingSounds.forEach(t=>{D.cancelFade(t),t.pause(),t.currentTime=0}),this.playingSounds.clear()}preloadSounds(t){t.forEach(e=>{const r=d.findIndex(a=>a.title===e);if(r!==-1){const a=new Audio(d[r].src);a.preload="auto",this.soundCache.set(e,a)}})}clearCache(){this.stopAllEffects(),this.soundCache.forEach(t=>{t.pause(),t.src=""}),this.soundCache.clear()}};c(l,"instance");let E=l;const Ct=E.getInstance(),_t={INSTANT:0,FAST:250,NORMAL:500,SLOW:1e3,VERY_SLOW:2e3};let p=500,w=1;const At={setFadeDuration:s=>{p=typeof s=="number"?s:_t[s]},getFadeDuration:()=>p,setClusterVolume:s=>{w=Math.max(0,Math.min(1,s))},getClusterVolume:()=>w};export{Ft as A,Mt as C,Rt as X,u as a,bt as b,D as c,At as d,vt as e,Ct as s,d as t};
