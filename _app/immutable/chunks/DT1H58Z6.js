const f="en",d=["en","fi","sv","sa"],h="PARAGLIDE_LOCALE";const w=["url","cookie","baseLocale"];globalThis.__paraglide={};let u=!1,r=()=>{let e;for(const o of w)if(o==="cookie"?e=y():o==="baseLocale"?e=f:o==="url"&&typeof window<"u"&&(e=g(window.location.href)),e!==void 0){const t=p(e);return u||(u=!0,L(t,{reload:!1})),t}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")},L=(e,o)=>{const t={reload:!0,...o};let n;try{n=r()}catch{}let l;for(const a of w)if(a==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const m=window.location.hostname;document.cookie=`${h}=${e}; path=/; max-age=34560000; domain=${m}`}else{if(a==="baseLocale")continue;a==="url"&&typeof window<"u"&&(l=c(window.location.href,{locale:e}).href)}t.reload&&window.location&&e!==n&&(l?window.location.href=l:window.location.reload())},s=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function i(e){return e?d.includes(e):!1}function p(e){if(i(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${d.join(", ")}`);return e}function y(){if(typeof document>"u"||!document.cookie)return;const e=document.cookie.match(new RegExp(`(^| )${h}=([^;]+)`)),o=e==null?void 0:e[2];if(i(o))return o}function g(e){return U(e)}function U(e){const t=new URL(e,"http://dummy.com").pathname.split("/").filter(Boolean);if(t.length>0){const n=t[0];if(i(n))return n}return f}function c(e,o){return b(e,o)}function b(e,o){const t=typeof e=="string"?new URL(e,s()):new URL(e),n=(o==null?void 0:o.locale)??r();if(g(t)===n)return t;const a=t.pathname.split("/").filter(Boolean);return a.length>0&&i(a[0])&&a.shift(),n===f?t.pathname="/"+a.join("/"):t.pathname="/"+n+"/"+a.join("/"),t}function x(e){return k(e)}function k(e){const o=typeof e=="string"?new URL(e,s()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&i(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}function R(e,o){const t=(o==null?void 0:o.locale)??r(),n=new URL(e,s()),l=c(n,o);return e.startsWith("/")&&n.origin===l.origin?t!==r()&&c(n,{locale:r()}).origin!==l.origin?l.href:l.pathname+l.search+l.hash:l.href}export{R as a,x as d,r as g,d as l,L as s};
